var g1=Object.defineProperty;var m1=(t,e,n)=>e in t?g1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Qr=(t,e,n)=>(m1(t,typeof e!="symbol"?e+"":e,n),n);function ym(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var wm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sm={exports:{}},Nl={},bm={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zs=Symbol.for("react.element"),v1=Symbol.for("react.portal"),y1=Symbol.for("react.fragment"),w1=Symbol.for("react.strict_mode"),S1=Symbol.for("react.profiler"),b1=Symbol.for("react.provider"),E1=Symbol.for("react.context"),C1=Symbol.for("react.forward_ref"),T1=Symbol.for("react.suspense"),x1=Symbol.for("react.memo"),R1=Symbol.for("react.lazy"),jf=Symbol.iterator;function $1(t){return t===null||typeof t!="object"?null:(t=jf&&t[jf]||t["@@iterator"],typeof t=="function"?t:null)}var Em={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cm=Object.assign,Tm={};function xo(t,e,n){this.props=t,this.context=e,this.refs=Tm,this.updater=n||Em}xo.prototype.isReactComponent={};xo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xm(){}xm.prototype=xo.prototype;function jd(t,e,n){this.props=t,this.context=e,this.refs=Tm,this.updater=n||Em}var Fd=jd.prototype=new xm;Fd.constructor=jd;Cm(Fd,xo.prototype);Fd.isPureReactComponent=!0;var Ff=Array.isArray,Rm=Object.prototype.hasOwnProperty,qd={current:null},$m={key:!0,ref:!0,__self:!0,__source:!0};function km(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Rm.call(e,r)&&!$m.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zs,type:t,key:o,ref:s,props:i,_owner:qd.current}}function k1(t,e){return{$$typeof:zs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zd(t){return typeof t=="object"&&t!==null&&t.$$typeof===zs}function I1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qf=/\/+/g;function _c(t,e){return typeof t=="object"&&t!==null&&t.key!=null?I1(""+t.key):e.toString(36)}function Na(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case zs:case v1:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+_c(s,0):r,Ff(i)?(n="",t!=null&&(n=t.replace(qf,"$&/")+"/"),Na(i,e,n,"",function(c){return c})):i!=null&&(zd(i)&&(i=k1(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(qf,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Ff(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+_c(o,a);s+=Na(o,e,n,l,i)}else if(l=$1(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+_c(o,a++),s+=Na(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ua(t,e,n){if(t==null)return t;var r=[],i=0;return Na(t,r,"","",function(o){return e.call(n,o,i++)}),r}function P1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var At={current:null},Ma={transition:null},D1={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:Ma,ReactCurrentOwner:qd};we.Children={map:ua,forEach:function(t,e,n){ua(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ua(t,function(){e++}),e},toArray:function(t){return ua(t,function(e){return e})||[]},only:function(t){if(!zd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=xo;we.Fragment=y1;we.Profiler=S1;we.PureComponent=jd;we.StrictMode=w1;we.Suspense=T1;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D1;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Cm({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=qd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Rm.call(e,l)&&!$m.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:zs,type:t.type,key:i,ref:o,props:r,_owner:s}};we.createContext=function(t){return t={$$typeof:E1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:b1,_context:t},t.Consumer=t};we.createElement=km;we.createFactory=function(t){var e=km.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:C1,render:t}};we.isValidElement=zd;we.lazy=function(t){return{$$typeof:R1,_payload:{_status:-1,_result:t},_init:P1}};we.memo=function(t,e){return{$$typeof:x1,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Ma.transition;Ma.transition={};try{t()}finally{Ma.transition=e}};we.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};we.useCallback=function(t,e){return At.current.useCallback(t,e)};we.useContext=function(t){return At.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return At.current.useDeferredValue(t)};we.useEffect=function(t,e){return At.current.useEffect(t,e)};we.useId=function(){return At.current.useId()};we.useImperativeHandle=function(t,e,n){return At.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return At.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return At.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return At.current.useMemo(t,e)};we.useReducer=function(t,e,n){return At.current.useReducer(t,e,n)};we.useRef=function(t){return At.current.useRef(t)};we.useState=function(t){return At.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return At.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return At.current.useTransition()};we.version="18.2.0";bm.exports=we;var S=bm.exports;const C=qs(S),Bd=ym({__proto__:null,default:C},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1=S,A1=Symbol.for("react.element"),N1=Symbol.for("react.fragment"),M1=Object.prototype.hasOwnProperty,O1=_1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L1={key:!0,ref:!0,__self:!0,__source:!0};function Im(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)M1.call(e,r)&&!L1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:A1,type:t,key:o,ref:s,props:i,_owner:O1.current}}Nl.Fragment=N1;Nl.jsx=Im;Nl.jsxs=Im;Sm.exports=Nl;var W=Sm.exports,Cu={},Pm={exports:{}},en={},Dm={exports:{}},_m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,M){var z=I.length;I.push(M);e:for(;0<z;){var Y=z-1>>>1,X=I[Y];if(0<i(X,M))I[Y]=M,I[z]=X,z=Y;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var M=I[0],z=I.pop();if(z!==M){I[0]=z;e:for(var Y=0,X=I.length,ae=X>>>1;Y<ae;){var le=2*(Y+1)-1,fe=I[le],ve=le+1,me=I[ve];if(0>i(fe,z))ve<X&&0>i(me,fe)?(I[Y]=me,I[ve]=z,Y=ve):(I[Y]=fe,I[le]=z,Y=le);else if(ve<X&&0>i(me,z))I[Y]=me,I[ve]=z,Y=ve;else break e}}return M}function i(I,M){var z=I.sortIndex-M.sortIndex;return z!==0?z:I.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,p=3,g=!1,y=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=I)r(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(c)}}function T(I){if(v=!1,w(I),!y)if(n(l)!==null)y=!0,N(x);else{var M=n(c);M!==null&&D(T,M.startTime-I)}}function x(I,M){y=!1,v&&(v=!1,f($),$=-1),g=!0;var z=p;try{for(w(M),d=n(l);d!==null&&(!(d.expirationTime>M)||I&&!_());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,p=d.priorityLevel;var X=Y(d.expirationTime<=M);M=t.unstable_now(),typeof X=="function"?d.callback=X:d===n(l)&&r(l),w(M)}else r(l);d=n(l)}if(d!==null)var ae=!0;else{var le=n(c);le!==null&&D(T,le.startTime-M),ae=!1}return ae}finally{d=null,p=z,g=!1}}var h=!1,R=null,$=-1,O=5,E=-1;function _(){return!(t.unstable_now()-E<O)}function P(){if(R!==null){var I=t.unstable_now();E=I;var M=!0;try{M=R(!0,I)}finally{M?k():(h=!1,R=null)}}else h=!1}var k;if(typeof m=="function")k=function(){m(P)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,L=F.port2;F.port1.onmessage=P,k=function(){L.postMessage(null)}}else k=function(){b(P,0)};function N(I){R=I,h||(h=!0,k())}function D(I,M){$=b(function(){I(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,N(x))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(p){case 1:case 2:case 3:var M=3;break;default:M=p}var z=p;p=M;try{return I()}finally{p=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,M){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var z=p;p=I;try{return M()}finally{p=z}},t.unstable_scheduleCallback=function(I,M,z){var Y=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Y+z:Y):z=Y,I){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=z+X,I={id:u++,callback:M,priorityLevel:I,startTime:z,expirationTime:X,sortIndex:-1},z>Y?(I.sortIndex=z,e(c,I),n(l)===null&&I===n(c)&&(v?(f($),$=-1):v=!0,D(T,z-Y))):(I.sortIndex=X,e(l,I),y||g||(y=!0,N(x))),I},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(I){var M=p;return function(){var z=p;p=M;try{return I.apply(this,arguments)}finally{p=z}}}})(_m);Dm.exports=_m;var H1=Dm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am=S,Qt=H1;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nm=new Set,ys={};function Ei(t,e){uo(t,e),uo(t+"Capture",e)}function uo(t,e){for(ys[t]=e,t=0;t<e.length;t++)Nm.add(e[t])}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tu=Object.prototype.hasOwnProperty,j1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zf={},Bf={};function F1(t){return Tu.call(Bf,t)?!0:Tu.call(zf,t)?!1:j1.test(t)?Bf[t]=!0:(zf[t]=!0,!1)}function q1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function z1(t,e,n,r){if(e===null||typeof e>"u"||q1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ud=/[\-:]([a-z])/g;function Vd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ud,Vd);bt[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ud,Vd);bt[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ud,Vd);bt[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wd(t,e,n,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(z1(e,n,i,r)&&(n=null),r||i===null?F1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var lr=Am.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,da=Symbol.for("react.element"),Hi=Symbol.for("react.portal"),ji=Symbol.for("react.fragment"),Gd=Symbol.for("react.strict_mode"),xu=Symbol.for("react.profiler"),Mm=Symbol.for("react.provider"),Om=Symbol.for("react.context"),Yd=Symbol.for("react.forward_ref"),Ru=Symbol.for("react.suspense"),$u=Symbol.for("react.suspense_list"),Kd=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),Lm=Symbol.for("react.offscreen"),Uf=Symbol.iterator;function Mo(t){return t===null||typeof t!="object"?null:(t=Uf&&t[Uf]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,Ac;function Qo(t){if(Ac===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ac=e&&e[1]||""}return`
`+Ac+t}var Nc=!1;function Mc(t,e){if(!t||Nc)return"";Nc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Nc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qo(t):""}function B1(t){switch(t.tag){case 5:return Qo(t.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return t=Mc(t.type,!1),t;case 11:return t=Mc(t.type.render,!1),t;case 1:return t=Mc(t.type,!0),t;default:return""}}function ku(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ji:return"Fragment";case Hi:return"Portal";case xu:return"Profiler";case Gd:return"StrictMode";case Ru:return"Suspense";case $u:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Om:return(t.displayName||"Context")+".Consumer";case Mm:return(t._context.displayName||"Context")+".Provider";case Yd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kd:return e=t.displayName||null,e!==null?e:ku(t.type)||"Memo";case br:e=t._payload,t=t._init;try{return ku(t(e))}catch{}}return null}function U1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ku(e);case 8:return e===Gd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function V1(t){var e=Hm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ha(t){t._valueTracker||(t._valueTracker=V1(t))}function jm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Hm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Iu(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=jr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Fm(t,e){e=e.checked,e!=null&&Wd(t,"checked",e,!1)}function Pu(t,e){Fm(t,e);var n=jr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Du(t,e.type,n):e.hasOwnProperty("defaultValue")&&Du(t,e.type,jr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Du(t,e,n){(e!=="number"||Xa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jo=Array.isArray;function Ji(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _u(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(Jo(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jr(n)}}function qm(t,e){var n=jr(e.value),r=jr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Yf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Au(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fa,Bm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fa=fa||document.createElement("div"),fa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ws(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W1=["Webkit","ms","Moz","O"];Object.keys(is).forEach(function(t){W1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),is[e]=is[t]})});function Um(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||is.hasOwnProperty(t)&&is[t]?(""+e).trim():e+"px"}function Vm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Um(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var G1=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nu(t,e){if(e){if(G1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Mu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=null;function Zd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lu=null,eo=null,to=null;function Kf(t){if(t=Vs(t)){if(typeof Lu!="function")throw Error(G(280));var e=t.stateNode;e&&(e=jl(e),Lu(t.stateNode,t.type,e))}}function Wm(t){eo?to?to.push(t):to=[t]:eo=t}function Gm(){if(eo){var t=eo,e=to;if(to=eo=null,Kf(t),e)for(t=0;t<e.length;t++)Kf(e[t])}}function Ym(t,e){return t(e)}function Km(){}var Oc=!1;function Zm(t,e,n){if(Oc)return t(e,n);Oc=!0;try{return Ym(t,e,n)}finally{Oc=!1,(eo!==null||to!==null)&&(Km(),Gm())}}function Ss(t,e){var n=t.stateNode;if(n===null)return null;var r=jl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Hu=!1;if(rr)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){Hu=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{Hu=!1}function Y1(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var os=!1,Qa=null,Ja=!1,ju=null,K1={onError:function(t){os=!0,Qa=t}};function Z1(t,e,n,r,i,o,s,a,l){os=!1,Qa=null,Y1.apply(K1,arguments)}function X1(t,e,n,r,i,o,s,a,l){if(Z1.apply(this,arguments),os){if(os){var c=Qa;os=!1,Qa=null}else throw Error(G(198));Ja||(Ja=!0,ju=c)}}function Ci(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zf(t){if(Ci(t)!==t)throw Error(G(188))}function Q1(t){var e=t.alternate;if(!e){if(e=Ci(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Zf(i),t;if(o===r)return Zf(i),e;o=o.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function Qm(t){return t=Q1(t),t!==null?Jm(t):null}function Jm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jm(t);if(e!==null)return e;t=t.sibling}return null}var ev=Qt.unstable_scheduleCallback,Xf=Qt.unstable_cancelCallback,J1=Qt.unstable_shouldYield,eS=Qt.unstable_requestPaint,Je=Qt.unstable_now,tS=Qt.unstable_getCurrentPriorityLevel,Xd=Qt.unstable_ImmediatePriority,tv=Qt.unstable_UserBlockingPriority,el=Qt.unstable_NormalPriority,nS=Qt.unstable_LowPriority,nv=Qt.unstable_IdlePriority,Ml=null,qn=null;function rS(t){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(Ml,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:sS,iS=Math.log,oS=Math.LN2;function sS(t){return t>>>=0,t===0?32:31-(iS(t)/oS|0)|0}var pa=64,ga=4194304;function es(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=es(a):(o&=s,o!==0&&(r=es(o)))}else s=n&~i,s!==0?r=es(s):o!==0&&(r=es(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$n(e),i=1<<n,r|=t[n],e&=~i;return r}function aS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-$n(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=aS(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Fu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rv(){var t=pa;return pa<<=1,!(pa&4194240)&&(pa=64),t}function Lc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=n}function cS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$n(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Qd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pe=0;function iv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ov,Jd,sv,av,lv,qu=!1,ma=[],Pr=null,Dr=null,_r=null,bs=new Map,Es=new Map,Cr=[],uS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qf(t,e){switch(t){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":bs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(e.pointerId)}}function Lo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Vs(e),e!==null&&Jd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dS(t,e,n,r,i){switch(e){case"focusin":return Pr=Lo(Pr,t,e,n,r,i),!0;case"dragenter":return Dr=Lo(Dr,t,e,n,r,i),!0;case"mouseover":return _r=Lo(_r,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return bs.set(o,Lo(bs.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Es.set(o,Lo(Es.get(o)||null,t,e,n,r,i)),!0}return!1}function cv(t){var e=ni(t.target);if(e!==null){var n=Ci(e);if(n!==null){if(e=n.tag,e===13){if(e=Xm(n),e!==null){t.blockedOn=e,lv(t.priority,function(){sv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ou=r,n.target.dispatchEvent(r),Ou=null}else return e=Vs(n),e!==null&&Jd(e),t.blockedOn=n,!1;e.shift()}return!0}function Jf(t,e,n){Oa(t)&&n.delete(e)}function hS(){qu=!1,Pr!==null&&Oa(Pr)&&(Pr=null),Dr!==null&&Oa(Dr)&&(Dr=null),_r!==null&&Oa(_r)&&(_r=null),bs.forEach(Jf),Es.forEach(Jf)}function Ho(t,e){t.blockedOn===e&&(t.blockedOn=null,qu||(qu=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,hS)))}function Cs(t){function e(i){return Ho(i,t)}if(0<ma.length){Ho(ma[0],t);for(var n=1;n<ma.length;n++){var r=ma[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Pr!==null&&Ho(Pr,t),Dr!==null&&Ho(Dr,t),_r!==null&&Ho(_r,t),bs.forEach(e),Es.forEach(e),n=0;n<Cr.length;n++)r=Cr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cr.length&&(n=Cr[0],n.blockedOn===null);)cv(n),n.blockedOn===null&&Cr.shift()}var no=lr.ReactCurrentBatchConfig,nl=!0;function fS(t,e,n,r){var i=Pe,o=no.transition;no.transition=null;try{Pe=1,eh(t,e,n,r)}finally{Pe=i,no.transition=o}}function pS(t,e,n,r){var i=Pe,o=no.transition;no.transition=null;try{Pe=4,eh(t,e,n,r)}finally{Pe=i,no.transition=o}}function eh(t,e,n,r){if(nl){var i=zu(t,e,n,r);if(i===null)Gc(t,e,r,rl,n),Qf(t,r);else if(dS(i,t,e,n,r))r.stopPropagation();else if(Qf(t,r),e&4&&-1<uS.indexOf(t)){for(;i!==null;){var o=Vs(i);if(o!==null&&ov(o),o=zu(t,e,n,r),o===null&&Gc(t,e,r,rl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Gc(t,e,r,null,n)}}var rl=null;function zu(t,e,n,r){if(rl=null,t=Zd(r),t=ni(t),t!==null)if(e=Ci(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rl=t,null}function uv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tS()){case Xd:return 1;case tv:return 4;case el:case nS:return 16;case nv:return 536870912;default:return 16}default:return 16}}var Rr=null,th=null,La=null;function dv(){if(La)return La;var t,e=th,n=e.length,r,i="value"in Rr?Rr.value:Rr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return La=i.slice(t,1<r?1-r:void 0)}function Ha(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function va(){return!0}function ep(){return!1}function tn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?va:ep,this.isPropagationStopped=ep,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=va)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=va)},persist:function(){},isPersistent:va}),e}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nh=tn(Ro),Us=Ge({},Ro,{view:0,detail:0}),gS=tn(Us),Hc,jc,jo,Ol=Ge({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jo&&(jo&&t.type==="mousemove"?(Hc=t.screenX-jo.screenX,jc=t.screenY-jo.screenY):jc=Hc=0,jo=t),Hc)},movementY:function(t){return"movementY"in t?t.movementY:jc}}),tp=tn(Ol),mS=Ge({},Ol,{dataTransfer:0}),vS=tn(mS),yS=Ge({},Us,{relatedTarget:0}),Fc=tn(yS),wS=Ge({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),SS=tn(wS),bS=Ge({},Ro,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ES=tn(bS),CS=Ge({},Ro,{data:0}),np=tn(CS),TS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $S(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RS[t])?!!e[t]:!1}function rh(){return $S}var kS=Ge({},Us,{key:function(t){if(t.key){var e=TS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ha(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(t){return t.type==="keypress"?Ha(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ha(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IS=tn(kS),PS=Ge({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rp=tn(PS),DS=Ge({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),_S=tn(DS),AS=Ge({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),NS=tn(AS),MS=Ge({},Ol,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OS=tn(MS),LS=[9,13,27,32],ih=rr&&"CompositionEvent"in window,ss=null;rr&&"documentMode"in document&&(ss=document.documentMode);var HS=rr&&"TextEvent"in window&&!ss,hv=rr&&(!ih||ss&&8<ss&&11>=ss),ip=String.fromCharCode(32),op=!1;function fv(t,e){switch(t){case"keyup":return LS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fi=!1;function jS(t,e){switch(t){case"compositionend":return pv(e);case"keypress":return e.which!==32?null:(op=!0,ip);case"textInput":return t=e.data,t===ip&&op?null:t;default:return null}}function FS(t,e){if(Fi)return t==="compositionend"||!ih&&fv(t,e)?(t=dv(),La=th=Rr=null,Fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hv&&e.locale!=="ko"?null:e.data;default:return null}}var qS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qS[t.type]:e==="textarea"}function gv(t,e,n,r){Wm(r),e=il(e,"onChange"),0<e.length&&(n=new nh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var as=null,Ts=null;function zS(t){Rv(t,0)}function Ll(t){var e=Bi(t);if(jm(e))return t}function BS(t,e){if(t==="change")return e}var mv=!1;if(rr){var qc;if(rr){var zc="oninput"in document;if(!zc){var ap=document.createElement("div");ap.setAttribute("oninput","return;"),zc=typeof ap.oninput=="function"}qc=zc}else qc=!1;mv=qc&&(!document.documentMode||9<document.documentMode)}function lp(){as&&(as.detachEvent("onpropertychange",vv),Ts=as=null)}function vv(t){if(t.propertyName==="value"&&Ll(Ts)){var e=[];gv(e,Ts,t,Zd(t)),Zm(zS,e)}}function US(t,e,n){t==="focusin"?(lp(),as=e,Ts=n,as.attachEvent("onpropertychange",vv)):t==="focusout"&&lp()}function VS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ll(Ts)}function WS(t,e){if(t==="click")return Ll(e)}function GS(t,e){if(t==="input"||t==="change")return Ll(e)}function YS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:YS;function xs(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Tu.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function cp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function up(t,e){var n=cp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cp(n)}}function yv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wv(){for(var t=window,e=Xa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xa(t.document)}return e}function oh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function KS(t){var e=wv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yv(n.ownerDocument.documentElement,n)){if(r!==null&&oh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=up(n,o);var s=up(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZS=rr&&"documentMode"in document&&11>=document.documentMode,qi=null,Bu=null,ls=null,Uu=!1;function dp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uu||qi==null||qi!==Xa(r)||(r=qi,"selectionStart"in r&&oh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ls&&xs(ls,r)||(ls=r,r=il(Bu,"onSelect"),0<r.length&&(e=new nh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qi)))}function ya(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zi={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},Bc={},Sv={};rr&&(Sv=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function Hl(t){if(Bc[t])return Bc[t];if(!zi[t])return t;var e=zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Sv)return Bc[t]=e[n];return t}var bv=Hl("animationend"),Ev=Hl("animationiteration"),Cv=Hl("animationstart"),Tv=Hl("transitionend"),xv=new Map,hp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(t,e){xv.set(t,e),Ei(e,[t])}for(var Uc=0;Uc<hp.length;Uc++){var Vc=hp[Uc],XS=Vc.toLowerCase(),QS=Vc[0].toUpperCase()+Vc.slice(1);Wr(XS,"on"+QS)}Wr(bv,"onAnimationEnd");Wr(Ev,"onAnimationIteration");Wr(Cv,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(Tv,"onTransitionEnd");uo("onMouseEnter",["mouseout","mouseover"]);uo("onMouseLeave",["mouseout","mouseover"]);uo("onPointerEnter",["pointerout","pointerover"]);uo("onPointerLeave",["pointerout","pointerover"]);Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ts));function fp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,X1(r,e,void 0,t),t.currentTarget=null}function Rv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;fp(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;fp(i,a,c),o=l}}}if(Ja)throw t=ju,Ja=!1,ju=null,t}function je(t,e){var n=e[Ku];n===void 0&&(n=e[Ku]=new Set);var r=t+"__bubble";n.has(r)||($v(e,t,2,!1),n.add(r))}function Wc(t,e,n){var r=0;e&&(r|=4),$v(n,t,r,e)}var wa="_reactListening"+Math.random().toString(36).slice(2);function Rs(t){if(!t[wa]){t[wa]=!0,Nm.forEach(function(n){n!=="selectionchange"&&(JS.has(n)||Wc(n,!1,t),Wc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wa]||(e[wa]=!0,Wc("selectionchange",!1,e))}}function $v(t,e,n,r){switch(uv(e)){case 1:var i=fS;break;case 4:i=pS;break;default:i=eh}n=i.bind(null,e,n,t),i=void 0,!Hu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ni(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Zm(function(){var c=o,u=Zd(n),d=[];e:{var p=xv.get(t);if(p!==void 0){var g=nh,y=t;switch(t){case"keypress":if(Ha(n)===0)break e;case"keydown":case"keyup":g=IS;break;case"focusin":y="focus",g=Fc;break;case"focusout":y="blur",g=Fc;break;case"beforeblur":case"afterblur":g=Fc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_S;break;case bv:case Ev:case Cv:g=SS;break;case Tv:g=NS;break;case"scroll":g=gS;break;case"wheel":g=OS;break;case"copy":case"cut":case"paste":g=ES;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=rp}var v=(e&4)!==0,b=!v&&t==="scroll",f=v?p!==null?p+"Capture":null:p;v=[];for(var m=c,w;m!==null;){w=m;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,f!==null&&(T=Ss(m,f),T!=null&&v.push($s(m,T,w)))),b)break;m=m.return}0<v.length&&(p=new g(p,y,null,n,u),d.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Ou&&(y=n.relatedTarget||n.fromElement)&&(ni(y)||y[ir]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=c,y=y?ni(y):null,y!==null&&(b=Ci(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=c),g!==y)){if(v=tp,T="onMouseLeave",f="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=rp,T="onPointerLeave",f="onPointerEnter",m="pointer"),b=g==null?p:Bi(g),w=y==null?p:Bi(y),p=new v(T,m+"leave",g,n,u),p.target=b,p.relatedTarget=w,T=null,ni(u)===c&&(v=new v(f,m+"enter",y,n,u),v.target=w,v.relatedTarget=b,T=v),b=T,g&&y)t:{for(v=g,f=y,m=0,w=v;w;w=Ai(w))m++;for(w=0,T=f;T;T=Ai(T))w++;for(;0<m-w;)v=Ai(v),m--;for(;0<w-m;)f=Ai(f),w--;for(;m--;){if(v===f||f!==null&&v===f.alternate)break t;v=Ai(v),f=Ai(f)}v=null}else v=null;g!==null&&pp(d,p,g,v,!1),y!==null&&b!==null&&pp(d,b,y,v,!0)}}e:{if(p=c?Bi(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var x=BS;else if(sp(p))if(mv)x=GS;else{x=VS;var h=US}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(x=WS);if(x&&(x=x(t,c))){gv(d,x,n,u);break e}h&&h(t,p,c),t==="focusout"&&(h=p._wrapperState)&&h.controlled&&p.type==="number"&&Du(p,"number",p.value)}switch(h=c?Bi(c):window,t){case"focusin":(sp(h)||h.contentEditable==="true")&&(qi=h,Bu=c,ls=null);break;case"focusout":ls=Bu=qi=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,dp(d,n,u);break;case"selectionchange":if(ZS)break;case"keydown":case"keyup":dp(d,n,u)}var R;if(ih)e:{switch(t){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Fi?fv(t,n)&&($="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(hv&&n.locale!=="ko"&&(Fi||$!=="onCompositionStart"?$==="onCompositionEnd"&&Fi&&(R=dv()):(Rr=u,th="value"in Rr?Rr.value:Rr.textContent,Fi=!0)),h=il(c,$),0<h.length&&($=new np($,t,null,n,u),d.push({event:$,listeners:h}),R?$.data=R:(R=pv(n),R!==null&&($.data=R)))),(R=HS?jS(t,n):FS(t,n))&&(c=il(c,"onBeforeInput"),0<c.length&&(u=new np("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=R))}Rv(d,e)})}function $s(t,e,n){return{instance:t,listener:e,currentTarget:n}}function il(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ss(t,n),o!=null&&r.unshift($s(t,o,i)),o=Ss(t,e),o!=null&&r.push($s(t,o,i))),t=t.return}return r}function Ai(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pp(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ss(n,o),l!=null&&s.unshift($s(n,l,a))):i||(l=Ss(n,o),l!=null&&s.push($s(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var eb=/\r\n?/g,tb=/\u0000|\uFFFD/g;function gp(t){return(typeof t=="string"?t:""+t).replace(eb,`
`).replace(tb,"")}function Sa(t,e,n){if(e=gp(e),gp(t)!==e&&n)throw Error(G(425))}function ol(){}var Vu=null,Wu=null;function Gu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yu=typeof setTimeout=="function"?setTimeout:void 0,nb=typeof clearTimeout=="function"?clearTimeout:void 0,mp=typeof Promise=="function"?Promise:void 0,rb=typeof queueMicrotask=="function"?queueMicrotask:typeof mp<"u"?function(t){return mp.resolve(null).then(t).catch(ib)}:Yu;function ib(t){setTimeout(function(){throw t})}function Yc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cs(e)}function Ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $o=Math.random().toString(36).slice(2),jn="__reactFiber$"+$o,ks="__reactProps$"+$o,ir="__reactContainer$"+$o,Ku="__reactEvents$"+$o,ob="__reactListeners$"+$o,sb="__reactHandles$"+$o;function ni(t){var e=t[jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ir]||n[jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vp(t);t!==null;){if(n=t[jn])return n;t=vp(t)}return e}t=n,n=t.parentNode}return null}function Vs(t){return t=t[jn]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function jl(t){return t[ks]||null}var Zu=[],Ui=-1;function Gr(t){return{current:t}}function Fe(t){0>Ui||(t.current=Zu[Ui],Zu[Ui]=null,Ui--)}function Oe(t,e){Ui++,Zu[Ui]=t.current,t.current=e}var Fr={},kt=Gr(Fr),Ft=Gr(!1),pi=Fr;function ho(t,e){var n=t.type.contextTypes;if(!n)return Fr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qt(t){return t=t.childContextTypes,t!=null}function sl(){Fe(Ft),Fe(kt)}function yp(t,e,n){if(kt.current!==Fr)throw Error(G(168));Oe(kt,e),Oe(Ft,n)}function kv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,U1(t)||"Unknown",i));return Ge({},n,r)}function al(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fr,pi=kt.current,Oe(kt,t),Oe(Ft,Ft.current),!0}function wp(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=kv(t,e,pi),r.__reactInternalMemoizedMergedChildContext=t,Fe(Ft),Fe(kt),Oe(kt,t)):Fe(Ft),Oe(Ft,n)}var Xn=null,Fl=!1,Kc=!1;function Iv(t){Xn===null?Xn=[t]:Xn.push(t)}function ab(t){Fl=!0,Iv(t)}function Yr(){if(!Kc&&Xn!==null){Kc=!0;var t=0,e=Pe;try{var n=Xn;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xn=null,Fl=!1}catch(i){throw Xn!==null&&(Xn=Xn.slice(t+1)),ev(Xd,Yr),i}finally{Pe=e,Kc=!1}}return null}var Vi=[],Wi=0,ll=null,cl=0,an=[],ln=0,gi=null,er=1,tr="";function Jr(t,e){Vi[Wi++]=cl,Vi[Wi++]=ll,ll=t,cl=e}function Pv(t,e,n){an[ln++]=er,an[ln++]=tr,an[ln++]=gi,gi=t;var r=er;t=tr;var i=32-$n(r)-1;r&=~(1<<i),n+=1;var o=32-$n(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,er=1<<32-$n(e)+i|n<<i|r,tr=o+t}else er=1<<o|n<<i|r,tr=t}function sh(t){t.return!==null&&(Jr(t,1),Pv(t,1,0))}function ah(t){for(;t===ll;)ll=Vi[--Wi],Vi[Wi]=null,cl=Vi[--Wi],Vi[Wi]=null;for(;t===gi;)gi=an[--ln],an[ln]=null,tr=an[--ln],an[ln]=null,er=an[--ln],an[ln]=null}var Kt=null,Gt=null,Be=!1,xn=null;function Dv(t,e){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kt=t,Gt=Ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kt=t,Gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gi!==null?{id:er,overflow:tr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kt=t,Gt=null,!0):!1;default:return!1}}function Xu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qu(t){if(Be){var e=Gt;if(e){var n=e;if(!Sp(t,e)){if(Xu(t))throw Error(G(418));e=Ar(n.nextSibling);var r=Kt;e&&Sp(t,e)?Dv(r,n):(t.flags=t.flags&-4097|2,Be=!1,Kt=t)}}else{if(Xu(t))throw Error(G(418));t.flags=t.flags&-4097|2,Be=!1,Kt=t}}}function bp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kt=t}function ba(t){if(t!==Kt)return!1;if(!Be)return bp(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gu(t.type,t.memoizedProps)),e&&(e=Gt)){if(Xu(t))throw _v(),Error(G(418));for(;e;)Dv(t,e),e=Ar(e.nextSibling)}if(bp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gt=Ar(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gt=null}}else Gt=Kt?Ar(t.stateNode.nextSibling):null;return!0}function _v(){for(var t=Gt;t;)t=Ar(t.nextSibling)}function fo(){Gt=Kt=null,Be=!1}function lh(t){xn===null?xn=[t]:xn.push(t)}var lb=lr.ReactCurrentBatchConfig;function En(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ul=Gr(null),dl=null,Gi=null,ch=null;function uh(){ch=Gi=dl=null}function dh(t){var e=ul.current;Fe(ul),t._currentValue=e}function Ju(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ro(t,e){dl=t,ch=Gi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function fn(t){var e=t._currentValue;if(ch!==t)if(t={context:t,memoizedValue:e,next:null},Gi===null){if(dl===null)throw Error(G(308));Gi=t,dl.dependencies={lanes:0,firstContext:t}}else Gi=Gi.next=t;return e}var ri=null;function hh(t){ri===null?ri=[t]:ri.push(t)}function Av(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hh(e)):(n.next=i.next,i.next=n),e.interleaved=n,or(t,r)}function or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Er=!1;function fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,or(t,n)}return i=r.interleaved,i===null?(e.next=e,hh(r)):(e.next=i.next,i.next=e),r.interleaved=e,or(t,n)}function ja(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qd(t,n)}}function Ep(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hl(t,e,n,r){var i=t.updateQueue;Er=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var p=a.lane,g=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(p=e,g=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(g,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,p=typeof y=="function"?y.call(g,d,p):y,p==null)break e;d=Ge({},d,p);break e;case 2:Er=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=d):u=u.next=g,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);vi|=s,t.lanes=s,t.memoizedState=d}}function Cp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var Mv=new Am.Component().refs;function ed(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ql={isMounted:function(t){return(t=t._reactInternals)?Ci(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_t(),i=Or(t),o=nr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Nr(t,o,i),e!==null&&(kn(e,t,i,r),ja(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_t(),i=Or(t),o=nr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Nr(t,o,i),e!==null&&(kn(e,t,i,r),ja(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_t(),r=Or(t),i=nr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Nr(t,i,r),e!==null&&(kn(e,t,r,n),ja(e,t,r))}};function Tp(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!xs(n,r)||!xs(i,o):!0}function Ov(t,e,n){var r=!1,i=Fr,o=e.contextType;return typeof o=="object"&&o!==null?o=fn(o):(i=qt(e)?pi:kt.current,r=e.contextTypes,o=(r=r!=null)?ho(t,i):Fr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ql,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function xp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ql.enqueueReplaceState(e,e.state,null)}function td(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Mv,fh(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=fn(o):(o=qt(e)?pi:kt.current,i.context=ho(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ed(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ql.enqueueReplaceState(i,i.state,null),hl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Fo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===Mv&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Ea(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Rp(t){var e=t._init;return e(t._payload)}function Lv(t){function e(f,m){if(t){var w=f.deletions;w===null?(f.deletions=[m],f.flags|=16):w.push(m)}}function n(f,m){if(!t)return null;for(;m!==null;)e(f,m),m=m.sibling;return null}function r(f,m){for(f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function i(f,m){return f=Lr(f,m),f.index=0,f.sibling=null,f}function o(f,m,w){return f.index=w,t?(w=f.alternate,w!==null?(w=w.index,w<m?(f.flags|=2,m):w):(f.flags|=2,m)):(f.flags|=1048576,m)}function s(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,m,w,T){return m===null||m.tag!==6?(m=nu(w,f.mode,T),m.return=f,m):(m=i(m,w),m.return=f,m)}function l(f,m,w,T){var x=w.type;return x===ji?u(f,m,w.props.children,T,w.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===br&&Rp(x)===m.type)?(T=i(m,w.props),T.ref=Fo(f,m,w),T.return=f,T):(T=Va(w.type,w.key,w.props,null,f.mode,T),T.ref=Fo(f,m,w),T.return=f,T)}function c(f,m,w,T){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=ru(w,f.mode,T),m.return=f,m):(m=i(m,w.children||[]),m.return=f,m)}function u(f,m,w,T,x){return m===null||m.tag!==7?(m=ui(w,f.mode,T,x),m.return=f,m):(m=i(m,w),m.return=f,m)}function d(f,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=nu(""+m,f.mode,w),m.return=f,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case da:return w=Va(m.type,m.key,m.props,null,f.mode,w),w.ref=Fo(f,null,m),w.return=f,w;case Hi:return m=ru(m,f.mode,w),m.return=f,m;case br:var T=m._init;return d(f,T(m._payload),w)}if(Jo(m)||Mo(m))return m=ui(m,f.mode,w,null),m.return=f,m;Ea(f,m)}return null}function p(f,m,w,T){var x=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return x!==null?null:a(f,m,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case da:return w.key===x?l(f,m,w,T):null;case Hi:return w.key===x?c(f,m,w,T):null;case br:return x=w._init,p(f,m,x(w._payload),T)}if(Jo(w)||Mo(w))return x!==null?null:u(f,m,w,T,null);Ea(f,w)}return null}function g(f,m,w,T,x){if(typeof T=="string"&&T!==""||typeof T=="number")return f=f.get(w)||null,a(m,f,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case da:return f=f.get(T.key===null?w:T.key)||null,l(m,f,T,x);case Hi:return f=f.get(T.key===null?w:T.key)||null,c(m,f,T,x);case br:var h=T._init;return g(f,m,w,h(T._payload),x)}if(Jo(T)||Mo(T))return f=f.get(w)||null,u(m,f,T,x,null);Ea(m,T)}return null}function y(f,m,w,T){for(var x=null,h=null,R=m,$=m=0,O=null;R!==null&&$<w.length;$++){R.index>$?(O=R,R=null):O=R.sibling;var E=p(f,R,w[$],T);if(E===null){R===null&&(R=O);break}t&&R&&E.alternate===null&&e(f,R),m=o(E,m,$),h===null?x=E:h.sibling=E,h=E,R=O}if($===w.length)return n(f,R),Be&&Jr(f,$),x;if(R===null){for(;$<w.length;$++)R=d(f,w[$],T),R!==null&&(m=o(R,m,$),h===null?x=R:h.sibling=R,h=R);return Be&&Jr(f,$),x}for(R=r(f,R);$<w.length;$++)O=g(R,f,$,w[$],T),O!==null&&(t&&O.alternate!==null&&R.delete(O.key===null?$:O.key),m=o(O,m,$),h===null?x=O:h.sibling=O,h=O);return t&&R.forEach(function(_){return e(f,_)}),Be&&Jr(f,$),x}function v(f,m,w,T){var x=Mo(w);if(typeof x!="function")throw Error(G(150));if(w=x.call(w),w==null)throw Error(G(151));for(var h=x=null,R=m,$=m=0,O=null,E=w.next();R!==null&&!E.done;$++,E=w.next()){R.index>$?(O=R,R=null):O=R.sibling;var _=p(f,R,E.value,T);if(_===null){R===null&&(R=O);break}t&&R&&_.alternate===null&&e(f,R),m=o(_,m,$),h===null?x=_:h.sibling=_,h=_,R=O}if(E.done)return n(f,R),Be&&Jr(f,$),x;if(R===null){for(;!E.done;$++,E=w.next())E=d(f,E.value,T),E!==null&&(m=o(E,m,$),h===null?x=E:h.sibling=E,h=E);return Be&&Jr(f,$),x}for(R=r(f,R);!E.done;$++,E=w.next())E=g(R,f,$,E.value,T),E!==null&&(t&&E.alternate!==null&&R.delete(E.key===null?$:E.key),m=o(E,m,$),h===null?x=E:h.sibling=E,h=E);return t&&R.forEach(function(P){return e(f,P)}),Be&&Jr(f,$),x}function b(f,m,w,T){if(typeof w=="object"&&w!==null&&w.type===ji&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case da:e:{for(var x=w.key,h=m;h!==null;){if(h.key===x){if(x=w.type,x===ji){if(h.tag===7){n(f,h.sibling),m=i(h,w.props.children),m.return=f,f=m;break e}}else if(h.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===br&&Rp(x)===h.type){n(f,h.sibling),m=i(h,w.props),m.ref=Fo(f,h,w),m.return=f,f=m;break e}n(f,h);break}else e(f,h);h=h.sibling}w.type===ji?(m=ui(w.props.children,f.mode,T,w.key),m.return=f,f=m):(T=Va(w.type,w.key,w.props,null,f.mode,T),T.ref=Fo(f,m,w),T.return=f,f=T)}return s(f);case Hi:e:{for(h=w.key;m!==null;){if(m.key===h)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(f,m.sibling),m=i(m,w.children||[]),m.return=f,f=m;break e}else{n(f,m);break}else e(f,m);m=m.sibling}m=ru(w,f.mode,T),m.return=f,f=m}return s(f);case br:return h=w._init,b(f,m,h(w._payload),T)}if(Jo(w))return y(f,m,w,T);if(Mo(w))return v(f,m,w,T);Ea(f,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(f,m.sibling),m=i(m,w),m.return=f,f=m):(n(f,m),m=nu(w,f.mode,T),m.return=f,f=m),s(f)):n(f,m)}return b}var po=Lv(!0),Hv=Lv(!1),Ws={},zn=Gr(Ws),Is=Gr(Ws),Ps=Gr(Ws);function ii(t){if(t===Ws)throw Error(G(174));return t}function ph(t,e){switch(Oe(Ps,e),Oe(Is,t),Oe(zn,Ws),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Au(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Au(e,t)}Fe(zn),Oe(zn,e)}function go(){Fe(zn),Fe(Is),Fe(Ps)}function jv(t){ii(Ps.current);var e=ii(zn.current),n=Au(e,t.type);e!==n&&(Oe(Is,t),Oe(zn,n))}function gh(t){Is.current===t&&(Fe(zn),Fe(Is))}var Ve=Gr(0);function fl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zc=[];function mh(){for(var t=0;t<Zc.length;t++)Zc[t]._workInProgressVersionPrimary=null;Zc.length=0}var Fa=lr.ReactCurrentDispatcher,Xc=lr.ReactCurrentBatchConfig,mi=0,We=null,rt=null,ct=null,pl=!1,cs=!1,Ds=0,cb=0;function Ct(){throw Error(G(321))}function vh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function yh(t,e,n,r,i,o){if(mi=o,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fa.current=t===null||t.memoizedState===null?fb:pb,t=n(r,i),cs){o=0;do{if(cs=!1,Ds=0,25<=o)throw Error(G(301));o+=1,ct=rt=null,e.updateQueue=null,Fa.current=gb,t=n(r,i)}while(cs)}if(Fa.current=gl,e=rt!==null&&rt.next!==null,mi=0,ct=rt=We=null,pl=!1,e)throw Error(G(300));return t}function wh(){var t=Ds!==0;return Ds=0,t}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?We.memoizedState=ct=t:ct=ct.next=t,ct}function pn(){if(rt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=ct===null?We.memoizedState:ct.next;if(e!==null)ct=e,rt=t;else{if(t===null)throw Error(G(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},ct===null?We.memoizedState=ct=t:ct=ct.next=t}return ct}function _s(t,e){return typeof e=="function"?e(t):e}function Qc(t){var e=pn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=rt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((mi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,We.lanes|=u,vi|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Pn(r,e.memoizedState)||(jt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,We.lanes|=o,vi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jc(t){var e=pn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Pn(o,e.memoizedState)||(jt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Fv(){}function qv(t,e){var n=We,r=pn(),i=e(),o=!Pn(r.memoizedState,i);if(o&&(r.memoizedState=i,jt=!0),r=r.queue,Sh(Uv.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,As(9,Bv.bind(null,n,r,i,e),void 0,null),ht===null)throw Error(G(349));mi&30||zv(n,e,i)}return i}function zv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bv(t,e,n,r){e.value=n,e.getSnapshot=r,Vv(e)&&Wv(t)}function Uv(t,e,n){return n(function(){Vv(e)&&Wv(t)})}function Vv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function Wv(t){var e=or(t,1);e!==null&&kn(e,t,1,-1)}function $p(t){var e=Mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:t},e.queue=t,t=t.dispatch=hb.bind(null,We,t),[e.memoizedState,t]}function As(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Gv(){return pn().memoizedState}function qa(t,e,n,r){var i=Mn();We.flags|=t,i.memoizedState=As(1|e,n,void 0,r===void 0?null:r)}function zl(t,e,n,r){var i=pn();r=r===void 0?null:r;var o=void 0;if(rt!==null){var s=rt.memoizedState;if(o=s.destroy,r!==null&&vh(r,s.deps)){i.memoizedState=As(e,n,o,r);return}}We.flags|=t,i.memoizedState=As(1|e,n,o,r)}function kp(t,e){return qa(8390656,8,t,e)}function Sh(t,e){return zl(2048,8,t,e)}function Yv(t,e){return zl(4,2,t,e)}function Kv(t,e){return zl(4,4,t,e)}function Zv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xv(t,e,n){return n=n!=null?n.concat([t]):null,zl(4,4,Zv.bind(null,e,t),n)}function bh(){}function Qv(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Jv(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function e0(t,e,n){return mi&21?(Pn(n,e)||(n=rv(),We.lanes|=n,vi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function ub(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=Xc.transition;Xc.transition={};try{t(!1),e()}finally{Pe=n,Xc.transition=r}}function t0(){return pn().memoizedState}function db(t,e,n){var r=Or(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},n0(t))r0(e,n);else if(n=Av(t,e,n,r),n!==null){var i=_t();kn(n,t,r,i),i0(n,e,r)}}function hb(t,e,n){var r=Or(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(n0(t))r0(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Pn(a,s)){var l=e.interleaved;l===null?(i.next=i,hh(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Av(t,e,i,r),n!==null&&(i=_t(),kn(n,t,r,i),i0(n,e,r))}}function n0(t){var e=t.alternate;return t===We||e!==null&&e===We}function r0(t,e){cs=pl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function i0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qd(t,n)}}var gl={readContext:fn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},fb={readContext:fn,useCallback:function(t,e){return Mn().memoizedState=[t,e===void 0?null:e],t},useContext:fn,useEffect:kp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qa(4194308,4,Zv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qa(4194308,4,t,e)},useInsertionEffect:function(t,e){return qa(4,2,t,e)},useMemo:function(t,e){var n=Mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=db.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=Mn();return t={current:t},e.memoizedState=t},useState:$p,useDebugValue:bh,useDeferredValue:function(t){return Mn().memoizedState=t},useTransition:function(){var t=$p(!1),e=t[0];return t=ub.bind(null,t[1]),Mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,i=Mn();if(Be){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),ht===null)throw Error(G(349));mi&30||zv(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,kp(Uv.bind(null,r,o,t),[t]),r.flags|=2048,As(9,Bv.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Mn(),e=ht.identifierPrefix;if(Be){var n=tr,r=er;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ds++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pb={readContext:fn,useCallback:Qv,useContext:fn,useEffect:Sh,useImperativeHandle:Xv,useInsertionEffect:Yv,useLayoutEffect:Kv,useMemo:Jv,useReducer:Qc,useRef:Gv,useState:function(){return Qc(_s)},useDebugValue:bh,useDeferredValue:function(t){var e=pn();return e0(e,rt.memoizedState,t)},useTransition:function(){var t=Qc(_s)[0],e=pn().memoizedState;return[t,e]},useMutableSource:Fv,useSyncExternalStore:qv,useId:t0,unstable_isNewReconciler:!1},gb={readContext:fn,useCallback:Qv,useContext:fn,useEffect:Sh,useImperativeHandle:Xv,useInsertionEffect:Yv,useLayoutEffect:Kv,useMemo:Jv,useReducer:Jc,useRef:Gv,useState:function(){return Jc(_s)},useDebugValue:bh,useDeferredValue:function(t){var e=pn();return rt===null?e.memoizedState=t:e0(e,rt.memoizedState,t)},useTransition:function(){var t=Jc(_s)[0],e=pn().memoizedState;return[t,e]},useMutableSource:Fv,useSyncExternalStore:qv,useId:t0,unstable_isNewReconciler:!1};function mo(t,e){try{var n="",r=e;do n+=B1(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function eu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mb=typeof WeakMap=="function"?WeakMap:Map;function o0(t,e,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vl||(vl=!0,hd=r),nd(t,e)},n}function s0(t,e,n){n=nr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){nd(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){nd(t,e),typeof r!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Ip(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new mb;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Pb.bind(null,t,e,n),e.then(t,t))}function Pp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dp(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nr(-1,1),e.tag=2,Nr(n,e,1))),n.lanes|=1),t)}var vb=lr.ReactCurrentOwner,jt=!1;function Pt(t,e,n,r){e.child=t===null?Hv(e,null,n,r):po(e,t.child,n,r)}function _p(t,e,n,r,i){n=n.render;var o=e.ref;return ro(e,i),r=yh(t,e,n,r,o,i),n=wh(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sr(t,e,i)):(Be&&n&&sh(e),e.flags|=1,Pt(t,e,r,i),e.child)}function Ap(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ih(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,a0(t,e,o,r,i)):(t=Va(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:xs,n(s,r)&&t.ref===e.ref)return sr(t,e,i)}return e.flags|=1,t=Lr(o,r),t.ref=e.ref,t.return=e,e.child=t}function a0(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(xs(o,r)&&t.ref===e.ref)if(jt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,sr(t,e,i)}return rd(t,e,n,r,i)}function l0(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Ki,Vt),Vt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(Ki,Vt),Vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Oe(Ki,Vt),Vt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Oe(Ki,Vt),Vt|=r;return Pt(t,e,i,n),e.child}function c0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rd(t,e,n,r,i){var o=qt(n)?pi:kt.current;return o=ho(e,o),ro(e,i),n=yh(t,e,n,r,o,i),r=wh(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sr(t,e,i)):(Be&&r&&sh(e),e.flags|=1,Pt(t,e,n,i),e.child)}function Np(t,e,n,r,i){if(qt(n)){var o=!0;al(e)}else o=!1;if(ro(e,i),e.stateNode===null)za(t,e),Ov(e,n,r),td(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=fn(c):(c=qt(n)?pi:kt.current,c=ho(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&xp(e,s,r,c),Er=!1;var p=e.memoizedState;s.state=p,hl(e,r,s,i),l=e.memoizedState,a!==r||p!==l||Ft.current||Er?(typeof u=="function"&&(ed(e,n,u,r),l=e.memoizedState),(a=Er||Tp(e,n,a,r,p,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Nv(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:En(e.type,a),s.props=c,d=e.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=fn(l):(l=qt(n)?pi:kt.current,l=ho(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||p!==l)&&xp(e,s,r,l),Er=!1,p=e.memoizedState,s.state=p,hl(e,r,s,i);var y=e.memoizedState;a!==d||p!==y||Ft.current||Er?(typeof g=="function"&&(ed(e,n,g,r),y=e.memoizedState),(c=Er||Tp(e,n,c,r,p,y,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return id(t,e,n,r,o,i)}function id(t,e,n,r,i,o){c0(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&wp(e,n,!1),sr(t,e,o);r=e.stateNode,vb.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=po(e,t.child,null,o),e.child=po(e,null,a,o)):Pt(t,e,a,o),e.memoizedState=r.state,i&&wp(e,n,!0),e.child}function u0(t){var e=t.stateNode;e.pendingContext?yp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yp(t,e.context,!1),ph(t,e.containerInfo)}function Mp(t,e,n,r,i){return fo(),lh(i),e.flags|=256,Pt(t,e,n,r),e.child}var od={dehydrated:null,treeContext:null,retryLane:0};function sd(t){return{baseLanes:t,cachePool:null,transitions:null}}function d0(t,e,n){var r=e.pendingProps,i=Ve.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Oe(Ve,i&1),t===null)return Qu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Vl(s,r,0,null),t=ui(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=sd(n),e.memoizedState=od,t):Eh(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yb(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Lr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Lr(a,o):(o=ui(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?sd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=od,r}return o=t.child,t=o.sibling,r=Lr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Eh(t,e){return e=Vl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ca(t,e,n,r){return r!==null&&lh(r),po(e,t.child,null,n),t=Eh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yb(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=eu(Error(G(422))),Ca(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Vl({mode:"visible",children:r.children},i,0,null),o=ui(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&po(e,t.child,null,s),e.child.memoizedState=sd(s),e.memoizedState=od,o);if(!(e.mode&1))return Ca(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(G(419)),r=eu(o,r,void 0),Ca(t,e,s,r)}if(a=(s&t.childLanes)!==0,jt||a){if(r=ht,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,or(t,i),kn(r,t,i,-1))}return kh(),r=eu(Error(G(421))),Ca(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Db.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Gt=Ar(i.nextSibling),Kt=e,Be=!0,xn=null,t!==null&&(an[ln++]=er,an[ln++]=tr,an[ln++]=gi,er=t.id,tr=t.overflow,gi=e),e=Eh(e,r.children),e.flags|=4096,e)}function Op(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ju(t.return,e,n)}function tu(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function h0(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Pt(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Op(t,n,e);else if(t.tag===19)Op(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),tu(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}tu(e,!0,n,null,o);break;case"together":tu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function za(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Lr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Lr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wb(t,e,n){switch(e.tag){case 3:u0(e),fo();break;case 5:jv(e);break;case 1:qt(e.type)&&al(e);break;case 4:ph(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Oe(ul,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?d0(t,e,n):(Oe(Ve,Ve.current&1),t=sr(t,e,n),t!==null?t.sibling:null);Oe(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return h0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,l0(t,e,n)}return sr(t,e,n)}var f0,ad,p0,g0;f0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ad=function(){};p0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ii(zn.current);var o=null;switch(n){case"input":i=Iu(t,i),r=Iu(t,r),o=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),o=[];break;case"textarea":i=_u(t,i),r=_u(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ol)}Nu(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ys.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ys.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&je("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};g0=function(t,e,n,r){n!==r&&(e.flags|=4)};function qo(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Sb(t,e,n){var r=e.pendingProps;switch(ah(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return qt(e.type)&&sl(),Tt(e),null;case 3:return r=e.stateNode,go(),Fe(Ft),Fe(kt),mh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ba(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xn!==null&&(gd(xn),xn=null))),ad(t,e),Tt(e),null;case 5:gh(e);var i=ii(Ps.current);if(n=e.type,t!==null&&e.stateNode!=null)p0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Tt(e),null}if(t=ii(zn.current),ba(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[jn]=e,r[ks]=o,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<ts.length;i++)je(ts[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Vf(r,o),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},je("invalid",r);break;case"textarea":Gf(r,o),je("invalid",r)}Nu(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Sa(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Sa(r.textContent,a,t),i=["children",""+a]):ys.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&je("scroll",r)}switch(n){case"input":ha(r),Wf(r,o,!0);break;case"textarea":ha(r),Yf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ol)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[jn]=e,t[ks]=r,f0(t,e,!1,!1),e.stateNode=t;e:{switch(s=Mu(n,r),n){case"dialog":je("cancel",t),je("close",t),i=r;break;case"iframe":case"object":case"embed":je("load",t),i=r;break;case"video":case"audio":for(i=0;i<ts.length;i++)je(ts[i],t);i=r;break;case"source":je("error",t),i=r;break;case"img":case"image":case"link":je("error",t),je("load",t),i=r;break;case"details":je("toggle",t),i=r;break;case"input":Vf(t,r),i=Iu(t,r),je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),je("invalid",t);break;case"textarea":Gf(t,r),i=_u(t,r),je("invalid",t);break;default:i=r}Nu(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Vm(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bm(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ws(t,l):typeof l=="number"&&ws(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ys.hasOwnProperty(o)?l!=null&&o==="onScroll"&&je("scroll",t):l!=null&&Wd(t,o,l,s))}switch(n){case"input":ha(t),Wf(t,r,!1);break;case"textarea":ha(t),Yf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+jr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ji(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ji(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ol)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)g0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=ii(Ps.current),ii(zn.current),ba(e)){if(r=e.stateNode,n=e.memoizedProps,r[jn]=e,(o=r.nodeValue!==n)&&(t=Kt,t!==null))switch(t.tag){case 3:Sa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sa(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jn]=e,e.stateNode=r}return Tt(e),null;case 13:if(Fe(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&Gt!==null&&e.mode&1&&!(e.flags&128))_v(),fo(),e.flags|=98560,o=!1;else if(o=ba(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(G(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(G(317));o[jn]=e}else fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),o=!1}else xn!==null&&(gd(xn),xn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?it===0&&(it=3):kh())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return go(),ad(t,e),t===null&&Rs(e.stateNode.containerInfo),Tt(e),null;case 10:return dh(e.type._context),Tt(e),null;case 17:return qt(e.type)&&sl(),Tt(e),null;case 19:if(Fe(Ve),o=e.memoizedState,o===null)return Tt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)qo(o,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=fl(t),s!==null){for(e.flags|=128,qo(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(Ve,Ve.current&1|2),e.child}t=t.sibling}o.tail!==null&&Je()>vo&&(e.flags|=128,r=!0,qo(o,!1),e.lanes=4194304)}else{if(!r)if(t=fl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Be)return Tt(e),null}else 2*Je()-o.renderingStartTime>vo&&n!==1073741824&&(e.flags|=128,r=!0,qo(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,n=Ve.current,Oe(Ve,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return $h(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Vt&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function bb(t,e){switch(ah(e),e.tag){case 1:return qt(e.type)&&sl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return go(),Fe(Ft),Fe(kt),mh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gh(e),null;case 13:if(Fe(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(Ve),null;case 4:return go(),null;case 10:return dh(e.type._context),null;case 22:case 23:return $h(),null;case 24:return null;default:return null}}var Ta=!1,xt=!1,Eb=typeof WeakSet=="function"?WeakSet:Set,J=null;function Yi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function ld(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var Lp=!1;function Cb(t,e){if(Vu=nl,t=wv(),oh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,p=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===n&&++c===i&&(a=s),p===o&&++u===r&&(l=s),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wu={focusedElem:t,selectionRange:n},nl=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,b=y.memoizedState,f=e.stateNode,m=f.getSnapshotBeforeUpdate(e.elementType===e.type?v:En(e.type,v),b);f.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(T){Ke(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return y=Lp,Lp=!1,y}function us(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&ld(e,n,o)}i=i.next}while(i!==r)}}function Bl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function m0(t){var e=t.alternate;e!==null&&(t.alternate=null,m0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jn],delete e[ks],delete e[Ku],delete e[ob],delete e[sb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function v0(t){return t.tag===5||t.tag===3||t.tag===4}function Hp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||v0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ud(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ol));else if(r!==4&&(t=t.child,t!==null))for(ud(t,e,n),t=t.sibling;t!==null;)ud(t,e,n),t=t.sibling}function dd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dd(t,e,n),t=t.sibling;t!==null;)dd(t,e,n),t=t.sibling}var yt=null,Cn=!1;function vr(t,e,n){for(n=n.child;n!==null;)y0(t,e,n),n=n.sibling}function y0(t,e,n){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(Ml,n)}catch{}switch(n.tag){case 5:xt||Yi(n,e);case 6:var r=yt,i=Cn;yt=null,vr(t,e,n),yt=r,Cn=i,yt!==null&&(Cn?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(Cn?(t=yt,n=n.stateNode,t.nodeType===8?Yc(t.parentNode,n):t.nodeType===1&&Yc(t,n),Cs(t)):Yc(yt,n.stateNode));break;case 4:r=yt,i=Cn,yt=n.stateNode.containerInfo,Cn=!0,vr(t,e,n),yt=r,Cn=i;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ld(n,e,s),i=i.next}while(i!==r)}vr(t,e,n);break;case 1:if(!xt&&(Yi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}vr(t,e,n);break;case 21:vr(t,e,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,vr(t,e,n),xt=r):vr(t,e,n);break;default:vr(t,e,n)}}function jp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Eb),e.forEach(function(r){var i=_b.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,Cn=!1;break e;case 3:yt=a.stateNode.containerInfo,Cn=!0;break e;case 4:yt=a.stateNode.containerInfo,Cn=!0;break e}a=a.return}if(yt===null)throw Error(G(160));y0(o,s,i),yt=null,Cn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ke(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)w0(e,t),e=e.sibling}function w0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bn(e,t),Nn(t),r&4){try{us(3,t,t.return),Bl(3,t)}catch(v){Ke(t,t.return,v)}try{us(5,t,t.return)}catch(v){Ke(t,t.return,v)}}break;case 1:bn(e,t),Nn(t),r&512&&n!==null&&Yi(n,n.return);break;case 5:if(bn(e,t),Nn(t),r&512&&n!==null&&Yi(n,n.return),t.flags&32){var i=t.stateNode;try{ws(i,"")}catch(v){Ke(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Fm(i,o),Mu(a,s);var c=Mu(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?Vm(i,d):u==="dangerouslySetInnerHTML"?Bm(i,d):u==="children"?ws(i,d):Wd(i,u,d,c)}switch(a){case"input":Pu(i,o);break;case"textarea":qm(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Ji(i,!!o.multiple,g,!1):p!==!!o.multiple&&(o.defaultValue!=null?Ji(i,!!o.multiple,o.defaultValue,!0):Ji(i,!!o.multiple,o.multiple?[]:"",!1))}i[ks]=o}catch(v){Ke(t,t.return,v)}}break;case 6:if(bn(e,t),Nn(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Ke(t,t.return,v)}}break;case 3:if(bn(e,t),Nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cs(e.containerInfo)}catch(v){Ke(t,t.return,v)}break;case 4:bn(e,t),Nn(t);break;case 13:bn(e,t),Nn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(xh=Je())),r&4&&jp(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(c=xt)||u,bn(e,t),xt=c):bn(e,t),Nn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(J=t,u=t.child;u!==null;){for(d=J=u;J!==null;){switch(p=J,g=p.child,p.tag){case 0:case 11:case 14:case 15:us(4,p,p.return);break;case 1:Yi(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){Ke(r,n,v)}}break;case 5:Yi(p,p.return);break;case 22:if(p.memoizedState!==null){qp(d);continue}}g!==null?(g.return=p,J=g):qp(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Um("display",s))}catch(v){Ke(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Ke(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:bn(e,t),Nn(t),r&4&&jp(t);break;case 21:break;default:bn(e,t),Nn(t)}}function Nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(v0(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ws(i,""),r.flags&=-33);var o=Hp(t);dd(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Hp(t);ud(t,a,s);break;default:throw Error(G(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Tb(t,e,n){J=t,S0(t)}function S0(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ta;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||xt;a=Ta;var c=xt;if(Ta=s,(xt=l)&&!c)for(J=i;J!==null;)s=J,l=s.child,s.tag===22&&s.memoizedState!==null?zp(i):l!==null?(l.return=s,J=l):zp(i);for(;o!==null;)J=o,S0(o),o=o.sibling;J=i,Ta=a,xt=c}Fp(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):Fp(t)}}function Fp(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||Bl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:En(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Cp(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cp(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Cs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}xt||e.flags&512&&cd(e)}catch(p){Ke(e,e.return,p)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function qp(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function zp(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bl(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ke(e,i,l)}}var o=e.return;try{cd(e)}catch(l){Ke(e,o,l)}break;case 5:var s=e.return;try{cd(e)}catch(l){Ke(e,s,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var xb=Math.ceil,ml=lr.ReactCurrentDispatcher,Ch=lr.ReactCurrentOwner,hn=lr.ReactCurrentBatchConfig,Ce=0,ht=null,nt=null,St=0,Vt=0,Ki=Gr(0),it=0,Ns=null,vi=0,Ul=0,Th=0,ds=null,Ot=null,xh=0,vo=1/0,Kn=null,vl=!1,hd=null,Mr=null,xa=!1,$r=null,yl=0,hs=0,fd=null,Ba=-1,Ua=0;function _t(){return Ce&6?Je():Ba!==-1?Ba:Ba=Je()}function Or(t){return t.mode&1?Ce&2&&St!==0?St&-St:lb.transition!==null?(Ua===0&&(Ua=rv()),Ua):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:uv(t.type)),t):1}function kn(t,e,n,r){if(50<hs)throw hs=0,fd=null,Error(G(185));Bs(t,n,r),(!(Ce&2)||t!==ht)&&(t===ht&&(!(Ce&2)&&(Ul|=n),it===4&&Tr(t,St)),zt(t,r),n===1&&Ce===0&&!(e.mode&1)&&(vo=Je()+500,Fl&&Yr()))}function zt(t,e){var n=t.callbackNode;lS(t,e);var r=tl(t,t===ht?St:0);if(r===0)n!==null&&Xf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Xf(n),e===1)t.tag===0?ab(Bp.bind(null,t)):Iv(Bp.bind(null,t)),rb(function(){!(Ce&6)&&Yr()}),n=null;else{switch(iv(r)){case 1:n=Xd;break;case 4:n=tv;break;case 16:n=el;break;case 536870912:n=nv;break;default:n=el}n=k0(n,b0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function b0(t,e){if(Ba=-1,Ua=0,Ce&6)throw Error(G(327));var n=t.callbackNode;if(io()&&t.callbackNode!==n)return null;var r=tl(t,t===ht?St:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wl(t,r);else{e=r;var i=Ce;Ce|=2;var o=C0();(ht!==t||St!==e)&&(Kn=null,vo=Je()+500,ci(t,e));do try{kb();break}catch(a){E0(t,a)}while(1);uh(),ml.current=o,Ce=i,nt!==null?e=0:(ht=null,St=0,e=it)}if(e!==0){if(e===2&&(i=Fu(t),i!==0&&(r=i,e=pd(t,i))),e===1)throw n=Ns,ci(t,0),Tr(t,r),zt(t,Je()),n;if(e===6)Tr(t,r);else{if(i=t.current.alternate,!(r&30)&&!Rb(i)&&(e=wl(t,r),e===2&&(o=Fu(t),o!==0&&(r=o,e=pd(t,o))),e===1))throw n=Ns,ci(t,0),Tr(t,r),zt(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:ei(t,Ot,Kn);break;case 3:if(Tr(t,r),(r&130023424)===r&&(e=xh+500-Je(),10<e)){if(tl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_t(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yu(ei.bind(null,t,Ot,Kn),e);break}ei(t,Ot,Kn);break;case 4:if(Tr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-$n(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xb(r/1960))-r,10<r){t.timeoutHandle=Yu(ei.bind(null,t,Ot,Kn),r);break}ei(t,Ot,Kn);break;case 5:ei(t,Ot,Kn);break;default:throw Error(G(329))}}}return zt(t,Je()),t.callbackNode===n?b0.bind(null,t):null}function pd(t,e){var n=ds;return t.current.memoizedState.isDehydrated&&(ci(t,e).flags|=256),t=wl(t,e),t!==2&&(e=Ot,Ot=n,e!==null&&gd(e)),t}function gd(t){Ot===null?Ot=t:Ot.push.apply(Ot,t)}function Rb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Pn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tr(t,e){for(e&=~Th,e&=~Ul,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$n(e),r=1<<n;t[n]=-1,e&=~r}}function Bp(t){if(Ce&6)throw Error(G(327));io();var e=tl(t,0);if(!(e&1))return zt(t,Je()),null;var n=wl(t,e);if(t.tag!==0&&n===2){var r=Fu(t);r!==0&&(e=r,n=pd(t,r))}if(n===1)throw n=Ns,ci(t,0),Tr(t,e),zt(t,Je()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ei(t,Ot,Kn),zt(t,Je()),null}function Rh(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(vo=Je()+500,Fl&&Yr())}}function yi(t){$r!==null&&$r.tag===0&&!(Ce&6)&&io();var e=Ce;Ce|=1;var n=hn.transition,r=Pe;try{if(hn.transition=null,Pe=1,t)return t()}finally{Pe=r,hn.transition=n,Ce=e,!(Ce&6)&&Yr()}}function $h(){Vt=Ki.current,Fe(Ki)}function ci(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nb(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(ah(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sl();break;case 3:go(),Fe(Ft),Fe(kt),mh();break;case 5:gh(r);break;case 4:go();break;case 13:Fe(Ve);break;case 19:Fe(Ve);break;case 10:dh(r.type._context);break;case 22:case 23:$h()}n=n.return}if(ht=t,nt=t=Lr(t.current,null),St=Vt=e,it=0,Ns=null,Th=Ul=vi=0,Ot=ds=null,ri!==null){for(e=0;e<ri.length;e++)if(n=ri[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ri=null}return t}function E0(t,e){do{var n=nt;try{if(uh(),Fa.current=gl,pl){for(var r=We.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pl=!1}if(mi=0,ct=rt=We=null,cs=!1,Ds=0,Ch.current=null,n===null||n.return===null){it=1,Ns=e,nt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=St,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Pp(s);if(g!==null){g.flags&=-257,Dp(g,s,a,o,e),g.mode&1&&Ip(o,c,e),e=g,l=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){Ip(o,c,e),kh();break e}l=Error(G(426))}}else if(Be&&a.mode&1){var b=Pp(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Dp(b,s,a,o,e),lh(mo(l,a));break e}}o=l=mo(l,a),it!==4&&(it=2),ds===null?ds=[o]:ds.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var f=o0(o,l,e);Ep(o,f);break e;case 1:a=l;var m=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Mr===null||!Mr.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=s0(o,a,e);Ep(o,T);break e}}o=o.return}while(o!==null)}x0(n)}catch(x){e=x,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(1)}function C0(){var t=ml.current;return ml.current=gl,t===null?gl:t}function kh(){(it===0||it===3||it===2)&&(it=4),ht===null||!(vi&268435455)&&!(Ul&268435455)||Tr(ht,St)}function wl(t,e){var n=Ce;Ce|=2;var r=C0();(ht!==t||St!==e)&&(Kn=null,ci(t,e));do try{$b();break}catch(i){E0(t,i)}while(1);if(uh(),Ce=n,ml.current=r,nt!==null)throw Error(G(261));return ht=null,St=0,it}function $b(){for(;nt!==null;)T0(nt)}function kb(){for(;nt!==null&&!J1();)T0(nt)}function T0(t){var e=$0(t.alternate,t,Vt);t.memoizedProps=t.pendingProps,e===null?x0(t):nt=e,Ch.current=null}function x0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bb(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,nt=null;return}}else if(n=Sb(n,e,Vt),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);it===0&&(it=5)}function ei(t,e,n){var r=Pe,i=hn.transition;try{hn.transition=null,Pe=1,Ib(t,e,n,r)}finally{hn.transition=i,Pe=r}return null}function Ib(t,e,n,r){do io();while($r!==null);if(Ce&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(cS(t,o),t===ht&&(nt=ht=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xa||(xa=!0,k0(el,function(){return io(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=hn.transition,hn.transition=null;var s=Pe;Pe=1;var a=Ce;Ce|=4,Ch.current=null,Cb(t,n),w0(n,t),KS(Wu),nl=!!Vu,Wu=Vu=null,t.current=n,Tb(n),eS(),Ce=a,Pe=s,hn.transition=o}else t.current=n;if(xa&&(xa=!1,$r=t,yl=i),o=t.pendingLanes,o===0&&(Mr=null),rS(n.stateNode),zt(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vl)throw vl=!1,t=hd,hd=null,t;return yl&1&&t.tag!==0&&io(),o=t.pendingLanes,o&1?t===fd?hs++:(hs=0,fd=t):hs=0,Yr(),null}function io(){if($r!==null){var t=iv(yl),e=hn.transition,n=Pe;try{if(hn.transition=null,Pe=16>t?16:t,$r===null)var r=!1;else{if(t=$r,$r=null,yl=0,Ce&6)throw Error(G(331));var i=Ce;for(Ce|=4,J=t.current;J!==null;){var o=J,s=o.child;if(J.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(J=c;J!==null;){var u=J;switch(u.tag){case 0:case 11:case 15:us(8,u,o)}var d=u.child;if(d!==null)d.return=u,J=d;else for(;J!==null;){u=J;var p=u.sibling,g=u.return;if(m0(u),u===c){J=null;break}if(p!==null){p.return=g,J=p;break}J=g}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}J=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,J=s;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:us(9,o,o.return)}var f=o.sibling;if(f!==null){f.return=o.return,J=f;break e}J=o.return}}var m=t.current;for(J=m;J!==null;){s=J;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,J=w;else e:for(s=m;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bl(9,a)}}catch(x){Ke(a,a.return,x)}if(a===s){J=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,J=T;break e}J=a.return}}if(Ce=i,Yr(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(Ml,t)}catch{}r=!0}return r}finally{Pe=n,hn.transition=e}}return!1}function Up(t,e,n){e=mo(n,e),e=o0(t,e,1),t=Nr(t,e,1),e=_t(),t!==null&&(Bs(t,1,e),zt(t,e))}function Ke(t,e,n){if(t.tag===3)Up(t,t,n);else for(;e!==null;){if(e.tag===3){Up(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mr===null||!Mr.has(r))){t=mo(n,t),t=s0(e,t,1),e=Nr(e,t,1),t=_t(),e!==null&&(Bs(e,1,t),zt(e,t));break}}e=e.return}}function Pb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_t(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(St&n)===n&&(it===4||it===3&&(St&130023424)===St&&500>Je()-xh?ci(t,0):Th|=n),zt(t,e)}function R0(t,e){e===0&&(t.mode&1?(e=ga,ga<<=1,!(ga&130023424)&&(ga=4194304)):e=1);var n=_t();t=or(t,e),t!==null&&(Bs(t,e,n),zt(t,n))}function Db(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),R0(t,n)}function _b(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),R0(t,n)}var $0;$0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ft.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,wb(t,e,n);jt=!!(t.flags&131072)}else jt=!1,Be&&e.flags&1048576&&Pv(e,cl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;za(t,e),t=e.pendingProps;var i=ho(e,kt.current);ro(e,n),i=yh(null,e,r,t,i,n);var o=wh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(r)?(o=!0,al(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fh(e),i.updater=ql,e.stateNode=i,i._reactInternals=e,td(e,r,t,n),e=id(null,e,r,!0,o,n)):(e.tag=0,Be&&o&&sh(e),Pt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(za(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Nb(r),t=En(r,t),i){case 0:e=rd(null,e,r,t,n);break e;case 1:e=Np(null,e,r,t,n);break e;case 11:e=_p(null,e,r,t,n);break e;case 14:e=Ap(null,e,r,En(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:En(r,i),rd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:En(r,i),Np(t,e,r,i,n);case 3:e:{if(u0(e),t===null)throw Error(G(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Nv(t,e),hl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=mo(Error(G(423)),e),e=Mp(t,e,r,n,i);break e}else if(r!==i){i=mo(Error(G(424)),e),e=Mp(t,e,r,n,i);break e}else for(Gt=Ar(e.stateNode.containerInfo.firstChild),Kt=e,Be=!0,xn=null,n=Hv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fo(),r===i){e=sr(t,e,n);break e}Pt(t,e,r,n)}e=e.child}return e;case 5:return jv(e),t===null&&Qu(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Gu(r,i)?s=null:o!==null&&Gu(r,o)&&(e.flags|=32),c0(t,e),Pt(t,e,s,n),e.child;case 6:return t===null&&Qu(e),null;case 13:return d0(t,e,n);case 4:return ph(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=po(e,null,r,n):Pt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:En(r,i),_p(t,e,r,i,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Oe(ul,r._currentValue),r._currentValue=s,o!==null)if(Pn(o.value,s)){if(o.children===i.children&&!Ft.current){e=sr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=nr(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ju(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(G(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ju(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Pt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ro(e,n),i=fn(i),r=r(i),e.flags|=1,Pt(t,e,r,n),e.child;case 14:return r=e.type,i=En(r,e.pendingProps),i=En(r.type,i),Ap(t,e,r,i,n);case 15:return a0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:En(r,i),za(t,e),e.tag=1,qt(r)?(t=!0,al(e)):t=!1,ro(e,n),Ov(e,r,i),td(e,r,i,n),id(null,e,r,!0,t,n);case 19:return h0(t,e,n);case 22:return l0(t,e,n)}throw Error(G(156,e.tag))};function k0(t,e){return ev(t,e)}function Ab(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,r){return new Ab(t,e,n,r)}function Ih(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nb(t){if(typeof t=="function")return Ih(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yd)return 11;if(t===Kd)return 14}return 2}function Lr(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Va(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Ih(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ji:return ui(n.children,i,o,e);case Gd:s=8,i|=8;break;case xu:return t=dn(12,n,e,i|2),t.elementType=xu,t.lanes=o,t;case Ru:return t=dn(13,n,e,i),t.elementType=Ru,t.lanes=o,t;case $u:return t=dn(19,n,e,i),t.elementType=$u,t.lanes=o,t;case Lm:return Vl(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mm:s=10;break e;case Om:s=9;break e;case Yd:s=11;break e;case Kd:s=14;break e;case br:s=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=dn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ui(t,e,n,r){return t=dn(7,t,r,e),t.lanes=n,t}function Vl(t,e,n,r){return t=dn(22,t,r,e),t.elementType=Lm,t.lanes=n,t.stateNode={isHidden:!1},t}function nu(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function ru(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Mb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lc(0),this.expirationTimes=Lc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ph(t,e,n,r,i,o,s,a,l){return t=new Mb(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=dn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fh(o),t}function Ob(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function I0(t){if(!t)return Fr;t=t._reactInternals;e:{if(Ci(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(qt(n))return kv(t,n,e)}return e}function P0(t,e,n,r,i,o,s,a,l){return t=Ph(n,r,!0,t,i,o,s,a,l),t.context=I0(null),n=t.current,r=_t(),i=Or(n),o=nr(r,i),o.callback=e??null,Nr(n,o,i),t.current.lanes=i,Bs(t,i,r),zt(t,r),t}function Wl(t,e,n,r){var i=e.current,o=_t(),s=Or(i);return n=I0(n),e.context===null?e.context=n:e.pendingContext=n,e=nr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Nr(i,e,s),t!==null&&(kn(t,i,s,o),ja(t,i,s)),s}function Sl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dh(t,e){Vp(t,e),(t=t.alternate)&&Vp(t,e)}function Lb(){return null}var D0=typeof reportError=="function"?reportError:function(t){console.error(t)};function _h(t){this._internalRoot=t}Gl.prototype.render=_h.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Wl(t,e,null,null)};Gl.prototype.unmount=_h.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yi(function(){Wl(null,t,null,null)}),e[ir]=null}};function Gl(t){this._internalRoot=t}Gl.prototype.unstable_scheduleHydration=function(t){if(t){var e=av();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cr.length&&e!==0&&e<Cr[n].priority;n++);Cr.splice(n,0,t),n===0&&cv(t)}};function Ah(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wp(){}function Hb(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Sl(s);o.call(c)}}var s=P0(e,r,t,0,null,!1,!1,"",Wp);return t._reactRootContainer=s,t[ir]=s.current,Rs(t.nodeType===8?t.parentNode:t),yi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Sl(l);a.call(c)}}var l=Ph(t,0,!1,null,null,!1,!1,"",Wp);return t._reactRootContainer=l,t[ir]=l.current,Rs(t.nodeType===8?t.parentNode:t),yi(function(){Wl(e,l,n,r)}),l}function Kl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Sl(s);a.call(l)}}Wl(e,s,t,i)}else s=Hb(n,e,t,i,r);return Sl(s)}ov=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=es(e.pendingLanes);n!==0&&(Qd(e,n|1),zt(e,Je()),!(Ce&6)&&(vo=Je()+500,Yr()))}break;case 13:yi(function(){var r=or(t,1);if(r!==null){var i=_t();kn(r,t,1,i)}}),Dh(t,1)}};Jd=function(t){if(t.tag===13){var e=or(t,134217728);if(e!==null){var n=_t();kn(e,t,134217728,n)}Dh(t,134217728)}};sv=function(t){if(t.tag===13){var e=Or(t),n=or(t,e);if(n!==null){var r=_t();kn(n,t,e,r)}Dh(t,e)}};av=function(){return Pe};lv=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};Lu=function(t,e,n){switch(e){case"input":if(Pu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jl(r);if(!i)throw Error(G(90));jm(r),Pu(r,i)}}}break;case"textarea":qm(t,n);break;case"select":e=n.value,e!=null&&Ji(t,!!n.multiple,e,!1)}};Ym=Rh;Km=yi;var jb={usingClientEntryPoint:!1,Events:[Vs,Bi,jl,Wm,Gm,Rh]},zo={findFiberByHostInstance:ni,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Fb={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qm(t),t===null?null:t.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||Lb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ra.isDisabled&&Ra.supportsFiber)try{Ml=Ra.inject(Fb),qn=Ra}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jb;en.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ah(e))throw Error(G(200));return Ob(t,e,null,n)};en.createRoot=function(t,e){if(!Ah(t))throw Error(G(299));var n=!1,r="",i=D0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ph(t,1,!1,null,null,n,!1,r,i),t[ir]=e.current,Rs(t.nodeType===8?t.parentNode:t),new _h(e)};en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=Qm(e),t=t===null?null:t.stateNode,t};en.flushSync=function(t){return yi(t)};en.hydrate=function(t,e,n){if(!Yl(e))throw Error(G(200));return Kl(null,t,e,!0,n)};en.hydrateRoot=function(t,e,n){if(!Ah(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=D0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=P0(e,null,t,1,n??null,i,!1,o,s),t[ir]=e.current,Rs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gl(e)};en.render=function(t,e,n){if(!Yl(e))throw Error(G(200));return Kl(null,t,e,!1,n)};en.unmountComponentAtNode=function(t){if(!Yl(t))throw Error(G(40));return t._reactRootContainer?(yi(function(){Kl(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1};en.unstable_batchedUpdates=Rh;en.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yl(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Kl(t,e,n,!1,r)};en.version="18.2.0-next-9e3b772b8-20220608";function _0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_0)}catch(t){console.error(t)}}_0(),Pm.exports=en;var Gs=Pm.exports;const A0=qs(Gs),qb=ym({__proto__:null,default:A0},[Gs]);var Gp=Gs;Cu.createRoot=Gp.createRoot,Cu.hydrateRoot=Gp.hydrateRoot;var Fn=function(){return Fn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Fn.apply(this,arguments)};function N0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zb(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Wa="right-scroll-bar-position",Ga="width-before-scroll-bar",Bb="with-scroll-bars-hidden",Ub="--removed-body-scroll-bar-size";function Vb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Wb(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}function Gb(t,e){return Wb(e||null,function(n){return t.forEach(function(r){return Vb(r,n)})})}function Yb(t){return t}function Kb(t,e){e===void 0&&(e=Yb);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function Zb(t){t===void 0&&(t={});var e=Kb(null);return e.options=Fn({async:!0,ssr:!1},t),e}var M0=function(t){var e=t.sideCar,n=N0(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Fn({},n))};M0.isSideCarExport=!0;function Xb(t,e){return t.useMedium(e),M0}var O0=Zb(),iu=function(){},Zl=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:iu,onWheelCapture:iu,onTouchMoveCapture:iu}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,p=t.sideCar,g=t.noIsolation,y=t.inert,v=t.allowPinchZoom,b=t.as,f=b===void 0?"div":b,m=t.gapMode,w=N0(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=p,x=Gb([n,e]),h=Fn(Fn({},w),i);return S.createElement(S.Fragment,null,u&&S.createElement(T,{sideCar:O0,removeScrollBar:c,shards:d,noIsolation:g,inert:y,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:m}),s?S.cloneElement(S.Children.only(a),Fn(Fn({},h),{ref:x})):S.createElement(f,Fn({},h,{className:l,ref:x}),a))});Zl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zl.classNames={fullWidth:Ga,zeroRight:Wa};var Yp,Qb=function(){if(Yp)return Yp;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Jb(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Qb();return e&&t.setAttribute("nonce",e),t}function eE(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function tE(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var nE=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Jb())&&(eE(e,n),tE(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},rE=function(){var t=nE();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},L0=function(){var t=rE(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},iE={left:0,top:0,right:0,gap:0},ou=function(t){return parseInt(t||"",10)||0},oE=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[ou(n),ou(r),ou(i)]},sE=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return iE;var e=oE(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},aE=L0(),lE=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Bb,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wa,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ga,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Wa," .").concat(Wa,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ga," .").concat(Ga,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(Ub,": ").concat(a,`px;
  }
`)},cE=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r,o=S.useMemo(function(){return sE(i)},[i]);return S.createElement(aE,{styles:lE(o,!e,i,n?"":"!important")})},md=!1;if(typeof window<"u")try{var $a=Object.defineProperty({},"passive",{get:function(){return md=!0,!0}});window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{md=!1}var Ni=md?{passive:!1}:!1,uE=function(t){return t.tagName==="TEXTAREA"},H0=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!uE(t)&&n[e]==="visible")},dE=function(t){return H0(t,"overflowY")},hE=function(t){return H0(t,"overflowX")},Kp=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=j0(t,r);if(i){var o=F0(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},fE=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},pE=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},j0=function(t,e){return t==="v"?dE(e):hE(e)},F0=function(t,e){return t==="v"?fE(e):pE(e)},gE=function(t,e){return t==="h"&&e==="rtl"?-1:1},mE=function(t,e,n,r,i){var o=gE(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,d=0,p=0;do{var g=F0(t,a),y=g[0],v=g[1],b=g[2],f=v-b-o*y;(y||f)&&j0(t,a)&&(d+=f,p+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&Math.abs(d)<1||!i&&s>d)||!u&&(i&&Math.abs(p)<1||!i&&-s>p))&&(c=!0),c},ka=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Zp=function(t){return[t.deltaX,t.deltaY]},Xp=function(t){return t&&"current"in t?t.current:t},vE=function(t,e){return t[0]===e[0]&&t[1]===e[1]},yE=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wE=0,Mi=[];function SE(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(wE++)[0],o=S.useState(L0)[0],s=S.useRef(t);S.useEffect(function(){s.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=zb([t.lockRef.current],(t.shards||[]).map(Xp),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=S.useCallback(function(v,b){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var f=ka(v),m=n.current,w="deltaX"in v?v.deltaX:m[0]-f[0],T="deltaY"in v?v.deltaY:m[1]-f[1],x,h=v.target,R=Math.abs(w)>Math.abs(T)?"h":"v";if("touches"in v&&R==="h"&&h.type==="range")return!1;var $=Kp(R,h);if(!$)return!0;if($?x=R:(x=R==="v"?"h":"v",$=Kp(R,h)),!$)return!1;if(!r.current&&"changedTouches"in v&&(w||T)&&(r.current=x),!x)return!0;var O=r.current||x;return mE(O,b,v,O==="h"?w:T,!0)},[]),l=S.useCallback(function(v){var b=v;if(!(!Mi.length||Mi[Mi.length-1]!==o)){var f="deltaY"in b?Zp(b):ka(b),m=e.current.filter(function(x){return x.name===b.type&&(x.target===b.target||b.target===x.shadowParent)&&vE(x.delta,f)})[0];if(m&&m.should){b.cancelable&&b.preventDefault();return}if(!m){var w=(s.current.shards||[]).map(Xp).filter(Boolean).filter(function(x){return x.contains(b.target)}),T=w.length>0?a(b,w[0]):!s.current.noIsolation;T&&b.cancelable&&b.preventDefault()}}},[]),c=S.useCallback(function(v,b,f,m){var w={name:v,delta:b,target:f,should:m,shadowParent:bE(f)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(T){return T!==w})},1)},[]),u=S.useCallback(function(v){n.current=ka(v),r.current=void 0},[]),d=S.useCallback(function(v){c(v.type,Zp(v),v.target,a(v,t.lockRef.current))},[]),p=S.useCallback(function(v){c(v.type,ka(v),v.target,a(v,t.lockRef.current))},[]);S.useEffect(function(){return Mi.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Ni),document.addEventListener("touchmove",l,Ni),document.addEventListener("touchstart",u,Ni),function(){Mi=Mi.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,Ni),document.removeEventListener("touchmove",l,Ni),document.removeEventListener("touchstart",u,Ni)}},[]);var g=t.removeScrollBar,y=t.inert;return S.createElement(S.Fragment,null,y?S.createElement(o,{styles:yE(i)}):null,g?S.createElement(cE,{gapMode:t.gapMode}):null)}function bE(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const EE=Xb(O0,SE);var q0=S.forwardRef(function(t,e){return S.createElement(Zl,Fn({},t,{ref:e,sideCar:EE}))});q0.classNames=Zl.classNames;const CE=q0;function $t(t){return Object.keys(t)}function su(t){return t&&typeof t=="object"&&!Array.isArray(t)}function Nh(t,e){const n={...t},r=e;return su(t)&&su(e)&&Object.keys(e).forEach(i=>{su(r[i])&&i in t?n[i]=Nh(n[i],r[i]):n[i]=r[i]}),n}function TE(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function xE(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function vd(t){const e=xE(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function au(t){return`calc(${t} * var(--mantine-scale))`}function z0(t,{shouldScale:e=!1}={}){function n(r){if(r===0||r==="0")return`0${t}`;if(typeof r=="number"){const i=`${r/16}${t}`;return e?au(i):i}if(typeof r=="string"){if(r.startsWith("calc(")||r.startsWith("var(")||r.startsWith("clamp("))return r;if(r.includes(" "))return r.split(" ").map(o=>n(o)).join(" ");if(r.includes(t))return e?au(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const o=`${Number(i)/16}${t}`;return e?au(o):o}}return r}return n}const V=z0("rem",{shouldScale:!0}),Qp=z0("em");function Ys(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function B0(t){return typeof t=="number"?!0:typeof t=="string"?t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!==""?!0:/[0-9]/.test(t.trim().replace("-","")[0]):!1}function Ks(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==C.Fragment:!1}function cr(t){const e=S.createContext(null);return[({children:i,value:o})=>C.createElement(e.Provider,{value:o},i),()=>{const i=S.useContext(e);if(i===null)throw new Error(t);return i}]}function RE(t=null){const e=S.createContext(t);return[({children:i,value:o})=>C.createElement(e.Provider,{value:o},i),()=>S.useContext(e)]}const $E={app:100,modal:200,popover:300,overlay:400,max:9999};function ko(t){return $E[t]}const kE=()=>{};function IE(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||kE:n=>{var r;n.key==="Escape"&&(t(n),(r=e.onTrigger)==null||r.call(e))}}function qe(t,e="size",n=!0){if(t!==void 0)return B0(t)?n?V(t):t:`var(--${e}-${t})`}function wi(t){return qe(t,"mantine-spacing")}function An(t){return t===void 0?"var(--mantine-radius-default)":qe(t,"mantine-radius")}function Zt(t){return qe(t,"mantine-font-size")}function PE(t){return qe(t,"mantine-line-height",!1)}function Mh(t){if(t)return qe(t,"mantine-shadow",!1)}function DE(t,e){return t in e.breakpoints?vd(e.breakpoints[t]):vd(t)}function U0(t,e){const n=t.map(r=>({value:r,px:DE(r,e)}));return n.sort((r,i)=>r.px-i.px),n}function ns(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function fs(t,e,n){return e===void 0&&n===void 0?t:e!==void 0&&n===void 0?Math.max(t,e):Math.min(e===void 0&&n!==void 0?t:Math.max(t,e),n)}function ps(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function ti(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Xl(t,e){const n=ti(t),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}const Jp=["mousedown","touchstart"];function _E(t,e,n){const r=S.useRef();return S.useEffect(()=>{const i=o=>{const{target:s}=o??{};if(Array.isArray(n)){const a=(s==null?void 0:s.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(s)&&s.tagName!=="HTML";n.every(c=>!!c&&!o.composedPath().includes(c))&&!a&&t()}else r.current&&!r.current.contains(s)&&t()};return(e||Jp).forEach(o=>document.addEventListener(o,i)),()=>{(e||Jp).forEach(o=>document.removeEventListener(o,i))}},[r,t,n]),r}function AE(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function NE(t,e){return typeof e=="boolean"?e:typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function ME(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=S.useState(n?e:NE(t)),o=S.useRef();return S.useEffect(()=>{if("matchMedia"in window)return o.current=window.matchMedia(t),i(o.current.matches),AE(o.current,s=>i(s.matches))},[t]),r}const Io=typeof document<"u"?S.useLayoutEffect:S.useEffect;function yo(t,e){const n=S.useRef(!1);S.useEffect(()=>()=>{n.current=!1},[]),S.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function V0({opened:t,shouldReturnFocus:e=!0}){const n=S.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return yo(()=>{let i=-1;const o=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",o),t?n.current=document.activeElement:e&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",o)}},[t,e]),r}function OE(t,e="body > :not(script)"){const n=ps(),r=Array.from(document.querySelectorAll(e)).map(i=>{var l;if((l=i==null?void 0:i.shadowRoot)!=null&&l.contains(t)||i.contains(t))return;const o=i.getAttribute("aria-hidden"),s=i.getAttribute("data-hidden"),a=i.getAttribute("data-focus-id");return i.setAttribute("data-focus-id",n),o===null||o==="false"?i.setAttribute("aria-hidden","true"):!s&&!a&&i.setAttribute("data-hidden",o),{node:i,ariaHidden:s||null}});return()=>{r.forEach(i=>{!i||n!==i.node.getAttribute("data-focus-id")||(i.ariaHidden===null?i.node.removeAttribute("aria-hidden"):i.node.setAttribute("aria-hidden",i.ariaHidden),i.node.removeAttribute("data-focus-id"),i.node.removeAttribute("data-hidden"))})}}const LE=/input|select|textarea|button|object/,W0="a, input, select, textarea, button, object, [tabindex]";function HE(t){return t.style.display==="none"}function jE(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(HE(n))return!1;n=n.parentNode}return!0}function G0(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function yd(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(G0(t));return(LE.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&jE(t)}function Y0(t){const e=G0(t);return(Number.isNaN(e)||e>=0)&&yd(t)}function FE(t){return Array.from(t.querySelectorAll(W0)).filter(Y0)}function qE(t,e){const n=FE(t);if(!n.length){e.preventDefault();return}const r=n[e.shiftKey?0:n.length-1],i=t.getRootNode();let o=r===i.activeElement||t===i.activeElement;const s=i.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(o=n.filter(u=>u.getAttribute("type")==="radio"&&u.getAttribute("name")===s.getAttribute("name")).includes(r)),!o)return;e.preventDefault();const l=n[e.shiftKey?n.length-1:0];l&&l.focus()}function zE(t=!0){const e=S.useRef(),n=S.useRef(null),r=o=>{let s=o.querySelector("[data-autofocus]");if(!s){const a=Array.from(o.querySelectorAll(W0));s=a.find(Y0)||a.find(yd)||null,!s&&yd(o)&&(s=o)}s&&s.focus({preventScroll:!0})},i=S.useCallback(o=>{if(t){if(o===null){n.current&&(n.current(),n.current=null);return}n.current=OE(o),e.current!==o&&(o?(setTimeout(()=>{o.getRootNode()&&r(o)}),e.current=o):e.current=null)}},[t]);return S.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>r(e.current));const o=s=>{s.key==="Tab"&&e.current&&qE(e.current,s)};return document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o),n.current&&n.current()}},[t]),i}const BE=C["useId".toString()]||(()=>{});function UE(){const t=BE();return t?`mantine-${t.replace(/:/g,"")}`:""}function Ti(t){const e=UE(),[n,r]=S.useState(e);return Io(()=>{r(ps())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function VE(t,e,n){S.useEffect(()=>(window.addEventListener(t,e,n),()=>window.removeEventListener(t,e,n)),[t,e])}function K0(t,e){typeof t=="function"?t(e):typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function WE(...t){return e=>{t.forEach(n=>K0(n,e))}}function nn(...t){return S.useCallback(WE(...t),t)}function GE(t,e,n="ltr"){const r=S.useRef(null),i=S.useRef(!1),o=S.useRef(!1),s=S.useRef(0),[a,l]=S.useState(!1);return S.useEffect(()=>{i.current=!0},[]),S.useEffect(()=>{var m,w;const c=({x:T,y:x})=>{cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const h=r.current.getBoundingClientRect();if(h.width&&h.height){const R=fs((T-h.left)/h.width,0,1);t({x:n==="ltr"?R:1-R,y:fs((x-h.top)/h.height,0,1)})}}})},u=()=>{document.addEventListener("mousemove",v),document.addEventListener("mouseup",g),document.addEventListener("touchmove",f),document.addEventListener("touchend",g)},d=()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",g),document.removeEventListener("touchmove",f),document.removeEventListener("touchend",g)},p=()=>{!o.current&&i.current&&(o.current=!0,typeof(e==null?void 0:e.onScrubStart)=="function"&&e.onScrubStart(),l(!0),u())},g=()=>{o.current&&i.current&&(o.current=!1,l(!1),d(),setTimeout(()=>{typeof(e==null?void 0:e.onScrubEnd)=="function"&&e.onScrubEnd()},0))},y=T=>{p(),T.preventDefault(),v(T)},v=T=>c({x:T.clientX,y:T.clientY}),b=T=>{T.cancelable&&T.preventDefault(),p(),f(T)},f=T=>{T.cancelable&&T.preventDefault(),c({x:T.changedTouches[0].clientX,y:T.changedTouches[0].clientY})};return(m=r.current)==null||m.addEventListener("mousedown",y),(w=r.current)==null||w.addEventListener("touchstart",b,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",y),r.current.removeEventListener("touchstart",b))}},[n,t]),{ref:r,active:a}}function Si({value:t,defaultValue:e,finalValue:n,onChange:r=()=>{}}){const[i,o]=S.useState(e!==void 0?e:n),s=(a,...l)=>{o(a),r==null||r(a,...l)};return t!==void 0?[t,r,!0]:[i,s,!1]}function Z0(t,e){return ME("(prefers-reduced-motion: reduce)",t,e)}function YE(t,e){window.dispatchEvent(new CustomEvent(t,{detail:e}))}function KE(t){function e(r){const i=Object.keys(r).reduce((o,s)=>(o[`${t}:${s}`]=a=>r[s](a.detail),o),{});Io(()=>(Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o]),window.addEventListener(o,i[o])}),()=>Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o])})),[i])}function n(r){return(...i)=>YE(`${t}:${String(r)}`,i[0])}return[e,n]}function X0(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=X0(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Et(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=X0(t))&&(r&&(r+=" "),r+=e);return r}const ZE={};function XE(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([r,i])=>{e[r]?e[r]=Et(e[r],i):e[r]=i})}),e}function Ql({theme:t,classNames:e,props:n,stylesCtx:r}){const o=(Array.isArray(e)?e:[e]).map(s=>typeof s=="function"?s(t,n,r):s||ZE);return XE(o)}function bl({theme:t,styles:e,props:n,stylesCtx:r}){return(Array.isArray(e)?e:[e]).reduce((o,s)=>typeof s=="function"?{...o,...s(t,n,r)}:{...o,...s},{})}const Q0=S.createContext(null);function Zs(){const t=S.useContext(Q0);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function QE(){return Zs().cssVariablesResolver}function JE(){return Zs().classNamesPrefix}function Oh(){return Zs().getStyleNonce}function eC(){return Zs().withStaticClasses}function tC(){return Zs().headless}function nC(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function rC(t){let e=t.replace("#","");if(e.length===3){const s=e.split("");e=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(e.length===8){const s=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:s}}const n=parseInt(e,16),r=n>>16&255,i=n>>8&255,o=n&255;return{r,g:i,b:o,a:1}}function iC(t){const[e,n,r,i]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:r,a:i||1}}function oC(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,o=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*o-1))*i,l=r/60,c=a*(1-Math.abs(l%2-1)),u=o-a/2;let d,p,g;return l>=0&&l<1?(d=a,p=c,g=0):l>=1&&l<2?(d=c,p=a,g=0):l>=2&&l<3?(d=0,p=a,g=c):l>=3&&l<4?(d=0,p=c,g=a):l>=4&&l<5?(d=c,p=0,g=a):(d=a,p=0,g=c),{r:Math.round((d+u)*255),g:Math.round((p+u)*255),b:Math.round((g+u)*255),a:s||1}}function Lh(t){return nC(t)?rC(t):t.startsWith("rgb")?iC(t):t.startsWith("hsl")?oC(t):{r:0,g:0,b:0,a:1}}function Ia(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:r,b:i,a:o}=Lh(t),s=1-e,a=l=>Math.round(l*s);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${o})`}function El(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function lu(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function sC(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function aC(t){if(t.startsWith("oklch("))return(sC(t)||0)/100;const{r:e,g:n,b:r}=Lh(t),i=e/255,o=n/255,s=r/255,a=lu(i),l=lu(o),c=lu(s);return .2126*a+.7152*l+.0722*c}function Bo(t,e=.179){return t.startsWith("var(")?!1:aC(t)>e}function Po({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Bo(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Bo(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Bo(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[r,i]=t.split("."),o=i?Number(i):void 0,s=r in e.colors;if(s){const a=o!==void 0?e.colors[r][o]:e.colors[r][El(e,n||"light")];return{color:r,value:a,shade:o,isThemeColor:s,isLight:Bo(a,e.luminanceThreshold),variable:i?`--mantine-color-${r}-${o}`:`--mantine-color-${r}-filled`}}return{color:t,value:t,isThemeColor:s,isLight:Bo(t,e.luminanceThreshold),shade:o,variable:void 0}}function In(t,e){const n=Po({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function wd(t,e){const n={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)||e.defaultGradient.deg||0},r=In(n.from,e),i=In(n.to,e);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function Dt(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const o=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${o}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:r,b:i}=Lh(t);return`rgba(${n}, ${r}, ${i}, ${e})`}const lC=({color:t,theme:e,variant:n,gradient:r,autoContrast:i})=>{const o=Po({color:t,theme:e}),s=typeof i=="boolean"?i:e.autoContrast;if(n==="filled"){const a=s&&o.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return o.isThemeColor?o.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:a,border:`${V(1)} solid transparent`}:{background:`var(--mantine-color-${o.color}-${o.shade})`,hover:`var(--mantine-color-${o.color}-${o.shade===9?8:o.shade+1})`,color:a,border:`${V(1)} solid transparent`}:{background:t,hover:Ia(t,.1),color:a,border:`${V(1)} solid transparent`}}if(n==="light"){if(o.isThemeColor){if(o.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${V(1)} solid transparent`};const a=e.colors[o.color][o.shade];return{background:Dt(a,.1),hover:Dt(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${V(1)} solid transparent`}}return{background:Dt(t,.1),hover:Dt(t,.12),color:t,border:`${V(1)} solid transparent`}}if(n==="outline")return o.isThemeColor?o.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${V(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:Dt(e.colors[o.color][o.shade],.05),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${V(1)} solid var(--mantine-color-${o.color}-${o.shade})`}:{background:"transparent",hover:Dt(t,.05),color:t,border:`${V(1)} solid ${t}`};if(n==="subtle"){if(o.isThemeColor){if(o.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${V(1)} solid transparent`};const a=e.colors[o.color][o.shade];return{background:"transparent",hover:Dt(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${V(1)} solid transparent`}}return{background:"transparent",hover:Dt(t,.12),color:t,border:`${V(1)} solid transparent`}}return n==="transparent"?o.isThemeColor?o.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${V(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${V(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${V(1)} solid transparent`}:n==="white"?o.isThemeColor?o.shade===void 0?{background:"var(--mantine-color-white)",hover:Ia(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${V(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Ia(e.white,.01),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${V(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Ia(e.white,.01),color:t,border:`${V(1)} solid transparent`}:n==="gradient"?{background:wd(r,e),hover:wd(r,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${V(1)} solid var(--mantine-color-default-border)`}:{}},cC={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},eg="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Hh={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:cC,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:lC,autoContrast:!1,luminanceThreshold:.3,fontFamily:eg,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:eg,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:V(34),lineHeight:"1.3"},h2:{fontSize:V(26),lineHeight:"1.35"},h3:{fontSize:V(22),lineHeight:"1.4"},h4:{fontSize:V(18),lineHeight:"1.45"},h5:{fontSize:V(16),lineHeight:"1.5"},h6:{fontSize:V(14),lineHeight:"1.5"}}},fontSizes:{xs:V(12),sm:V(14),md:V(16),lg:V(18),xl:V(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:V(2),sm:V(4),md:V(8),lg:V(16),xl:V(32)},spacing:{xs:V(10),sm:V(12),md:V(16),lg:V(20),xl:V(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${V(1)} ${V(3)} rgba(0, 0, 0, 0.05), 0 ${V(1)} ${V(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${V(1)} ${V(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${V(10)} ${V(15)} ${V(-5)}, rgba(0, 0, 0, 0.04) 0 ${V(7)} ${V(7)} ${V(-5)}`,md:`0 ${V(1)} ${V(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${V(20)} ${V(25)} ${V(-5)}, rgba(0, 0, 0, 0.04) 0 ${V(10)} ${V(10)} ${V(-5)}`,lg:`0 ${V(1)} ${V(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${V(28)} ${V(23)} ${V(-7)}, rgba(0, 0, 0, 0.04) 0 ${V(12)} ${V(12)} ${V(-7)}`,xl:`0 ${V(1)} ${V(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${V(36)} ${V(28)} ${V(-7)}, rgba(0, 0, 0, 0.04) 0 ${V(17)} ${V(17)} ${V(-7)}`},other:{},components:{}};function tg(t){return t==="auto"||t==="dark"||t==="light"}function uC({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(t);return tg(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{e=r=>{r.storageArea===window.localStorage&&r.key===t&&tg(r.newValue)&&n(r.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const dC="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",ng="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function cu(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function rg(t){if(!(t.primaryColor in t.colors))throw new Error(dC);if(typeof t.primaryShade=="object"&&(!cu(t.primaryShade.dark)||!cu(t.primaryShade.light)))throw new Error(ng);if(typeof t.primaryShade=="number"&&!cu(t.primaryShade))throw new Error(ng)}function hC(t,e){var r;if(!e)return rg(t),t;const n=Nh(t,e);return e.fontFamily&&!((r=e.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=e.fontFamily),rg(n),n}const jh=S.createContext(null),fC=()=>S.useContext(jh)||Hh;function Vn(){const t=S.useContext(jh);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function J0({theme:t,children:e,inherit:n=!0}){const r=fC(),i=S.useMemo(()=>hC(n?r:Hh,t),[t,r,n]);return C.createElement(jh.Provider,{value:i},e)}J0.displayName="@mantine/core/MantineThemeProvider";function pC(){const t=Vn(),e=Oh(),n=$t(t.breakpoints).reduce((r,i)=>{const o=t.breakpoints[i].includes("px"),s=vd(t.breakpoints[i]),a=o?`${s-.1}px`:Qp(s-.1),l=o?`${s}px`:Qp(s);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return C.createElement("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:n}})}function uu(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function du(t,e){return(Array.isArray(t)?t:[t]).reduce((r,i)=>`${i}{${r}}`,e)}function gC(t,e){const n=uu(t.variables),r=n?du(e,n):"",i=uu(t.dark),o=i?du(`${e}[data-mantine-color-scheme="dark"]`,i):"",s=uu(t.light),a=s?du(`${e}[data-mantine-color-scheme="light"]`,s):"";return`${r}${o}${a}`}function ey({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&Po({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function ig(t,e){return ey({color:t.colors[t.primaryColor][El(t,e)],theme:t,autoContrast:null})}function Oi(t,e,n){$t(e).forEach(r=>Object.assign(t,{[`--mantine-${n}-${r}`]:e[r]}))}const ty=t=>{const e=El(t,"dark"),n=El(t,"light"),r=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:V(t.defaultRadius),i={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-color-scheme":"light dark","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":ig(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${n})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)"},dark:{"--mantine-primary-color-contrast":ig(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)"}};Oi(i.variables,t.breakpoints,"breakpoint"),Oi(i.variables,t.spacing,"spacing"),Oi(i.variables,t.fontSizes,"font-size"),Oi(i.variables,t.lineHeights,"line-height"),Oi(i.variables,t.shadows,"shadow"),Oi(i.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((s,a)=>{i.variables[`--mantine-primary-color-${a}`]=`var(--mantine-color-${t.primaryColor}-${a})`}),$t(t.colors).forEach(s=>{t.colors[s].forEach((c,u)=>{i.variables[`--mantine-color-${s}-${u}`]=c});const a=`var(--mantine-color-${s}-${n===9?8:n+1})`,l=`var(--mantine-color-${s}-${e===9?8:e+1})`;i.light["--mantine-color-dimmed"]="var(--mantine-color-gray-6)",i.light[`--mantine-color-${s}-text`]=`var(--mantine-color-${s}-filled)`,i.light[`--mantine-color-${s}-filled`]=`var(--mantine-color-${s}-${n})`,i.light[`--mantine-color-${s}-filled-hover`]=a,i.light[`--mantine-color-${s}-light`]=Dt(t.colors[s][n],.1),i.light[`--mantine-color-${s}-light-hover`]=Dt(t.colors[s][n],.12),i.light[`--mantine-color-${s}-light-color`]=`var(--mantine-color-${s}-${n})`,i.light[`--mantine-color-${s}-outline`]=`var(--mantine-color-${s}-${n})`,i.light[`--mantine-color-${s}-outline-hover`]=Dt(t.colors[s][n],.05),i.dark["--mantine-color-dimmed"]="var(--mantine-color-dark-2)",i.dark[`--mantine-color-${s}-text`]=`var(--mantine-color-${s}-4)`,i.dark[`--mantine-color-${s}-filled`]=`var(--mantine-color-${s}-${e})`,i.dark[`--mantine-color-${s}-filled-hover`]=l,i.dark[`--mantine-color-${s}-light`]=Dt(t.colors[s][Math.max(0,e-2)],.15),i.dark[`--mantine-color-${s}-light-hover`]=Dt(t.colors[s][Math.max(0,e-2)],.2),i.dark[`--mantine-color-${s}-light-color`]=`var(--mantine-color-${s}-${Math.max(e-5,0)})`,i.dark[`--mantine-color-${s}-outline`]=`var(--mantine-color-${s}-${Math.max(e-4,0)})`,i.dark[`--mantine-color-${s}-outline-hover`]=Dt(t.colors[s][Math.max(e-4,0)],.05)});const o=t.headings.sizes;return $t(o).forEach(s=>{i.variables[`--mantine-${s}-font-size`]=o[s].fontSize,i.variables[`--mantine-${s}-line-height`]=o[s].lineHeight,i.variables[`--mantine-${s}-font-weight`]=o[s].fontWeight||t.headings.fontWeight}),i};function mC({theme:t,generator:e}){const n=ty(t),r=e==null?void 0:e(t);return r?Nh(n,r):n}const hu=ty(Hh);function vC(t){const e={variables:{},light:{},dark:{}};return $t(t.variables).forEach(n=>{hu.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),$t(t.light).forEach(n=>{hu.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),$t(t.dark).forEach(n=>{hu.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function yC(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function ny({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=Vn(),r=Oh(),i=QE(),o=mC({theme:n,generator:i}),s=t===":root"&&e,a=s?vC(o):o,l=gC(a,t);return l?C.createElement("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${l}${s?"":yC(t)}`}}):null}ny.displayName="@mantine/CssVariables";function wC(){const t=console.error;console.error=(...e)=>{e.length>1&&typeof e[0]=="string"&&e[0].toLowerCase().includes("extra attributes from the server")&&typeof e[1]=="string"&&e[1].toLowerCase().includes("data-mantine-color-scheme")||t(...e)}}function Li(t,e){var r;const n=t!=="auto"?t:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(r=e())==null||r.setAttribute("data-mantine-color-scheme",n)}function SC({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:r}){const i=S.useRef(),[o,s]=S.useState(()=>t.get(e)),a=r||o,l=S.useCallback(u=>{r||(Li(u,n),s(u),t.set(u))},[t.set,a,r]),c=S.useCallback(()=>{s(e),Li(e,n),t.clear()},[t.clear,e]);return S.useEffect(()=>(t.subscribe(l),t.unsubscribe),[t.subscribe,t.unsubscribe]),Io(()=>{Li(t.get(e),n)},[]),S.useEffect(()=>{var d;if(r)return Li(r,n),()=>{};r===void 0&&Li(o,n),i.current=window.matchMedia("(prefers-color-scheme: dark)");const u=p=>{o==="auto"&&Li(p.matches?"dark":"light",n)};return(d=i.current)==null||d.addEventListener("change",u),()=>{var p;return(p=i.current)==null?void 0:p.removeEventListener("change",u)}},[o,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:c}}function bC({respectReducedMotion:t,getRootElement:e}){Io(()=>{var n;t&&((n=e())==null||n.setAttribute("data-respect-reduced-motion","true"))},[t])}wC();function ry({theme:t,children:e,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:o=!0,withCssVariables:s=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:c=uC(),defaultColorScheme:u="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:p,forceColorScheme:g}){const{colorScheme:y,setColorScheme:v,clearColorScheme:b}=SC({defaultColorScheme:u,forceColorScheme:g,manager:c,getRootElement:d});return bC({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:d}),C.createElement(Q0.Provider,{value:{colorScheme:y,setColorScheme:v,clearColorScheme:b,getRootElement:d,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:p,cssVariablesSelector:a,withStaticClasses:r}},C.createElement(J0,{theme:t},s&&C.createElement(ny,{cssVariablesSelector:a,deduplicateCssVariables:o}),i&&C.createElement(pC,null),e))}ry.displayName="@mantine/core/MantineProvider";function iy({classNames:t,styles:e,props:n,stylesCtx:r}){const i=Vn();return{resolvedClassNames:Ql({theme:i,classNames:t,props:n,stylesCtx:r||void 0}),resolvedStyles:bl({theme:i,styles:e,props:n,stylesCtx:r||void 0})}}const EC={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function CC({theme:t,options:e,unstyled:n}){return Et((e==null?void 0:e.focusable)&&!n&&(t.focusClassName||EC[t.focusRing]),(e==null?void 0:e.active)&&!n&&t.activeClassName)}function TC({selector:t,stylesCtx:e,options:n,props:r,theme:i}){return Ql({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:e})[t]}function xC({selector:t,stylesCtx:e,theme:n,classNames:r,props:i}){return Ql({theme:n,classNames:r,props:i,stylesCtx:e})[t]}function RC({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function $C({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function kC({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:r}){return r===!1?[]:t.map(i=>`${e}-${i}-${n}`)}function IC({themeName:t,theme:e,selector:n,props:r,stylesCtx:i}){return t.map(o=>{var s,a;return(a=Ql({theme:e,classNames:(s=e.components[o])==null?void 0:s.classNames,props:r,stylesCtx:i}))==null?void 0:a[n]})}function PC({options:t,classes:e,selector:n,unstyled:r}){return t!=null&&t.variant&&!r?e[`${n}--${t.variant}`]:void 0}function DC({theme:t,options:e,themeName:n,selector:r,classNamesPrefix:i,classNames:o,classes:s,unstyled:a,className:l,rootSelector:c,props:u,stylesCtx:d,withStaticClasses:p,headless:g}){return Et(CC({theme:t,options:e,unstyled:a||g}),IC({theme:t,themeName:n,selector:r,props:u,stylesCtx:d}),PC({options:e,classes:s,selector:r,unstyled:a}),xC({selector:r,stylesCtx:d,theme:t,classNames:o,props:u}),TC({selector:r,stylesCtx:d,options:e,props:u,theme:t}),RC({rootSelector:c,selector:r,className:l}),$C({selector:r,classes:s,unstyled:a||g}),p&&!g&&kC({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function _C({theme:t,themeName:e,props:n,stylesCtx:r,selector:i}){return e.map(o=>{var s;return bl({theme:t,styles:(s=t.components[o])==null?void 0:s.styles,props:n,stylesCtx:r})[i]}).reduce((o,s)=>({...o,...s}),{})}function Sd({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...Sd({style:r,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function AC(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(r=>{e[r]={...e[r],...Ys(n[r])}}),e),{})}function NC({vars:t,varsResolver:e,theme:n,props:r,stylesCtx:i,selector:o,themeName:s,headless:a}){var l;return(l=AC([a?{}:e==null?void 0:e(n,r,i),...s.map(c=>{var u,d,p;return(p=(d=(u=n.components)==null?void 0:u[c])==null?void 0:d.vars)==null?void 0:p.call(d,n,r,i)}),t==null?void 0:t(n,r,i)]))==null?void 0:l[o]}function MC({theme:t,themeName:e,selector:n,options:r,props:i,stylesCtx:o,rootSelector:s,styles:a,style:l,vars:c,varsResolver:u,headless:d}){return{..._C({theme:t,themeName:e,props:i,stylesCtx:o,selector:n}),...bl({theme:t,styles:a,props:i,stylesCtx:o})[n],...bl({theme:t,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:o})[n],...NC({theme:t,props:i,stylesCtx:o,vars:c,varsResolver:u,selector:n,themeName:e,headless:d}),...s===n?Sd({style:l,theme:t}):null,...Sd({style:r==null?void 0:r.style,theme:t})}}function Te({name:t,classes:e,props:n,stylesCtx:r,className:i,style:o,rootSelector:s="root",unstyled:a,classNames:l,styles:c,vars:u,varsResolver:d}){const p=Vn(),g=JE(),y=eC(),v=tC(),b=(Array.isArray(t)?t:[t]).filter(f=>f);return(f,m)=>({className:DC({theme:p,options:m,themeName:b,selector:f,classNamesPrefix:g,classNames:l,classes:e,unstyled:a,className:i,rootSelector:s,props:n,stylesCtx:r,withStaticClasses:y,headless:v}),style:MC({theme:p,themeName:b,selector:f,options:m,props:n,stylesCtx:r,rootSelector:s,styles:c,style:o,vars:u,varsResolver:d,headless:v})})}function OC(t,e){return typeof t=="boolean"?t:e.autoContrast}function ne(t,e,n){var s;const r=Vn(),i=(s=r.components[t])==null?void 0:s.defaultProps,o=typeof i=="function"?i(r):i;return{...e,...o,...Ys(n)}}function og(t){return $t(t).reduce((e,n)=>t[n]!==void 0?`${e}${TE(n)}:${t[n]};`:e,"").trim()}function LC({selector:t,styles:e,media:n}){const r=e?og(e):"",i=Array.isArray(n)?n.map(o=>`@media${o.query}{${t}{${og(o.styles)}}}`):[];return`${r?`${t}{${r}}`:""}${i.join("")}`.trim()}function Fh({selector:t,styles:e,media:n}){const r=Oh();return C.createElement("style",{"data-mantine-styles":"inline",nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:LC({selector:t,styles:e,media:n})}})}function Xs(t){const{m:e,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:l,ms:c,p:u,px:d,py:p,pt:g,pb:y,pl:v,pr:b,pe:f,ps:m,bg:w,c:T,opacity:x,ff:h,fz:R,fw:$,lts:O,ta:E,lh:_,fs:P,tt:k,td:F,w:L,miw:N,maw:D,h:I,mih:M,mah:z,bgsz:Y,bgp:X,bgr:ae,bga:le,pos:fe,top:ve,left:me,bottom:Ue,right:He,inset:Re,display:ye,flex:B,hiddenFrom:re,visibleFrom:Q,lightHidden:se,darkHidden:Ee,...pt}=t;return{styleProps:Ys({m:e,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:l,ms:c,p:u,px:d,py:p,pt:g,pb:y,pl:v,pr:b,pe:f,ps:m,bg:w,c:T,opacity:x,ff:h,fz:R,fw:$,lts:O,ta:E,lh:_,fs:P,tt:k,td:F,w:L,miw:N,maw:D,h:I,mih:M,mah:z,bgsz:Y,bgp:X,bgr:ae,bga:le,pos:fe,top:ve,left:me,bottom:Ue,right:He,inset:Re,display:ye,flex:B,hiddenFrom:re,visibleFrom:Q,lightHidden:se,darkHidden:Ee}),rest:pt}}const HC={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function oy(t,e){const n=Po({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function jC(t,e){const n=Po({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:oy(t,e)}const sg={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)"};function FC(t){return typeof t=="string"&&t in sg?sg[t]:t}function qC(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="number"||typeof t=="string"?V(t):t}function zC(t){return t}function BC(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:t}function UC(t){return typeof t=="number"?V(t):t}function VC(t,e){if(typeof t=="number")return V(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return V(t);const r=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return t}const fu={color:oy,textColor:jC,fontSize:qC,spacing:VC,identity:zC,size:UC,lineHeight:BC,fontFamily:FC};function ag(t){return t.replace("(min-width: ","").replace("em)","")}function WC({media:t,...e}){const r=Object.keys(t).sort((i,o)=>Number(ag(i))-Number(ag(o))).map(i=>({query:i,styles:t[i]}));return{...e,media:r}}function GC(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function YC(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function KC(t){return typeof t=="object"&&t!==null?$t(t).filter(e=>e!=="base"):[]}function ZC(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function XC({styleProps:t,data:e,theme:n}){return WC($t(t).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom")return r;const o=e[i],s=Array.isArray(o.property)?o.property:[o.property],a=YC(t[i]);if(!GC(t[i]))return s.forEach(c=>{r.inlineStyles[c]=fu[o.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=KC(t[i]);return s.forEach(c=>{a&&(r.styles[c]=fu[o.type](a,n)),l.forEach(u=>{const d=`(min-width: ${n.breakpoints[u]})`;r.media[d]={...r.media[d],[c]:fu[o.type](ZC(t[i],u),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function qh(){return`__m__-${S.useId().replace(/:/g,"")}`}function sy(t){return t.startsWith("data-")?t:`data-${t}`}function QC(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return r===void 0||r===""||r===!1||r===null||(e[sy(n)]=t[n]),e},{})}function ay(t){return t?typeof t=="string"?{[sy(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...ay(n)}),{}):QC(t):null}function bd(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...bd(r,e)}),{}):typeof t=="function"?t(e):t??{}}function JC({theme:t,style:e,vars:n,styleProps:r}){const i=bd(e,t),o=bd(n,t);return{...i,...o,...r}}const ly=S.forwardRef(({component:t,style:e,__vars:n,className:r,variant:i,mod:o,size:s,hiddenFrom:a,visibleFrom:l,lightHidden:c,darkHidden:u,renderRoot:d,...p},g)=>{const y=Vn(),v=t||"div",{styleProps:b,rest:f}=Xs(p),m=qh(),w=XC({styleProps:b,theme:y,data:HC}),T={ref:g,style:JC({theme:y,style:e,vars:n,styleProps:w.inlineStyles}),className:Et(r,{[m]:w.hasResponsiveStyles,"mantine-light-hidden":c,"mantine-dark-hidden":u,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":B0(s)?void 0:s||void 0,...ay(o),...f};return C.createElement(C.Fragment,null,w.hasResponsiveStyles&&C.createElement(Fh,{selector:`.${m}`,styles:w.styles,media:w.media}),typeof d=="function"?d(T):C.createElement(v,{...T}))});ly.displayName="@mantine/core/Box";const te=ly;function cy(t){return t}function de(t){const e=S.forwardRef(t);return e.extend=cy,e}function Wn(t){const e=S.forwardRef(t);return e.extend=cy,e}const e2=S.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Jl(){return S.useContext(e2)}const[t2,mn]=cr("ScrollArea.Root component was not found in tree");function wo(t,e){const n=ti(e);Io(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}const n2=C.forwardRef((t,e)=>{const{style:n,...r}=t,i=mn(),[o,s]=C.useState(0),[a,l]=C.useState(0),c=!!(o&&a);return wo(i.scrollbarX,()=>{var d;const u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),wo(i.scrollbarY,()=>{var d;const u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),s(u)}),c?C.createElement("div",{...r,ref:e,style:{...n,width:o,height:a}}):null}),r2=C.forwardRef((t,e)=>{const n=mn(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?C.createElement(n2,{...t,ref:e}):null}),i2={scrollHideDelay:1e3,type:"hover"},uy=S.forwardRef((t,e)=>{const n=ne("ScrollAreaRoot",i2,t),{type:r,scrollHideDelay:i,scrollbars:o,...s}=n,[a,l]=S.useState(null),[c,u]=S.useState(null),[d,p]=S.useState(null),[g,y]=S.useState(null),[v,b]=S.useState(null),[f,m]=S.useState(0),[w,T]=S.useState(0),[x,h]=S.useState(!1),[R,$]=S.useState(!1),O=nn(e,E=>l(E));return C.createElement(t2,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:p,scrollbarX:g,onScrollbarXChange:y,scrollbarXEnabled:x,onScrollbarXEnabledChange:h,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:R,onScrollbarYEnabledChange:$,onCornerWidthChange:m,onCornerHeightChange:T}},C.createElement(te,{...s,ref:O,__vars:{"--sa-corner-width":o!=="xy"?"0px":`${f}px`,"--sa-corner-height":o!=="xy"?"0px":`${w}px`}}))});uy.displayName="@mantine/core/ScrollAreaRoot";function dy(t,e){const n=t/e;return Number.isNaN(n)?0:n}function ec(t){const e=dy(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function hy(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function o2(t,[e,n]){return Math.min(n,Math.max(e,t))}function lg(t,e,n="ltr"){const r=ec(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=o2(t,l);return hy([0,s],[0,a])(c)}function s2(t,e,n,r="ltr"){const i=ec(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return hy([l,c],d)(t)}function fy(t,e){return t>0&&t<e}function Cl(t){return t?parseInt(t,10):0}function di(t,e,{checkForDefaultPrevented:n=!0}={}){return r=>{t==null||t(r),(n===!1||!r.defaultPrevented)&&(e==null||e(r))}}const[a2,py]=cr("ScrollAreaScrollbar was not found in tree"),gy=S.forwardRef((t,e)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:c,onResize:u,...d}=t,p=mn(),[g,y]=C.useState(null),v=nn(e,$=>y($)),b=C.useRef(null),f=C.useRef(""),{viewport:m}=p,w=n.content-n.viewport,T=ti(c),x=ti(a),h=Xl(u,10),R=$=>{if(b.current){const O=$.clientX-b.current.left,E=$.clientY-b.current.top;l({x:O,y:E})}};return S.useEffect(()=>{const $=O=>{const E=O.target;(g==null?void 0:g.contains(E))&&T(O,w)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[m,g,w,T]),S.useEffect(x,[n,x]),wo(g,h),wo(p.content,h),C.createElement(a2,{value:{scrollbar:g,hasThumb:r,onThumbChange:ti(i),onThumbPointerUp:ti(o),onThumbPositionChange:x,onThumbPointerDown:ti(s)}},C.createElement("div",{...d,ref:v,style:{position:"absolute",...d.style},onPointerDown:di(t.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),b.current=g.getBoundingClientRect(),f.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",R($))}),onPointerMove:di(t.onPointerMove,R),onPointerUp:di(t.onPointerUp,$=>{const O=$.target;O.hasPointerCapture($.pointerId)&&O.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=f.current,b.current=null})}))}),l2=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,style:i,...o}=t,s=mn(),[a,l]=S.useState(),c=S.useRef(null),u=nn(e,c,s.onScrollbarXChange);return S.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),C.createElement(gy,{"data-orientation":"horizontal",...o,ref:u,sizes:n,style:{...i,"--sa-thumb-width":`${ec(n)}px`},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,p)=>{if(s.viewport){const g=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(g),fy(g,p)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Cl(a.paddingLeft),paddingEnd:Cl(a.paddingRight)}})}})}),c2=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,style:i,...o}=t,s=mn(),[a,l]=C.useState(),c=S.useRef(null),u=nn(e,c,s.onScrollbarYChange);return S.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),C.createElement(gy,{...o,"data-orientation":"vertical",ref:u,sizes:n,style:{"--sa-thumb-height":`${ec(n)}px`,...i},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,p)=>{if(s.viewport){const g=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(g),fy(g,p)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Cl(a.paddingTop),paddingEnd:Cl(a.paddingBottom)}})}})}),zh=S.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,{dir:i}=Jl(),o=mn(),s=S.useRef(null),a=S.useRef(0),[l,c]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=dy(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:g=>{s.current=g},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:g=>{a.current=g}},p=(g,y)=>s2(g,a.current,l,y);return n==="horizontal"?C.createElement(l2,{...d,ref:e,onThumbPositionChange:()=>{if(o.viewport&&s.current){const g=o.viewport.scrollLeft,y=lg(g,l,i);s.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollLeft=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollLeft=p(g,i))}}):n==="vertical"?C.createElement(c2,{...d,ref:e,onThumbPositionChange:()=>{if(o.viewport&&s.current){const g=o.viewport.scrollTop,y=lg(g,l);s.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollTop=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollTop=p(g))}}):null}),my=S.forwardRef((t,e)=>{const n=mn(),{forceMount:r,...i}=t,[o,s]=S.useState(!1),a=t.orientation==="horizontal",l=Xl(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:u)}},10);return wo(n.viewport,l),wo(n.content,l),r||o?C.createElement(zh,{"data-state":o?"visible":"hidden",...i,ref:e}):null}),u2=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=mn(),[o,s]=S.useState(!1);return S.useEffect(()=>{const{scrollArea:a}=i;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),n||o?C.createElement(my,{"data-state":o?"visible":"hidden",...r,ref:e}):null}),d2=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=mn(),o=t.orientation==="horizontal",[s,a]=S.useState("hidden"),l=Xl(()=>a("idle"),100);return S.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay]),S.useEffect(()=>{const{viewport:c}=i,u=o?"scrollLeft":"scrollTop";if(c){let d=c[u];const p=()=>{const g=c[u];d!==g&&(a("scrolling"),l()),d=g};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[i.viewport,o,l]),n||s!=="hidden"?C.createElement(zh,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:di(t.onPointerEnter,()=>a("interacting")),onPointerLeave:di(t.onPointerLeave,()=>a("idle"))}):null}),cg=C.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=mn(),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return C.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?C.createElement(u2,{...r,ref:e,forceMount:n}):i.type==="scroll"?C.createElement(d2,{...r,ref:e,forceMount:n}):i.type==="auto"?C.createElement(my,{...r,ref:e,forceMount:n}):i.type==="always"?C.createElement(zh,{...r,ref:e}):null});function h2(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)}const f2=S.forwardRef((t,e)=>{const{style:n,...r}=t,i=mn(),o=py(),{onThumbPositionChange:s}=o,a=nn(e,u=>o.onThumbChange(u)),l=S.useRef(),c=Xl(()=>{l.current&&(l.current(),l.current=void 0)},100);return S.useEffect(()=>{const{viewport:u}=i;if(u){const d=()=>{if(c(),!l.current){const p=h2(u,s);l.current=p,s()}};return s(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[i.viewport,c,s]),C.createElement("div",{"data-state":o.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:di(t.onPointerDownCapture,u=>{const p=u.target.getBoundingClientRect(),g=u.clientX-p.left,y=u.clientY-p.top;o.onThumbPointerDown({x:g,y})}),onPointerUp:di(t.onPointerUp,o.onThumbPointerUp)})}),ug=C.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=py();return n||i.hasThumb?C.createElement(f2,{ref:e,...r}):null}),vy=S.forwardRef(({children:t,style:e,...n},r)=>{const i=mn(),o=nn(r,i.onViewportChange);return C.createElement(te,{...n,ref:o,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e}},C.createElement("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange},t))});vy.displayName="@mantine/core/ScrollAreaViewport";var Bh={root:"m-d57069b5",viewport:"m-c0783ff9",viewportInner:"m-f8f631dd",scrollbar:"m-c44ba933",thumb:"m-d8b5e363",corner:"m-21657268"};const yy={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},p2=(t,{scrollbarSize:e})=>({root:{"--scrollarea-scrollbar-size":V(e)}}),Do=de((t,e)=>{const n=ne("ScrollArea",yy,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,scrollbarSize:l,vars:c,type:u,scrollHideDelay:d,viewportProps:p,viewportRef:g,onScrollPositionChange:y,children:v,offsetScrollbars:b,scrollbars:f,...m}=n,[w,T]=S.useState(!1),x=Te({name:"ScrollArea",props:n,classes:Bh,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:p2});return C.createElement(uy,{type:u==="never"?"always":u,scrollHideDelay:d,ref:e,scrollbars:f,...x("root"),...m},C.createElement(vy,{...p,...x("viewport",{style:p==null?void 0:p.style}),ref:g,"data-offset-scrollbars":b===!0?"xy":b||void 0,"data-scrollbars":f||void 0,onScroll:typeof y=="function"?({currentTarget:h})=>y({x:h.scrollLeft,y:h.scrollTop}):void 0},v),(f==="xy"||f==="x")&&C.createElement(cg,{...x("scrollbar"),orientation:"horizontal","data-hidden":u==="never"||void 0,forceMount:!0,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1)},C.createElement(ug,{...x("thumb")})),(f==="xy"||f==="y")&&C.createElement(cg,{...x("scrollbar"),orientation:"vertical","data-hidden":u==="never"||void 0,forceMount:!0,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1)},C.createElement(ug,{...x("thumb")})),C.createElement(r2,{...x("corner"),"data-hovered":w||void 0,"data-hidden":u==="never"||void 0}))});Do.displayName="@mantine/core/ScrollArea";const Uh=de((t,e)=>{const{children:n,classNames:r,styles:i,scrollbarSize:o,scrollHideDelay:s,type:a,dir:l,offsetScrollbars:c,viewportRef:u,onScrollPositionChange:d,unstyled:p,variant:g,viewportProps:y,scrollbars:v,style:b,vars:f,...m}=ne("ScrollAreaAutosize",yy,t);return C.createElement(te,{...m,ref:e,style:[{display:"flex",overflow:"auto"},b]},C.createElement(te,{style:{display:"flex",flexDirection:"column",flex:1}},C.createElement(Do,{classNames:r,styles:i,scrollHideDelay:s,scrollbarSize:o,type:a,dir:l,offsetScrollbars:c,viewportRef:u,onScrollPositionChange:d,unstyled:p,variant:g,viewportProps:y,vars:f,scrollbars:v},n)))});Do.classes=Bh;Uh.displayName="@mantine/core/ScrollAreaAutosize";Uh.classes=Bh;Do.Autosize=Uh;var wy={root:"m-87cf2631"};const g2={__staticSelector:"UnstyledButton"},Qs=Wn((t,e)=>{const n=ne("UnstyledButton",g2,t),{className:r,component:i="button",__staticSelector:o,unstyled:s,classNames:a,styles:l,style:c,...u}=n,d=Te({name:o,props:n,classes:wy,className:r,style:c,classNames:a,styles:l,unstyled:s});return C.createElement(te,{...d("root",{focusable:!0}),component:i,ref:e,type:i==="button"?"button":void 0,...u})});Qs.classes=wy;Qs.displayName="@mantine/core/UnstyledButton";var Sy={root:"m-515a97f8"};const m2={},Vh=de((t,e)=>{const n=ne("VisuallyHidden",m2,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,...c}=n,u=Te({name:"VisuallyHidden",classes:Sy,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a});return C.createElement(te,{component:"span",ref:e,...u("root"),...c})});Vh.classes=Sy;Vh.displayName="@mantine/core/VisuallyHidden";var by={root:"m-1b7284a3"};const v2={},y2=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:An(e),"--paper-shadow":Mh(n)}}),Wh=Wn((t,e)=>{const n=ne("Paper",v2,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,withBorder:l,vars:c,radius:u,shadow:d,variant:p,mod:g,...y}=n,v=Te({name:"Paper",props:n,classes:by,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:y2});return C.createElement(te,{ref:e,mod:[{"data-with-border":l},g],...v("root"),variant:p,...y})});Wh.classes=by;Wh.displayName="@mantine/core/Paper";function qr(t){return Ey(t)?(t.nodeName||"").toLowerCase():"#document"}function Xt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ur(t){var e;return(e=(Ey(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ey(t){return t instanceof Node||t instanceof Xt(t).Node}function Yt(t){return t instanceof Element||t instanceof Xt(t).Element}function Un(t){return t instanceof HTMLElement||t instanceof Xt(t).HTMLElement}function dg(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xt(t).ShadowRoot}function Js(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=gn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function w2(t){return["table","td","th"].includes(qr(t))}function Gh(t){const e=Yh(),n=gn(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function S2(t){let e=So(t);for(;Un(e)&&!tc(e);){if(Gh(e))return e;e=So(e)}return null}function Yh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function tc(t){return["html","body","#document"].includes(qr(t))}function gn(t){return Xt(t).getComputedStyle(t)}function nc(t){return Yt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function So(t){if(qr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||dg(t)&&t.host||ur(t);return dg(e)?e.host:e}function Cy(t){const e=So(t);return tc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Un(e)&&Js(e)?e:Cy(e)}function Ms(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Cy(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Xt(i);return o?e.concat(s,s.visualViewport||[],Js(i)?i:[],s.frameElement&&n?Ms(s.frameElement):[]):e.concat(i,Ms(i,[],n))}const Dn=Math.min,Rt=Math.max,Tl=Math.round,Pa=Math.floor,zr=t=>({x:t,y:t}),b2={left:"right",right:"left",bottom:"top",top:"bottom"},E2={start:"end",end:"start"};function Ed(t,e,n){return Rt(t,Dn(e,n))}function ar(t,e){return typeof t=="function"?t(e):t}function _n(t){return t.split("-")[0]}function _o(t){return t.split("-")[1]}function Kh(t){return t==="x"?"y":"x"}function Zh(t){return t==="y"?"height":"width"}function xi(t){return["top","bottom"].includes(_n(t))?"y":"x"}function Xh(t){return Kh(xi(t))}function C2(t,e,n){n===void 0&&(n=!1);const r=_o(t),i=Xh(t),o=Zh(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=xl(s)),[s,xl(s)]}function T2(t){const e=xl(t);return[Cd(t),e,Cd(e)]}function Cd(t){return t.replace(/start|end/g,e=>E2[e])}function x2(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function R2(t,e,n,r){const i=_o(t);let o=x2(_n(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(Cd)))),o}function xl(t){return t.replace(/left|right|bottom|top/g,e=>b2[e])}function $2(t){return{top:0,right:0,bottom:0,left:0,...t}}function Qh(t){return typeof t!="number"?$2(t):{top:t,right:t,bottom:t,left:t}}function bo(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function hg(t,e,n){let{reference:r,floating:i}=t;const o=xi(e),s=Xh(e),a=Zh(s),l=_n(e),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-i.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-i.width,y:d};break;default:g={x:r.x,y:r.y}}switch(_o(e)){case"start":g[s]-=p*(n&&c?-1:1);break;case"end":g[s]+=p*(n&&c?-1:1);break}return g}const k2=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=hg(c,r,l),p=r,g={},y=0;for(let v=0;v<a.length;v++){const{name:b,fn:f}=a[v],{x:m,y:w,data:T,reset:x}=await f({x:u,y:d,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:c,platform:s,elements:{reference:t,floating:e}});u=m??u,d=w??d,g={...g,[b]:{...g[b],...T}},x&&y<=50&&(y++,typeof x=="object"&&(x.placement&&(p=x.placement),x.rects&&(c=x.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):x.rects),{x:u,y:d}=hg(c,p,l)),v=-1)}return{x:u,y:d,placement:p,strategy:i,middlewareData:g}};async function Jh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:g=0}=ar(e,t),y=Qh(g),b=a[p?d==="floating"?"reference":"floating":d],f=bo(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),m=d==="floating"?{...s.floating,x:r,y:i}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),T=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},x=bo(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:w,strategy:l}):m);return{top:(f.top-x.top+y.top)/T.y,bottom:(x.bottom-f.bottom+y.bottom)/T.y,left:(f.left-x.left+y.left)/T.x,right:(x.right-f.right+y.right)/T.x}}const I2=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=ar(t,e)||{};if(c==null)return{};const d=Qh(u),p={x:n,y:r},g=Xh(i),y=Zh(g),v=await s.getDimensions(c),b=g==="y",f=b?"top":"left",m=b?"bottom":"right",w=b?"clientHeight":"clientWidth",T=o.reference[y]+o.reference[g]-p[g]-o.floating[y],x=p[g]-o.reference[g],h=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let R=h?h[w]:0;(!R||!await(s.isElement==null?void 0:s.isElement(h)))&&(R=a.floating[w]||o.floating[y]);const $=T/2-x/2,O=R/2-v[y]/2-1,E=Dn(d[f],O),_=Dn(d[m],O),P=E,k=R-v[y]-_,F=R/2-v[y]/2+$,L=Ed(P,F,k),N=!l.arrow&&_o(i)!=null&&F!==L&&o.reference[y]/2-(F<P?E:_)-v[y]/2<0,D=N?F<P?F-P:F-k:0;return{[g]:p[g]+D,data:{[g]:L,centerOffset:F-L-D,...N&&{alignmentOffset:D}},reset:N}}}),P2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...b}=ar(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const f=_n(i),m=_n(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),T=p||(m||!v?[xl(a)]:T2(a));!p&&y!=="none"&&T.push(...R2(a,v,y,w));const x=[a,...T],h=await Jh(e,b),R=[];let $=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&R.push(h[f]),d){const P=C2(i,s,w);R.push(h[P[0]],h[P[1]])}if($=[...$,{placement:i,overflows:R}],!R.every(P=>P<=0)){var O,E;const P=(((O=o.flip)==null?void 0:O.index)||0)+1,k=x[P];if(k)return{data:{index:P,overflows:$},reset:{placement:k}};let F=(E=$.filter(L=>L.overflows[0]<=0).sort((L,N)=>L.overflows[1]-N.overflows[1])[0])==null?void 0:E.placement;if(!F)switch(g){case"bestFit":{var _;const L=(_=$.map(N=>[N.placement,N.overflows.filter(D=>D>0).reduce((D,I)=>D+I,0)]).sort((N,D)=>N[1]-D[1])[0])==null?void 0:_[0];L&&(F=L);break}case"initialPlacement":F=a;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function Ty(t){const e=Dn(...t.map(o=>o.left)),n=Dn(...t.map(o=>o.top)),r=Rt(...t.map(o=>o.right)),i=Rt(...t.map(o=>o.bottom));return{x:e,y:n,width:r-e,height:i-n}}function D2(t){const e=t.slice().sort((i,o)=>i.y-o.y),n=[];let r=null;for(let i=0;i<e.length;i++){const o=e[i];!r||o.y-r.y>r.height/2?n.push([o]):n[n.length-1].push(o),r=o}return n.map(i=>bo(Ty(i)))}const _2=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:r,rects:i,platform:o,strategy:s}=e,{padding:a=2,x:l,y:c}=ar(t,e),u=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(r.reference))||[]),d=D2(u),p=bo(Ty(u)),g=Qh(a);function y(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&c!=null)return d.find(b=>l>b.left-g.left&&l<b.right+g.right&&c>b.top-g.top&&c<b.bottom+g.bottom)||p;if(d.length>=2){if(xi(n)==="y"){const E=d[0],_=d[d.length-1],P=_n(n)==="top",k=E.top,F=_.bottom,L=P?E.left:_.left,N=P?E.right:_.right,D=N-L,I=F-k;return{top:k,bottom:F,left:L,right:N,width:D,height:I,x:L,y:k}}const b=_n(n)==="left",f=Rt(...d.map(E=>E.right)),m=Dn(...d.map(E=>E.left)),w=d.filter(E=>b?E.left===m:E.right===f),T=w[0].top,x=w[w.length-1].bottom,h=m,R=f,$=R-h,O=x-T;return{top:T,bottom:x,left:h,right:R,width:$,height:O,x:h,y:T}}return p}const v=await o.getElementRects({reference:{getBoundingClientRect:y},floating:r.floating,strategy:s});return i.reference.x!==v.reference.x||i.reference.y!==v.reference.y||i.reference.width!==v.reference.width||i.reference.height!==v.reference.height?{reset:{rects:v}}:{}}}};async function A2(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=_n(n),a=_o(n),l=xi(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=ar(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof y=="number"&&(g=a==="end"?y*-1:y),l?{x:g*u,y:p*c}:{x:p*c,y:g*u}}const N2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await A2(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},M2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x:f,y:m}=b;return{x:f,y:m}}},...l}=ar(t,e),c={x:n,y:r},u=await Jh(e,l),d=xi(_n(i)),p=Kh(d);let g=c[p],y=c[d];if(o){const b=p==="y"?"top":"left",f=p==="y"?"bottom":"right",m=g+u[b],w=g-u[f];g=Ed(m,g,w)}if(s){const b=d==="y"?"top":"left",f=d==="y"?"bottom":"right",m=y+u[b],w=y-u[f];y=Ed(m,y,w)}const v=a.fn({...e,[p]:g,[d]:y});return{...v,data:{x:v.x-n,y:v.y-r}}}}},O2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ar(t,e),u={x:n,y:r},d=xi(i),p=Kh(d);let g=u[p],y=u[d];const v=ar(a,e),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const w=p==="y"?"height":"width",T=o.reference[p]-o.floating[w]+b.mainAxis,x=o.reference[p]+o.reference[w]-b.mainAxis;g<T?g=T:g>x&&(g=x)}if(c){var f,m;const w=p==="y"?"width":"height",T=["top","left"].includes(_n(i)),x=o.reference[d]-o.floating[w]+(T&&((f=s.offset)==null?void 0:f[d])||0)+(T?0:b.crossAxis),h=o.reference[d]+o.reference[w]+(T?0:((m=s.offset)==null?void 0:m[d])||0)-(T?b.crossAxis:0);y<x?y=x:y>h&&(y=h)}return{[p]:g,[d]:y}}}},L2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:o}=e,{apply:s=()=>{},...a}=ar(t,e),l=await Jh(e,a),c=_n(n),u=_o(n),d=xi(n)==="y",{width:p,height:g}=r.floating;let y,v;c==="top"||c==="bottom"?(y=c,v=u===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(v=c,y=u==="end"?"top":"bottom");const b=g-l[y],f=p-l[v],m=!e.middlewareData.shift;let w=b,T=f;if(d){const h=p-l.left-l.right;T=u||m?Dn(f,h):h}else{const h=g-l.top-l.bottom;w=u||m?Dn(b,h):h}if(m&&!u){const h=Rt(l.left,0),R=Rt(l.right,0),$=Rt(l.top,0),O=Rt(l.bottom,0);d?T=p-2*(h!==0||R!==0?h+R:Rt(l.left,l.right)):w=g-2*($!==0||O!==0?$+O:Rt(l.top,l.bottom))}await s({...e,availableWidth:T,availableHeight:w});const x=await i.getDimensions(o.floating);return p!==x.width||g!==x.height?{reset:{rects:!0}}:{}}}};function xy(t){const e=gn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Un(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Tl(n)!==o||Tl(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function ef(t){return Yt(t)?t:t.contextElement}function oo(t){const e=ef(t);if(!Un(e))return zr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=xy(e);let s=(o?Tl(n.width):n.width)/r,a=(o?Tl(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const H2=zr(0);function Ry(t){const e=Xt(t);return!Yh()||!e.visualViewport?H2:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function j2(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Xt(t)?!1:e}function bi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=ef(t);let s=zr(1);e&&(r?Yt(r)&&(s=oo(r)):s=oo(t));const a=j2(o,n,r)?Ry(o):zr(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const p=Xt(o),g=r&&Yt(r)?Xt(r):r;let y=p,v=y.frameElement;for(;v&&r&&g!==y;){const b=oo(v),f=v.getBoundingClientRect(),m=gn(v),w=f.left+(v.clientLeft+parseFloat(m.paddingLeft))*b.x,T=f.top+(v.clientTop+parseFloat(m.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,d*=b.y,l+=w,c+=T,y=Xt(v),v=y.frameElement}}return bo({width:u,height:d,x:l,y:c})}const F2=[":popover-open",":modal"];function $y(t){return F2.some(e=>{try{return t.matches(e)}catch{return!1}})}function q2(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=ur(r),a=e?$y(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=zr(1);const u=zr(0),d=Un(r);if((d||!d&&!o)&&((qr(r)!=="body"||Js(s))&&(l=nc(r)),Un(r))){const p=bi(r);c=oo(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function z2(t){return Array.from(t.getClientRects())}function ky(t){return bi(ur(t)).left+nc(t).scrollLeft}function B2(t){const e=ur(t),n=nc(t),r=t.ownerDocument.body,i=Rt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Rt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+ky(t);const a=-n.scrollTop;return gn(r).direction==="rtl"&&(s+=Rt(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function U2(t,e){const n=Xt(t),r=ur(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=Yh();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function V2(t,e){const n=bi(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Un(t)?oo(t):zr(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function fg(t,e,n){let r;if(e==="viewport")r=U2(t,n);else if(e==="document")r=B2(ur(t));else if(Yt(e))r=V2(e,n);else{const i=Ry(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return bo(r)}function Iy(t,e){const n=So(t);return n===e||!Yt(n)||tc(n)?!1:gn(n).position==="fixed"||Iy(n,e)}function W2(t,e){const n=e.get(t);if(n)return n;let r=Ms(t,[],!1).filter(a=>Yt(a)&&qr(a)!=="body"),i=null;const o=gn(t).position==="fixed";let s=o?So(t):t;for(;Yt(s)&&!tc(s);){const a=gn(s),l=Gh(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Js(s)&&!l&&Iy(t,s))?r=r.filter(u=>u!==s):i=a,s=So(s)}return e.set(t,r),r}function G2(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?W2(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=fg(e,u,i);return c.top=Rt(d.top,c.top),c.right=Dn(d.right,c.right),c.bottom=Dn(d.bottom,c.bottom),c.left=Rt(d.left,c.left),c},fg(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Y2(t){const{width:e,height:n}=xy(t);return{width:e,height:n}}function K2(t,e,n){const r=Un(e),i=ur(e),o=n==="fixed",s=bi(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=zr(0);if(r||!r&&!o)if((qr(e)!=="body"||Js(i))&&(a=nc(e)),r){const d=bi(e,!0,o,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&(l.x=ky(i));const c=s.left+a.scrollLeft-l.x,u=s.top+a.scrollTop-l.y;return{x:c,y:u,width:s.width,height:s.height}}function pg(t,e){return!Un(t)||gn(t).position==="fixed"?null:e?e(t):t.offsetParent}function Py(t,e){const n=Xt(t);if(!Un(t)||$y(t))return n;let r=pg(t,e);for(;r&&w2(r)&&gn(r).position==="static";)r=pg(r,e);return r&&(qr(r)==="html"||qr(r)==="body"&&gn(r).position==="static"&&!Gh(r))?n:r||S2(t)||n}const Z2=async function(t){const e=this.getOffsetParent||Py,n=this.getDimensions;return{reference:K2(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function X2(t){return gn(t).direction==="rtl"}const Q2={convertOffsetParentRelativeRectToViewportRelativeRect:q2,getDocumentElement:ur,getClippingRect:G2,getOffsetParent:Py,getElementRects:Z2,getClientRects:z2,getDimensions:Y2,getScale:oo,isElement:Yt,isRTL:X2};function J2(t,e){let n=null,r;const i=ur(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:d,height:p}=t.getBoundingClientRect();if(a||e(),!d||!p)return;const g=Pa(u),y=Pa(i.clientWidth-(c+d)),v=Pa(i.clientHeight-(u+p)),b=Pa(c),m={rootMargin:-g+"px "+-y+"px "+-v+"px "+-b+"px",threshold:Rt(0,Dn(1,l))||1};let w=!0;function T(x){const h=x[0].intersectionRatio;if(h!==l){if(!w)return s();h?s(!1,h):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(T,{...m,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,m)}n.observe(t)}return s(!0),o}function eT(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=ef(t),u=i||o?[...c?Ms(c):[],...Ms(e)]:[];u.forEach(f=>{i&&f.addEventListener("scroll",n,{passive:!0}),o&&f.addEventListener("resize",n)});const d=c&&a?J2(c,n):null;let p=-1,g=null;s&&(g=new ResizeObserver(f=>{let[m]=f;m&&m.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let y,v=l?bi(t):null;l&&b();function b(){const f=bi(t);v&&(f.x!==v.x||f.y!==v.y||f.width!==v.width||f.height!==v.height)&&n(),v=f,y=requestAnimationFrame(b)}return n(),()=>{var f;u.forEach(m=>{i&&m.removeEventListener("scroll",n),o&&m.removeEventListener("resize",n)}),d==null||d(),(f=g)==null||f.disconnect(),g=null,l&&cancelAnimationFrame(y)}}const tT=M2,nT=P2,rT=L2,gg=I2,iT=_2,oT=O2,sT=(t,e,n)=>{const r=new Map,i={platform:Q2,...n},o={...i.platform,_c:r};return k2(t,e,{...i,platform:o})},aT=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?gg({element:r.current,padding:i}).fn(n):{}:r?gg({element:r,padding:i}).fn(n):{}}}};var Ya=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Rl(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Rl(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Rl(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function Dy(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function mg(t,e){const n=Dy(t);return Math.round(e*n)/n}function vg(t){const e=S.useRef(t);return Ya(()=>{e.current=t}),e}function lT(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=S.useState(r);Rl(p,r)||g(r);const[y,v]=S.useState(null),[b,f]=S.useState(null),m=S.useCallback(D=>{D!==h.current&&(h.current=D,v(D))},[]),w=S.useCallback(D=>{D!==R.current&&(R.current=D,f(D))},[]),T=o||y,x=s||b,h=S.useRef(null),R=S.useRef(null),$=S.useRef(u),O=l!=null,E=vg(l),_=vg(i),P=S.useCallback(()=>{if(!h.current||!R.current)return;const D={placement:e,strategy:n,middleware:p};_.current&&(D.platform=_.current),sT(h.current,R.current,D).then(I=>{const M={...I,isPositioned:!0};k.current&&!Rl($.current,M)&&($.current=M,Gs.flushSync(()=>{d(M)}))})},[p,e,n,_]);Ya(()=>{c===!1&&$.current.isPositioned&&($.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[c]);const k=S.useRef(!1);Ya(()=>(k.current=!0,()=>{k.current=!1}),[]),Ya(()=>{if(T&&(h.current=T),x&&(R.current=x),T&&x){if(E.current)return E.current(T,x,P);P()}},[T,x,P,E,O]);const F=S.useMemo(()=>({reference:h,floating:R,setReference:m,setFloating:w}),[m,w]),L=S.useMemo(()=>({reference:T,floating:x}),[T,x]),N=S.useMemo(()=>{const D={position:n,left:0,top:0};if(!L.floating)return D;const I=mg(L.floating,u.x),M=mg(L.floating,u.y);return a?{...D,transform:"translate("+I+"px, "+M+"px)",...Dy(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:M}},[n,a,L.floating,u.x,u.y]);return S.useMemo(()=>({...u,update:P,refs:F,elements:L,floatingStyles:N}),[u,P,F,L,N])}const cT=Bd["useInsertionEffect".toString()],uT=cT||(t=>t());function dT(t){const e=S.useRef(()=>{});return uT(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var _y=typeof document<"u"?S.useLayoutEffect:S.useEffect;let pu=!1,hT=0;const yg=()=>"floating-ui-"+hT++;function fT(){const[t,e]=S.useState(()=>pu?yg():void 0);return _y(()=>{t==null&&e(yg())},[]),S.useEffect(()=>{pu||(pu=!0)},[]),t}const pT=Bd["useId".toString()],gT=pT||fT;function mT(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const vT=S.createContext(null),yT=S.createContext(null),wT=()=>{var t;return((t=S.useContext(vT))==null?void 0:t.id)||null},ST=()=>S.useContext(yT);function bT(t){var e;t===void 0&&(t={});const{open:n=!1,onOpenChange:r,nodeId:i}=t,[o,s]=S.useState(null),a=((e=t.elements)==null?void 0:e.reference)||o,l=lT(t),c=ST(),u=wT()!=null,d=dT((x,h,R)=>{x&&(g.current.openEvent=h),y.emit("openchange",{open:x,event:h,reason:R,nested:u}),r==null||r(x,h,R)}),p=S.useRef(null),g=S.useRef({}),y=S.useState(()=>mT())[0],v=gT(),b=S.useCallback(x=>{const h=Yt(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;l.refs.setReference(h)},[l.refs]),f=S.useCallback(x=>{(Yt(x)||x===null)&&(p.current=x,s(x)),(Yt(l.refs.reference.current)||l.refs.reference.current===null||x!==null&&!Yt(x))&&l.refs.setReference(x)},[l.refs]),m=S.useMemo(()=>({...l.refs,setReference:f,setPositionReference:b,domReference:p}),[l.refs,f,b]),w=S.useMemo(()=>({...l.elements,domReference:a}),[l.elements,a]),T=S.useMemo(()=>({...l,refs:m,elements:w,dataRef:g,nodeId:i,floatingId:v,events:y,open:n,onOpenChange:d}),[l,i,v,y,n,d,m,w]);return _y(()=>{const x=c==null?void 0:c.nodesRef.current.find(h=>h.id===i);x&&(x.context=T)}),S.useMemo(()=>({...l,context:T,refs:m,elements:w}),[l,m,w,T])}function ET(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,r]=e.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return e}function wg(t,e,n,r){return t==="center"||r==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function Sg(t,e,n,r,i){return t==="center"||r==="center"?{left:e}:t==="end"?{[i==="ltr"?"right":"left"]:n}:t==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const CT={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function TT({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:o,arrowY:s,dir:a}){const[l,c="center"]=t.split("-"),u={width:V(e),height:V(e),transform:"rotate(45deg)",position:"absolute",[CT[l]]:V(r)},d=V(-e/2);return l==="left"?{...u,...wg(c,s,n,i),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent"}:l==="right"?{...u,...wg(c,s,n,i),left:d,borderRightColor:"transparent",borderTopColor:"transparent"}:l==="top"?{...u,...Sg(c,o,n,i,a),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent"}:l==="bottom"?{...u,...Sg(c,o,n,i,a),top:d,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const Ay=S.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:o,arrowX:s,arrowY:a,style:l,...c},u)=>{const{dir:d}=Jl();return o?C.createElement("div",{...c,ref:u,style:{...l,...TT({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:d,arrowX:s,arrowY:a})}}):null});Ay.displayName="@mantine/core/FloatingArrow";const[xT,Ny]=cr("Popover component was not found in the tree");function rc({children:t,active:e=!0,refProp:n="ref"}){const r=zE(e),i=nn(r,t==null?void 0:t.ref);return Ks(t)?S.cloneElement(t,{[n]:i}):t}function My(t){return C.createElement(Vh,{tabIndex:-1,"data-autofocus":!0,...t})}rc.displayName="@mantine/core/FocusTrap";My.displayName="@mantine/core/FocusTrapInitialFocus";rc.InitialFocus=My;function RT(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}const $T={},Oy=S.forwardRef((t,e)=>{const{children:n,target:r,...i}=ne("Portal",$T,t),[o,s]=S.useState(!1),a=S.useRef(null);return Io(()=>(s(!0),a.current=r?typeof r=="string"?document.querySelector(r):r:RT(i),K0(e,a.current),!r&&a.current&&document.body.appendChild(a.current),()=>{!r&&a.current&&document.body.removeChild(a.current)}),[r]),!o||!a.current?null:Gs.createPortal(C.createElement(C.Fragment,null,n),a.current)});Oy.displayName="@mantine/core/Portal";function tf({withinPortal:t=!0,children:e,...n}){return t?C.createElement(Oy,{...n},e):C.createElement(C.Fragment,null,e)}tf.displayName="@mantine/core/OptionalPortal";const Uo=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${V(t==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),Da={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${V(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${V(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${V(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${V(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Uo("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Uo("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Uo("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Uo("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Uo("top"),common:{transformOrigin:"top right"}}},bg={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function kT({transition:t,state:e,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof t=="string"?t in Da?{transitionProperty:Da[t].transitionProperty,...i,...Da[t].common,...Da[t][bg[e]]}:{}:{transitionProperty:t.transitionProperty,...i,...t.common,...t[bg[e]]}}function IT({duration:t,exitDuration:e,timingFunction:n,mounted:r,onEnter:i,onExit:o,onEntered:s,onExited:a}){const l=Vn(),c=Z0(),u=l.respectReducedMotion?c:!1,[d,p]=S.useState(u?0:t),[g,y]=S.useState(r?"entered":"exited"),v=S.useRef(-1),b=S.useRef(-1),f=m=>{const w=m?i:o,T=m?s:a;window.clearTimeout(v.current);const x=u?0:m?t:e;p(x),x===0?(typeof w=="function"&&w(),typeof T=="function"&&T(),y(m?"entered":"exited")):b.current=requestAnimationFrame(()=>{A0.flushSync(()=>{y(m?"pre-entering":"pre-exiting")}),b.current=requestAnimationFrame(()=>{typeof w=="function"&&w(),y(m?"entering":"exiting"),v.current=window.setTimeout(()=>{typeof T=="function"&&T(),y(m?"entered":"exited")},x)})})};return yo(()=>{f(r)},[r]),S.useEffect(()=>()=>{window.clearTimeout(v.current),cancelAnimationFrame(b.current)},[]),{transitionDuration:d,transitionStatus:g,transitionTimingFunction:n||"ease"}}function Ri({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:r=n,mounted:i,children:o,timingFunction:s="ease",onExit:a,onEntered:l,onEnter:c,onExited:u}){const{transitionDuration:d,transitionStatus:p,transitionTimingFunction:g}=IT({mounted:i,exitDuration:r,duration:n,timingFunction:s,onExit:a,onEntered:l,onEnter:c,onExited:u});return d===0?i?C.createElement(C.Fragment,null,o({})):t?o({display:"none"}):null:p==="exited"?t?o({display:"none"}):null:C.createElement(C.Fragment,null,o(kT({transition:e,duration:d,state:p,timingFunction:g})))}Ri.displayName="@mantine/core/Transition";var Ly={dropdown:"m-38a85659",arrow:"m-a31dc6c1"};const PT={},nf=de((t,e)=>{var b,f,m,w;const n=ne("PopoverDropdown",PT,t),{className:r,style:i,vars:o,children:s,onKeyDownCapture:a,variant:l,classNames:c,styles:u,...d}=n,p=Ny(),g=V0({opened:p.opened,shouldReturnFocus:p.returnFocus}),y=p.withRoles?{"aria-labelledby":p.getTargetId(),id:p.getDropdownId(),role:"dialog",tabIndex:-1}:{},v=nn(e,p.floating);return p.disabled?null:C.createElement(tf,{...p.portalProps,withinPortal:p.withinPortal},C.createElement(Ri,{mounted:p.opened,...p.transitionProps,transition:((b=p.transitionProps)==null?void 0:b.transition)||"fade",duration:((f=p.transitionProps)==null?void 0:f.duration)??150,keepMounted:p.keepMounted,exitDuration:typeof((m=p.transitionProps)==null?void 0:m.exitDuration)=="number"?p.transitionProps.exitDuration:(w=p.transitionProps)==null?void 0:w.duration},T=>C.createElement(rc,{active:p.trapFocus},C.createElement(te,{...y,...d,variant:l,ref:v,onKeyDownCapture:IE(p.onClose,{active:p.closeOnEscape,onTrigger:g,onKeyDown:a}),"data-position":p.placement,...p.getStyles("dropdown",{className:r,props:n,classNames:c,styles:u,style:[{...T,zIndex:p.zIndex,top:p.y??0,left:p.x??0,width:p.width==="target"?void 0:V(p.width)},i]})},s,C.createElement(Ay,{ref:p.arrowRef,arrowX:p.arrowX,arrowY:p.arrowY,visible:p.withArrow,position:p.placement,arrowSize:p.arrowSize,arrowRadius:p.arrowRadius,arrowOffset:p.arrowOffset,arrowPosition:p.arrowPosition,...p.getStyles("arrow",{props:n,classNames:c,styles:u})})))))});nf.classes=Ly;nf.displayName="@mantine/core/PopoverDropdown";const DT={refProp:"ref",popupType:"dialog"},Hy=de((t,e)=>{const{children:n,refProp:r,popupType:i,...o}=ne("PopoverTarget",DT,t);if(!Ks(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=o,a=Ny(),l=nn(a.reference,n.ref,e),c=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return S.cloneElement(n,{...s,...c,...a.targetProps,className:Et(a.targetProps.className,s.className,n.props.className),[r]:l,...a.controlled?null:{onClick:a.onToggle}})});Hy.displayName="@mantine/core/PopoverTarget";function _T({opened:t,floating:e,position:n,positionDependencies:r}){const[i,o]=S.useState(0);S.useEffect(()=>{if(e.refs.reference.current&&e.refs.floating.current)return eT(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,t,i,n]),yo(()=>{e.update()},r),yo(()=>{o(s=>s+1)},[t])}function AT(t,e){var r,i,o,s;const n=[N2(t.offset)];return(r=t.middlewares)!=null&&r.shift&&n.push(tT({limiter:oT()})),(i=t.middlewares)!=null&&i.flip&&n.push(nT()),(o=t.middlewares)!=null&&o.inline&&n.push(iT()),n.push(aT({element:t.arrowRef,padding:t.arrowOffset})),((s=t.middlewares)!=null&&s.size||t.width==="target")&&n.push(rT({apply({rects:a,availableWidth:l,availableHeight:c}){var p,g;const d=((p=e().refs.floating.current)==null?void 0:p.style)??{};(g=t.middlewares)!=null&&g.size&&Object.assign(d,{maxWidth:`${l}px`,maxHeight:`${c}px`}),t.width==="target"&&Object.assign(d,{width:`${a.reference.width}px`})}})),n}function NT(t){const[e,n]=Si({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),r=()=>{var s;e&&((s=t.onClose)==null||s.call(t),n(!1))},i=()=>{var s,a;e?((s=t.onClose)==null||s.call(t),n(!1)):((a=t.onOpen)==null||a.call(t),n(!0))},o=bT({strategy:t.strategy,placement:t.position,middleware:AT(t,()=>o)});return _T({opened:t.opened,position:t.position,positionDependencies:t.positionDependencies||[],floating:o}),yo(()=>{var s;(s=t.onPositionChange)==null||s.call(t,o.placement)},[o.placement]),yo(()=>{var s,a;t.opened?(a=t.onOpen)==null||a.call(t):(s=t.onClose)==null||s.call(t)},[t.opened]),{floating:o,controlled:typeof t.opened=="boolean",opened:e,onClose:r,onToggle:i}}const MT={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:ko("popover"),__staticSelector:"Popover",width:"max-content"},OT=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:An(e),"--popover-shadow":Mh(n)}});function wt(t){var pt,De,Ae,wn,et,pr;const e=ne("Popover",MT,t),{children:n,position:r,offset:i,onPositionChange:o,positionDependencies:s,opened:a,transitionProps:l,width:c,middlewares:u,withArrow:d,arrowSize:p,arrowOffset:g,arrowRadius:y,arrowPosition:v,unstyled:b,classNames:f,styles:m,closeOnClickOutside:w,withinPortal:T,portalProps:x,closeOnEscape:h,clickOutsideEvents:R,trapFocus:$,onClose:O,onOpen:E,onChange:_,zIndex:P,radius:k,shadow:F,id:L,defaultOpened:N,__staticSelector:D,withRoles:I,disabled:M,returnFocus:z,variant:Y,keepMounted:X,vars:ae,floatingStrategy:le,...fe}=e,ve=Te({name:D,props:e,classes:Ly,classNames:f,styles:m,unstyled:b,rootSelector:"dropdown",vars:ae,varsResolver:OT}),me=S.useRef(null),[Ue,He]=S.useState(null),[Re,ye]=S.useState(null),{dir:B}=Jl(),re=Ti(L),Q=NT({middlewares:u,width:c,position:ET(B,r),offset:typeof i=="number"?i+(d?p/2:0):i,arrowRef:me,arrowOffset:g,onPositionChange:o,positionDependencies:s,opened:a,defaultOpened:N,onChange:_,onOpen:E,onClose:O,strategy:le});_E(()=>w&&Q.onClose(),R,[Ue,Re]);const se=S.useCallback(rn=>{He(rn),Q.floating.refs.setReference(rn)},[Q.floating.refs.setReference]),Ee=S.useCallback(rn=>{ye(rn),Q.floating.refs.setFloating(rn)},[Q.floating.refs.setFloating]);return C.createElement(xT,{value:{returnFocus:z,disabled:M,controlled:Q.controlled,reference:se,floating:Ee,x:Q.floating.x,y:Q.floating.y,arrowX:(Ae=(De=(pt=Q.floating)==null?void 0:pt.middlewareData)==null?void 0:De.arrow)==null?void 0:Ae.x,arrowY:(pr=(et=(wn=Q.floating)==null?void 0:wn.middlewareData)==null?void 0:et.arrow)==null?void 0:pr.y,opened:Q.opened,arrowRef:me,transitionProps:l,width:c,withArrow:d,arrowSize:p,arrowOffset:g,arrowRadius:y,arrowPosition:v,placement:Q.floating.placement,trapFocus:$,withinPortal:T,portalProps:x,zIndex:P,radius:k,shadow:F,closeOnEscape:h,onClose:Q.onClose,onToggle:Q.onToggle,getTargetId:()=>`${re}-target`,getDropdownId:()=>`${re}-dropdown`,withRoles:I,targetProps:fe,__staticSelector:D,classNames:f,styles:m,unstyled:b,variant:Y,keepMounted:X,getStyles:ve}},n)}wt.Target=Hy;wt.Dropdown=nf;wt.displayName="@mantine/core/Popover";wt.extend=t=>t;var Rn={root:"m-5ae2e3c",barsLoader:"m-7a2bd4cd",bar:"m-870bb79","bars-loader-animation":"m-5d2b3b9d",dotsLoader:"m-4e3f22d7",dot:"m-870c4af","loader-dots-animation":"m-aac34a1",ovalLoader:"m-b34414df","oval-loader-animation":"m-f8e89c4b"};const LT=S.forwardRef(({className:t,...e},n)=>C.createElement(te,{component:"span",className:Et(Rn.barsLoader,t),...e,ref:n},C.createElement("span",{className:Rn.bar}),C.createElement("span",{className:Rn.bar}),C.createElement("span",{className:Rn.bar}))),HT=S.forwardRef(({className:t,...e},n)=>C.createElement(te,{component:"span",className:Et(Rn.dotsLoader,t),...e,ref:n},C.createElement("span",{className:Rn.dot}),C.createElement("span",{className:Rn.dot}),C.createElement("span",{className:Rn.dot}))),jT=S.forwardRef(({className:t,...e},n)=>C.createElement(te,{component:"span",className:Et(Rn.ovalLoader,t),...e,ref:n})),jy={bars:LT,oval:jT,dots:HT},FT={loaders:jy,type:"oval"},qT=(t,{size:e,color:n})=>({root:{"--loader-size":qe(e,"loader-size"),"--loader-color":n?In(n,t):void 0}}),ea=de((t,e)=>{const n=ne("Loader",FT,t),{size:r,color:i,type:o,vars:s,className:a,style:l,classNames:c,styles:u,unstyled:d,loaders:p,variant:g,children:y,...v}=n,b=Te({name:"Loader",props:n,classes:Rn,className:a,style:l,classNames:c,styles:u,unstyled:d,vars:s,varsResolver:qT});return y?C.createElement(te,{...b("root"),ref:e,...v},y):C.createElement(te,{...b("root"),ref:e,component:p[o],variant:g,size:r,...v})});ea.defaultLoaders=jy;ea.classes=Rn;ea.displayName="@mantine/core/Loader";var ic={root:"m-8d3f4000",icon:"m-8d3afb97",loader:"m-302b9fb1",group:"m-1a0f1b21"};const Eg={orientation:"horizontal"},zT=(t,{borderWidth:e})=>({group:{"--ai-border-width":V(e)}}),rf=de((t,e)=>{const n=ne("ActionIconGroup",Eg,t),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:l,vars:c,borderWidth:u,variant:d,mod:p,...g}=ne("ActionIconGroup",Eg,t),y=Te({name:"ActionIconGroup",props:n,classes:ic,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:c,varsResolver:zT,rootSelector:"group"});return C.createElement(te,{...y("group"),ref:e,variant:d,mod:[{"data-orientation":l},p],role:"group",...g})});rf.classes=ic;rf.displayName="@mantine/core/ActionIconGroup";const BT={},UT=(t,{size:e,radius:n,variant:r,gradient:i,color:o,autoContrast:s})=>{const a=t.variantColorResolver({color:o||t.primaryColor,theme:t,gradient:i,variant:r||"filled",autoContrast:s});return{root:{"--ai-size":qe(e,"ai-size"),"--ai-radius":n===void 0?void 0:An(n),"--ai-bg":o||r?a.background:void 0,"--ai-hover":o||r?a.hover:void 0,"--ai-hover-color":o||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":o||r?a.border:void 0}}},Qn=Wn((t,e)=>{const n=ne("ActionIcon",BT,t),{className:r,unstyled:i,variant:o,classNames:s,styles:a,style:l,loading:c,loaderProps:u,size:d,color:p,radius:g,__staticSelector:y,gradient:v,vars:b,children:f,disabled:m,"data-disabled":w,autoContrast:T,mod:x,...h}=n,R=Te({name:["ActionIcon",y],props:n,className:r,style:l,classes:ic,classNames:s,styles:a,unstyled:i,vars:b,varsResolver:UT});return C.createElement(Qs,{...R("root",{active:!m&&!c&&!w}),...h,unstyled:i,variant:o,size:d,disabled:m||c,ref:e,mod:[{loading:c,disabled:m||w},x]},C.createElement(Ri,{mounted:!!c,transition:"slide-down",duration:150},$=>C.createElement(te,{component:"span",...R("loader",{style:$}),"aria-hidden":!0},C.createElement(ea,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...u}))),C.createElement(te,{component:"span",mod:{loading:c},...R("icon")},f))});Qn.classes=ic;Qn.displayName="@mantine/core/ActionIcon";Qn.Group=rf;const Fy=S.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},r)=>C.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:r,...n},C.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})));Fy.displayName="@mantine/core/CloseIcon";var qy={root:"m-86a44da5","root--subtle":"m-220c80f2"};const VT={variant:"subtle"},WT=(t,{size:e,radius:n,iconSize:r})=>({root:{"--cb-size":qe(e,"cb-size"),"--cb-radius":n===void 0?void 0:An(n),"--cb-icon-size":V(r)}}),oc=Wn((t,e)=>{const n=ne("CloseButton",VT,t),{iconSize:r,children:i,vars:o,radius:s,className:a,classNames:l,style:c,styles:u,unstyled:d,"data-disabled":p,disabled:g,variant:y,icon:v,mod:b,...f}=n,m=Te({name:"CloseButton",props:n,className:a,style:c,classes:qy,classNames:l,styles:u,unstyled:d,vars:o,varsResolver:WT});return C.createElement(Qs,{ref:e,...f,unstyled:d,variant:y,disabled:g,mod:[{disabled:g||p},b],...m("root",{variant:y,active:!0})},v||C.createElement(Fy,null),i)});oc.classes=qy;oc.displayName="@mantine/core/CloseButton";function GT(t){return S.Children.toArray(t).filter(Boolean)}var zy={root:"m-4081bf90"};const YT={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},KT=(t,{grow:e,preventGrowOverflow:n,gap:r,align:i,justify:o,wrap:s},{childWidth:a})=>({root:{"--group-child-width":e&&n?a:void 0,"--group-gap":wi(r),"--group-align":i,"--group-justify":o,"--group-wrap":s}}),Br=de((t,e)=>{const n=ne("Group",YT,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,children:l,gap:c,align:u,justify:d,wrap:p,grow:g,preventGrowOverflow:y,vars:v,variant:b,__size:f,mod:m,...w}=n,T=GT(l),x=T.length,h=wi(c??"md"),$={childWidth:`calc(${100/x}% - (${h} - ${h} / ${x}))`},O=Te({name:"Group",props:n,stylesCtx:$,className:i,style:o,classes:zy,classNames:r,styles:s,unstyled:a,vars:v,varsResolver:KT});return C.createElement(te,{...O("root"),ref:e,variant:b,mod:[{grow:g},m],size:f,...w},T)});Br.classes=zy;Br.displayName="@mantine/core/Group";var By={root:"m-9814e45f"};const ZT={zIndex:ko("modal")},XT=(t,{gradient:e,color:n,backgroundOpacity:r,blur:i,radius:o,zIndex:s})=>({root:{"--overlay-bg":e||(n!==void 0||r!==void 0)&&Dt(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${V(i)})`:void 0,"--overlay-radius":o===void 0?void 0:An(o),"--overlay-z-index":s==null?void 0:s.toString()}}),of=Wn((t,e)=>{const n=ne("Overlay",ZT,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,fixed:c,center:u,children:d,radius:p,zIndex:g,gradient:y,blur:v,color:b,backgroundOpacity:f,mod:m,...w}=n,T=Te({name:"Overlay",props:n,classes:By,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:XT});return C.createElement(te,{ref:e,...T("root"),mod:[{center:u,fixed:c},m],...w},d)});of.classes=By;of.displayName="@mantine/core/Overlay";const[QT,dr]=cr("ModalBase component was not found in tree");function JT({opened:t,transitionDuration:e}){const[n,r]=S.useState(t),i=S.useRef(),s=Z0()?0:e;return S.useEffect(()=>(t?(r(!0),window.clearTimeout(i.current)):s===0?r(!1):i.current=window.setTimeout(()=>r(!1),s),()=>window.clearTimeout(i.current)),[t,s]),n}function ex({id:t,transitionProps:e,opened:n,trapFocus:r,closeOnEscape:i,onClose:o,returnFocus:s}){const a=Ti(t),[l,c]=S.useState(!1),[u,d]=S.useState(!1),p=typeof(e==null?void 0:e.duration)=="number"?e==null?void 0:e.duration:200,g=JT({opened:n,transitionDuration:p});return VE("keydown",y=>{var v;y.key==="Escape"&&i&&((v=y.target)==null?void 0:v.getAttribute("data-mantine-stop-propagation"))!=="true"&&o()},{capture:!0}),V0({opened:n,shouldReturnFocus:r&&s}),{_id:a,titleMounted:l,bodyMounted:u,shouldLockScroll:g,setTitleMounted:c,setBodyMounted:d}}const tx=S.forwardRef(({keepMounted:t,opened:e,onClose:n,id:r,transitionProps:i,trapFocus:o,closeOnEscape:s,returnFocus:a,closeOnClickOutside:l,withinPortal:c,portalProps:u,lockScroll:d,children:p,zIndex:g,shadow:y,padding:v,__vars:b,unstyled:f,removeScrollProps:m,...w},T)=>{const{_id:x,titleMounted:h,bodyMounted:R,shouldLockScroll:$,setTitleMounted:O,setBodyMounted:E}=ex({id:r,transitionProps:i,opened:e,trapFocus:o,closeOnEscape:s,onClose:n,returnFocus:a});return C.createElement(tf,{...u,withinPortal:c},C.createElement(QT,{value:{opened:e,onClose:n,closeOnClickOutside:l,transitionProps:{...i,keepMounted:t},getTitleId:()=>`${x}-title`,getBodyId:()=>`${x}-body`,titleMounted:h,bodyMounted:R,setTitleMounted:O,setBodyMounted:E,trapFocus:o,closeOnEscape:s,zIndex:g,unstyled:f}},C.createElement(CE,{enabled:$&&d,...m},C.createElement(te,{ref:T,...w,__vars:{...b,"--mb-z-index":(g||ko("modal")).toString(),"--mb-shadow":Mh(y),"--mb-padding":wi(v)}},p))))});function nx(){const t=dr();return S.useEffect(()=>(t.setBodyMounted(!0),()=>t.setBodyMounted(!1)),[]),t.getBodyId()}var Eo={title:"m-615af6c9",header:"m-b5489c3c",inner:"m-60c222c7",content:"m-fd1ab0aa",close:"m-606cb269",body:"m-5df29311"};const Uy=S.forwardRef(({className:t,...e},n)=>{const r=nx(),i=dr();return C.createElement(te,{ref:n,...e,id:r,className:Et({[Eo.body]:!i.unstyled},t)})});Uy.displayName="@mantine/core/ModalBaseBody";const Vy=S.forwardRef(({className:t,onClick:e,...n},r)=>{const i=dr();return C.createElement(oc,{ref:r,...n,onClick:o=>{i.onClose(),e==null||e(o)},className:Et({[Eo.close]:!i.unstyled},t),unstyled:i.unstyled})});Vy.displayName="@mantine/core/ModalBaseCloseButton";const rx=S.forwardRef(({transitionProps:t,className:e,innerProps:n,onKeyDown:r,style:i,...o},s)=>{const a=dr();return C.createElement(Ri,{mounted:a.opened,transition:"pop",...a.transitionProps,...t},l=>C.createElement("div",{...n,className:Et({[Eo.inner]:!a.unstyled},n.className)},C.createElement(rc,{active:a.opened&&a.trapFocus},C.createElement(Wh,{...o,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,ref:s,style:[i,l],className:Et({[Eo.content]:!a.unstyled},e),unstyled:a.unstyled},o.children))))}),Wy=S.forwardRef(({className:t,...e},n)=>{const r=dr();return C.createElement(te,{component:"header",ref:n,className:Et({[Eo.header]:!r.unstyled},t),...e})});Wy.displayName="@mantine/core/ModalBaseHeader";const ix={duration:200,timingFunction:"ease",transition:"fade"};function ox(t){const e=dr();return{...ix,...e.transitionProps,...t}}const Gy=S.forwardRef(({onClick:t,transitionProps:e,style:n,...r},i)=>{const o=dr(),s=ox(e);return C.createElement(Ri,{mounted:o.opened,...s,transition:"fade"},a=>C.createElement(of,{ref:i,fixed:!0,style:[n,a],zIndex:o.zIndex,unstyled:o.unstyled,onClick:l=>{t==null||t(l),o.closeOnClickOutside&&o.onClose()},...r}))});Gy.displayName="@mantine/core/ModalBaseOverlay";function sx(){const t=dr();return S.useEffect(()=>(t.setTitleMounted(!0),()=>t.setTitleMounted(!1)),[]),t.getTitleId()}const Yy=S.forwardRef(({className:t,...e},n)=>{const r=sx(),i=dr();return C.createElement(te,{component:"h2",ref:n,className:Et({[Eo.title]:!i.unstyled},t),...e,id:r})});Yy.displayName="@mantine/core/ModalBaseTitle";function ax({children:t}){return C.createElement(C.Fragment,null,t)}const[lx,ta]=RE({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var vn={wrapper:"m-6c018570",input:"m-8fb7ebe7",section:"m-82577fc2",placeholder:"m-88bacfd0",root:"m-46b77525",label:"m-8fdc1311",required:"m-78a94662",error:"m-8f816625",description:"m-fe47ce59"};const Cg={},cx=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${Zt(e)} - ${V(2)})`}}),sc=de((t,e)=>{const n=ne("InputDescription",Cg,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:c,__staticSelector:u,__inheritStyles:d=!0,variant:p,...g}=ne("InputDescription",Cg,n),y=ta(),v=Te({name:["InputWrapper",u],props:n,classes:vn,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"description",vars:l,varsResolver:cx}),b=d&&(y==null?void 0:y.getStyles)||v;return C.createElement(te,{component:"p",ref:e,variant:p,size:c,...b("description",y!=null&&y.getStyles?{className:i,style:o}:void 0),...g})});sc.classes=vn;sc.displayName="@mantine/core/InputDescription";const ux={},dx=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${Zt(e)} - ${V(2)})`}}),ac=de((t,e)=>{const n=ne("InputError",ux,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:c,__staticSelector:u,__inheritStyles:d=!0,variant:p,...g}=n,y=Te({name:["InputWrapper",u],props:n,classes:vn,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"error",vars:l,varsResolver:dx}),v=ta(),b=d&&(v==null?void 0:v.getStyles)||y;return C.createElement(te,{component:"p",ref:e,variant:p,size:c,...b("error",v!=null&&v.getStyles?{className:i,style:o}:void 0),...g})});ac.classes=vn;ac.displayName="@mantine/core/InputError";const Tg={labelElement:"label"},hx=(t,{size:e})=>({label:{"--input-label-size":Zt(e),"--input-asterisk-color":void 0}}),lc=de((t,e)=>{const n=ne("InputLabel",Tg,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,labelElement:c,size:u,required:d,htmlFor:p,onMouseDown:g,children:y,__staticSelector:v,variant:b,mod:f,...m}=ne("InputLabel",Tg,n),w=Te({name:["InputWrapper",v],props:n,classes:vn,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"label",vars:l,varsResolver:hx}),T=ta(),x=(T==null?void 0:T.getStyles)||w;return C.createElement(te,{...x("label",T!=null&&T.getStyles?{className:i,style:o}:void 0),component:c,variant:b,size:u,ref:e,htmlFor:c==="label"?p:void 0,mod:[{required:d},f],onMouseDown:h=>{g==null||g(h),!h.defaultPrevented&&h.detail>1&&h.preventDefault()},...m},y,d&&C.createElement("span",{...x("required"),"aria-hidden":!0}," *"))});lc.classes=vn;lc.displayName="@mantine/core/InputLabel";const xg={},sf=de((t,e)=>{const n=ne("InputPlaceholder",xg,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,__staticSelector:c,variant:u,error:d,mod:p,...g}=ne("InputPlaceholder",xg,n),y=Te({name:["InputPlaceholder",c],props:n,classes:vn,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"placeholder"});return C.createElement(te,{...y("placeholder"),mod:[{error:!!d},p],component:"span",variant:u,ref:e,...g})});sf.classes=vn;sf.displayName="@mantine/core/InputPlaceholder";function fx(t,{hasDescription:e,hasError:n}){const r=t.findIndex(l=>l==="input"),i=t[r-1],o=t[r+1];return{offsetBottom:e&&o==="description"||n&&o==="error",offsetTop:e&&i==="description"||n&&i==="error"}}const px={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},gx=(t,{size:e})=>({label:{"--input-label-size":Zt(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${Zt(e)} - ${V(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${Zt(e)} - ${V(2)})`}}),af=de((t,e)=>{const n=ne("InputWrapper",px,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:c,variant:u,__staticSelector:d,inputContainer:p,inputWrapperOrder:g,label:y,error:v,description:b,labelProps:f,descriptionProps:m,errorProps:w,labelElement:T,children:x,withAsterisk:h,id:R,required:$,__stylesApiProps:O,mod:E,..._}=n,P=Te({name:["InputWrapper",d],props:O||n,classes:vn,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:gx}),k={size:c,variant:u,__staticSelector:d},F=Ti(R),L=typeof h=="boolean"?h:$,N=(w==null?void 0:w.id)||`${F}-error`,D=(m==null?void 0:m.id)||`${F}-description`,I=F,M=!!v&&typeof v!="boolean",z=!!b,Y=`${M?N:""} ${z?D:""}`,X=Y.trim().length>0?Y.trim():void 0,ae=(f==null?void 0:f.id)||`${F}-label`,le=y&&C.createElement(lc,{key:"label",labelElement:T,id:ae,htmlFor:I,required:L,...k,...f},y),fe=z&&C.createElement(sc,{key:"description",...m,...k,size:(m==null?void 0:m.size)||k.size,id:(m==null?void 0:m.id)||D},b),ve=C.createElement(C.Fragment,{key:"input"},p(x)),me=M&&C.createElement(ac,{...w,...k,size:(w==null?void 0:w.size)||k.size,key:"error",id:(w==null?void 0:w.id)||N},v),Ue=g.map(He=>{switch(He){case"label":return le;case"input":return ve;case"description":return fe;case"error":return me;default:return null}});return C.createElement(lx,{value:{getStyles:P,describedBy:X,inputId:I,labelId:ae,...fx(g,{hasDescription:z,hasError:M})}},C.createElement(te,{ref:e,variant:u,size:c,mod:[{error:!!v},E],...P("root"),..._},Ue))});af.classes=vn;af.displayName="@mantine/core/InputWrapper";const mx={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},vx=(t,e,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":qe(e.size,"input-height"),"--input-fz":Zt(e.size),"--input-radius":e.radius===void 0?void 0:An(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?V(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?V(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?qe(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),ft=Wn((t,e)=>{const n=ne("Input",mx,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,required:l,__staticSelector:c,__stylesApiProps:u,size:d,wrapperProps:p,error:g,disabled:y,leftSection:v,leftSectionProps:b,leftSectionWidth:f,rightSection:m,rightSectionProps:w,rightSectionWidth:T,rightSectionPointerEvents:x,leftSectionPointerEvents:h,variant:R,vars:$,pointer:O,multiline:E,radius:_,id:P,withAria:k,withErrorStyles:F,mod:L,...N}=n,{styleProps:D,rest:I}=Xs(N),M=ta(),z={offsetBottom:M==null?void 0:M.offsetBottom,offsetTop:M==null?void 0:M.offsetTop},Y=Te({name:["Input",c],props:u||n,classes:vn,className:i,style:o,classNames:r,styles:s,unstyled:a,stylesCtx:z,rootSelector:"wrapper",vars:$,varsResolver:vx}),X=k?{required:l,disabled:y,"aria-invalid":!!g,"aria-describedby":M==null?void 0:M.describedBy,id:(M==null?void 0:M.inputId)||P}:{};return C.createElement(te,{...Y("wrapper"),...D,...p,mod:[{error:!!g&&F,pointer:O,disabled:y,multiline:E,"data-with-right-section":!!m,"data-with-left-section":!!v},L],variant:R,size:d},v&&C.createElement("div",{...b,"data-position":"left",...Y("section",{className:b==null?void 0:b.className,style:b==null?void 0:b.style})},v),C.createElement(te,{component:"input",...I,...X,ref:e,required:l,mod:{disabled:y,error:!!g&&F},variant:R,...Y("input")}),m&&C.createElement("div",{...w,"data-position":"right",...Y("section",{className:w==null?void 0:w.className,style:w==null?void 0:w.style})},m))});ft.classes=vn;ft.Wrapper=af;ft.Label=lc;ft.Error=ac;ft.Description=sc;ft.Placeholder=sf;ft.displayName="@mantine/core/Input";function yx(t,e,n){const r=ne(t,e,n),{label:i,description:o,error:s,required:a,classNames:l,styles:c,className:u,unstyled:d,__staticSelector:p,__stylesApiProps:g,errorProps:y,labelProps:v,descriptionProps:b,wrapperProps:f,id:m,size:w,style:T,inputContainer:x,inputWrapperOrder:h,withAsterisk:R,variant:$,vars:O,mod:E,..._}=r,{styleProps:P,rest:k}=Xs(_),F={label:i,description:o,error:s,required:a,classNames:l,className:u,__staticSelector:p,__stylesApiProps:g||r,errorProps:y,labelProps:v,descriptionProps:b,unstyled:d,styles:c,size:w,style:T,inputContainer:x,inputWrapperOrder:h,withAsterisk:R,variant:$,id:m,mod:E,...f};return{...k,classNames:l,styles:c,unstyled:d,wrapperProps:{...F,...P},inputProps:{required:a,classNames:l,styles:c,unstyled:d,size:w,__staticSelector:p,__stylesApiProps:g||r,error:s,variant:$,id:m}}}const wx={__staticSelector:"InputBase",withAria:!0},$i=Wn((t,e)=>{const{inputProps:n,wrapperProps:r,...i}=yx("InputBase",wx,t);return C.createElement(ft.Wrapper,{...r},C.createElement(ft,{...n,...i,ref:e}))});$i.classes={...ft.classes,...ft.Wrapper.classes};$i.displayName="@mantine/core/InputBase";var Ky={root:"m-b6d8b162"};function Sx(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const bx={inherit:!1},Ex=(t,{variant:e,lineClamp:n,gradient:r,size:i,color:o})=>({root:{"--text-fz":Zt(i),"--text-lh":PE(i),"--text-gradient":e==="gradient"?wd(r,t):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":o?In(o,t):void 0}}),lf=Wn((t,e)=>{const n=ne("Text",bx,t),{lineClamp:r,truncate:i,inline:o,inherit:s,gradient:a,span:l,__staticSelector:c,vars:u,className:d,style:p,classNames:g,styles:y,unstyled:v,variant:b,mod:f,size:m,...w}=n,T=Te({name:["Text",c],props:n,classes:Ky,className:d,style:p,classNames:g,styles:y,unstyled:v,vars:u,varsResolver:Ex});return C.createElement(te,{...T("root",{focusable:!0}),ref:e,component:l?"span":"p",variant:b,mod:[{"data-truncate":Sx(i),"data-line-clamp":typeof r=="number","data-inline":o,"data-inherit":s},f],size:m,...w})});lf.classes=Ky;lf.displayName="@mantine/core/Text";function Zy(t){return typeof t=="string"?{value:t,label:t}:"value"in t&&!("label"in t)?{value:t.value,label:t.value,disabled:t.disabled}:typeof t=="number"?{value:t.toString(),label:t.toString()}:"group"in t?{group:t.group,items:t.items.map(e=>Zy(e))}:t}function Cx(t){return t?t.map(e=>Zy(e)):[]}function Xy(t){return t.reduce((e,n)=>"group"in n?{...e,...Xy(n.items)}:(e[n.value]=n,e),{})}var Bt={dropdown:"m-88b62a41",options:"m-b2821a6e",option:"m-92253aa5",search:"m-985517d8",empty:"m-2530cd1d",header:"m-858f94bd",footer:"m-82b967cb",group:"m-254f3e4f",groupLabel:"m-2bb2e9e5",chevron:"m-2943220b",optionsDropdownOption:"m-390b5f4",optionsDropdownCheckIcon:"m-8ee53fc2"};const Tx={error:null},xx=(t,{size:e})=>({chevron:{"--combobox-chevron-size":qe(e,"combobox-chevron-size")}}),cf=de((t,e)=>{const n=ne("ComboboxChevron",Tx,t),{size:r,error:i,style:o,className:s,classNames:a,styles:l,unstyled:c,vars:u,mod:d,...p}=n,g=Te({name:"ComboboxChevron",classes:Bt,props:n,style:o,className:s,classNames:a,styles:l,unstyled:c,vars:u,varsResolver:xx,rootSelector:"chevron"});return C.createElement(te,{component:"svg",...p,...g("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},d],ref:e},C.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))});cf.classes=Bt;cf.displayName="@mantine/core/ComboboxChevron";const[Rx,yn]=cr("Combobox component was not found in tree"),Qy=S.forwardRef(({size:t,onMouseDown:e,onClick:n,onClear:r,...i},o)=>C.createElement(oc,{ref:o,size:t||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:s=>{s.preventDefault(),e==null||e(s)},onClick:s=>{r(),n==null||n(s)}}));Qy.displayName="@mantine/core/ComboboxClearButton";const $x={},uf=de((t,e)=>{const{classNames:n,styles:r,className:i,style:o,hidden:s,...a}=ne("ComboboxDropdown",$x,t),l=yn();return C.createElement(wt.Dropdown,{...a,ref:e,role:"presentation","data-hidden":s||void 0,...l.getStyles("dropdown",{className:i,style:o,classNames:n,styles:r})})});uf.classes=Bt;uf.displayName="@mantine/core/ComboboxDropdown";const kx={refProp:"ref"},Jy=de((t,e)=>{const{children:n,refProp:r}=ne("ComboboxDropdownTarget",kx,t);if(yn(),!Ks(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return C.createElement(wt.Target,{ref:e,refProp:r},n)});Jy.displayName="@mantine/core/ComboboxDropdownTarget";const Ix={},df=de((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=ne("ComboboxEmpty",Ix,t),l=yn();return C.createElement(te,{ref:e,...l.getStyles("empty",{className:r,classNames:n,styles:o,style:i}),...a})});df.classes=Bt;df.displayName="@mantine/core/ComboboxEmpty";function hf({onKeyDown:t,withKeyboardNavigation:e,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:o}){const s=yn(),[a,l]=S.useState(null),c=d=>{if(t==null||t(d),!s.readOnly&&e){if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),s.store.dropdownOpened?l(s.store.selectNextOption()):(s.store.openDropdown("keyboard"),l(s.store.selectActiveOption()))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),s.store.dropdownOpened?l(s.store.selectPreviousOption()):(s.store.openDropdown("keyboard"),l(s.store.selectActiveOption()))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){const p=s.store.getSelectedOptionIndex();s.store.dropdownOpened&&p!==-1?(d.preventDefault(),s.store.clickSelectedOption()):i==="button"&&(d.preventDefault(),s.store.openDropdown("keyboard"))}d.nativeEvent.code==="Escape"&&s.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&i==="button"&&(d.preventDefault(),s.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(s.store.listId&&s.store.dropdownOpened)||void 0,"aria-controls":s.store.listId,"aria-activedescendant":s.store.dropdownOpened&&a||void 0,autoComplete:o,"data-expanded":s.store.dropdownOpened||void 0,"data-mantine-stop-propagation":s.store.dropdownOpened||void 0}:{},onKeyDown:c}}const Px={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},ew=de((t,e)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,autoComplete:l,...c}=ne("ComboboxEventsTarget",Px,t);if(!Ks(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=yn(),d=hf({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:l});return S.cloneElement(n,{...d,...c,[r]:nn(e,u.store.targetRef,n==null?void 0:n.ref)})});ew.displayName="@mantine/core/ComboboxEventsTarget";const Dx={},ff=de((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=ne("ComboboxFooter",Dx,t),l=yn();return C.createElement(te,{ref:e,...l.getStyles("footer",{className:r,classNames:n,style:i,styles:o}),...a})});ff.classes=Bt;ff.displayName="@mantine/core/ComboboxFooter";const _x={},pf=de((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,children:a,label:l,...c}=ne("ComboboxGroup",_x,t),u=yn();return C.createElement(te,{ref:e,...u.getStyles("group",{className:r,classNames:n,style:i,styles:o}),...c},l&&C.createElement("div",{...u.getStyles("groupLabel",{classNames:n,styles:o})},l),a)});pf.classes=Bt;pf.displayName="@mantine/core/ComboboxGroup";const Ax={},gf=de((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=ne("ComboboxHeader",Ax,t),l=yn();return C.createElement(te,{ref:e,...l.getStyles("header",{className:r,classNames:n,style:i,styles:o}),...a})});gf.classes=Bt;gf.displayName="@mantine/core/ComboboxHeader";const Nx={},mf=de((t,e)=>{const n=ne("ComboboxOption",Nx,t),{classNames:r,className:i,style:o,styles:s,vars:a,onClick:l,id:c,active:u,onMouseDown:d,onMouseOver:p,disabled:g,selected:y,mod:v,...b}=n,f=yn(),m=S.useId(),w=c||m;return C.createElement(te,{...f.getStyles("option",{className:i,classNames:r,styles:s,style:o}),...b,ref:e,id:w,mod:["combobox-option",{"combobox-active":u,"combobox-disabled":g,"combobox-selected":y},v],role:"option",onClick:T=>{var x;g?T.preventDefault():((x=f.onOptionSubmit)==null||x.call(f,n.value,n),l==null||l(T))},onMouseDown:T=>{T.preventDefault(),d==null||d(T)},onMouseOver:T=>{f.resetSelectionOnOptionHover&&f.store.resetSelectedOption(),p==null||p(T)}})});mf.classes=Bt;mf.displayName="@mantine/core/ComboboxOption";const Mx={},vf=de((t,e)=>{const n=ne("ComboboxOptions",Mx,t),{classNames:r,className:i,style:o,styles:s,id:a,onMouseDown:l,labelledBy:c,...u}=n,d=yn(),p=Ti(a);return S.useEffect(()=>{d.store.setListId(p)},[p]),C.createElement(te,{ref:e,...d.getStyles("options",{className:i,style:o,classNames:r,styles:s}),...u,id:p,role:"listbox","aria-labelledby":c,onMouseDown:g=>{g.preventDefault(),l==null||l(g)}})});vf.classes=Bt;vf.displayName="@mantine/core/ComboboxOptions";const Ox={withAriaAttributes:!0,withKeyboardNavigation:!0},yf=de((t,e)=>{const n=ne("ComboboxSearch",Ox,t),{classNames:r,styles:i,unstyled:o,vars:s,withAriaAttributes:a,onKeyDown:l,withKeyboardNavigation:c,size:u,...d}=n,p=yn(),g=p.getStyles("search"),y=hf({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:c,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return C.createElement(ft,{ref:nn(e,p.store.searchRef),classNames:[{input:g.className},r],styles:[{input:g.style},i],size:u||p.size,...y,...d,__staticSelector:"Combobox"})});yf.classes=Bt;yf.displayName="@mantine/core/ComboboxSearch";const Lx={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},tw=de((t,e)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,autoComplete:l,...c}=ne("ComboboxTarget",Lx,t);if(!Ks(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=yn(),d=hf({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:l}),p=S.cloneElement(n,{...d,...c});return C.createElement(wt.Target,{ref:nn(e,u.store.targetRef)},p)});tw.displayName="@mantine/core/ComboboxTarget";function Hx(t,e,n){for(let r=t-1;r>=0;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=e.length-1;r>-1;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return t}function jx(t,e,n){for(let r=t+1;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return t}function Fx(t){for(let e=0;e<t.length;e+=1)if(!t[e].hasAttribute("data-combobox-disabled"))return e;return-1}function nw({defaultOpened:t,opened:e,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:o=!0,scrollBehavior:s="instant"}={}){const[a,l]=Si({value:e,defaultValue:t,finalValue:!1,onChange:n}),c=S.useRef(null),u=S.useRef(-1),d=S.useRef(null),p=S.useRef(null),g=S.useRef(-1),y=S.useRef(-1),v=S.useRef(-1),b=S.useCallback((N="unknown")=>{a||(l(!0),i==null||i(N))},[l,i,a]),f=S.useCallback((N="unknown")=>{a&&(l(!1),r==null||r(N))},[l,r,a]),m=S.useCallback((N="unknown")=>{a?f(N):b(N)},[f,b,a]),w=S.useCallback(()=>{const N=document.querySelector(`#${c.current} [data-combobox-selected]`);N==null||N.removeAttribute("data-combobox-selected"),N==null||N.removeAttribute("aria-selected")},[]),T=S.useCallback(N=>{const D=document.getElementById(c.current),I=D==null?void 0:D.querySelectorAll("[data-combobox-option]");if(!I)return null;const M=N>=I.length?0:N<0?I.length-1:N;return u.current=M,I!=null&&I[M]&&!I[M].hasAttribute("data-combobox-disabled")?(w(),I[M].setAttribute("data-combobox-selected","true"),I[M].setAttribute("aria-selected","true"),I[M].scrollIntoView({block:"nearest",behavior:s}),I[M].id):null},[s,w]),x=S.useCallback(()=>{const N=document.querySelector(`#${c.current} [data-combobox-active]`);if(N){const D=document.querySelectorAll(`#${c.current} [data-combobox-option]`),I=Array.from(D).findIndex(M=>M===N);return T(I)}return T(0)},[T]),h=S.useCallback(()=>T(jx(u.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),o)),[T,o]),R=S.useCallback(()=>T(Hx(u.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),o)),[T,o]),$=S.useCallback(()=>T(Fx(document.querySelectorAll(`#${c.current} [data-combobox-option]`))),[T]),O=S.useCallback((N="selected",D)=>{v.current=window.setTimeout(()=>{var z;const I=document.querySelectorAll(`#${c.current} [data-combobox-option]`),M=Array.from(I).findIndex(Y=>Y.hasAttribute(`data-combobox-${N}`));u.current=M,D!=null&&D.scrollIntoView&&((z=I[M])==null||z.scrollIntoView({block:"nearest",behavior:s}))},0)},[]),E=S.useCallback(()=>{u.current=-1,w()},[w]),_=S.useCallback(()=>{const N=document.querySelectorAll(`#${c.current} [data-combobox-option]`),D=N==null?void 0:N[u.current];D==null||D.click()},[]),P=S.useCallback(N=>{c.current=N},[]),k=S.useCallback(()=>{g.current=window.setTimeout(()=>d.current.focus(),0)},[]),F=S.useCallback(()=>{y.current=window.setTimeout(()=>p.current.focus(),0)},[]),L=S.useCallback(()=>u.current,[]);return S.useEffect(()=>()=>{window.clearTimeout(g.current),window.clearTimeout(y.current),window.clearTimeout(v.current)},[]),{dropdownOpened:a,openDropdown:b,closeDropdown:f,toggleDropdown:m,selectedOptionIndex:u.current,getSelectedOptionIndex:L,selectOption:T,selectFirstOption:$,selectActiveOption:x,selectNextOption:h,selectPreviousOption:R,resetSelectedOption:E,updateSelectedOptionIndex:O,listId:c.current,setListId:P,clickSelectedOption:_,searchRef:d,focusSearchInput:k,targetRef:p,focusTarget:F}}const qx={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},zx=(t,{size:e,dropdownPadding:n})=>({options:{"--combobox-option-fz":Zt(e),"--combobox-option-padding":qe(e,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:V(n),"--combobox-option-fz":Zt(e),"--combobox-option-padding":qe(e,"combobox-option-padding")}});function Le(t){const e=ne("Combobox",qx,t),{classNames:n,styles:r,unstyled:i,children:o,store:s,vars:a,onOptionSubmit:l,onClose:c,size:u,dropdownPadding:d,resetSelectionOnOptionHover:p,__staticSelector:g,readOnly:y,...v}=e,b=nw(),f=s||b,m=Te({name:g||"Combobox",classes:Bt,props:e,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:zx}),w=()=>{c==null||c(),f.closeDropdown()};return C.createElement(Rx,{value:{getStyles:m,store:f,onOptionSubmit:l,size:u,resetSelectionOnOptionHover:p,readOnly:y}},C.createElement(wt,{opened:f.dropdownOpened,...v,onClose:w,withRoles:!1,unstyled:i},o))}const Bx=t=>t;Le.extend=Bx;Le.classes=Bt;Le.displayName="@mantine/core/Combobox";Le.Target=tw;Le.Dropdown=uf;Le.Options=vf;Le.Option=mf;Le.Search=yf;Le.Empty=df;Le.Chevron=cf;Le.Footer=ff;Le.Header=gf;Le.EventsTarget=ew;Le.DropdownTarget=Jy;Le.Group=pf;Le.ClearButton=Qy;var rw={root:"m-5f75b09e",body:"m-5f6e695e",labelWrapper:"m-d3ea56bb",label:"m-8ee546b8",description:"m-328f68c0",error:"m-8e8a99cc"};const Ux=rw,iw=S.forwardRef(({__staticSelector:t,__stylesApiProps:e,className:n,classNames:r,styles:i,unstyled:o,children:s,label:a,description:l,id:c,disabled:u,error:d,size:p,labelPosition:g="left",bodyElement:y="div",labelElement:v="label",variant:b,style:f,vars:m,mod:w,...T},x)=>{const h=Te({name:t,props:e,className:n,style:f,classes:rw,classNames:r,styles:i,unstyled:o});return C.createElement(te,{...h("root"),ref:x,__vars:{"--label-fz":Zt(p),"--label-lh":qe(p,"label-lh")},mod:[{"label-position":g},w],variant:b,size:p,...T},C.createElement(te,{component:y,htmlFor:y==="label"?c:void 0,...h("body")},s,C.createElement("div",{...h("labelWrapper"),"data-disabled":u||void 0},a&&C.createElement(te,{component:v,htmlFor:v==="label"?c:void 0,...h("label"),"data-disabled":u||void 0},a),l&&C.createElement(ft.Description,{size:p,__inheritStyles:!1,...h("description")},l),d&&d!=="boolean"&&C.createElement(ft.Error,{size:p,__inheritStyles:!1,...h("error")},d))))});iw.displayName="@mantine/core/InlineInput";const ow=S.createContext(null),Vx=ow.Provider,Wx=()=>S.useContext(ow);function Gx({children:t,role:e}){const n=ta();return n?C.createElement("div",{role:e,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy},t):C.createElement(C.Fragment,null,t)}const Yx={},wf=de((t,e)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,readOnly:l,...c}=ne("CheckboxGroup",Yx,t),[u,d]=Si({value:n,defaultValue:r,finalValue:[],onChange:i}),p=g=>{const y=g.currentTarget.value;!l&&d(u.includes(y)?u.filter(v=>v!==y):[...u,y])};return C.createElement(Vx,{value:{value:u,onChange:p,size:o}},C.createElement(ft.Wrapper,{size:o,ref:e,...s,...c,labelElement:"div",__staticSelector:"CheckboxGroup"},C.createElement(Gx,{role:"group"},a)))});wf.classes=ft.Wrapper.classes;wf.displayName="@mantine/core/CheckboxGroup";function sw({size:t,style:e,...n}){const r=t!==void 0?{width:V(t),height:V(t),...e}:e;return C.createElement("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n},C.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Kx({indeterminate:t,...e}){return t?C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...e},C.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):C.createElement(sw,{...e})}var aw={root:"m-bf2d988c",inner:"m-26062bec",input:"m-26063560",icon:"m-bf295423","input--outline":"m-215c4542"};const Zx={labelPosition:"right",icon:Kx},Xx=(t,{radius:e,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=Po({color:n||t.primaryColor,theme:t}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":qe(r,"checkbox-size"),"--checkbox-radius":e===void 0?void 0:An(e),"--checkbox-color":o==="outline"?l:In(n,t),"--checkbox-icon-color":i?In(i,t):OC(s,t)?ey({color:n,theme:t}):void 0}}},cc=de((t,e)=>{const n=ne("Checkbox",Zx,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:c,label:u,id:d,size:p,radius:g,wrapperProps:y,children:v,checked:b,labelPosition:f,description:m,error:w,disabled:T,variant:x,indeterminate:h,icon:R,rootRef:$,iconColor:O,onChange:E,autoContrast:_,mod:P,...k}=n,F=Wx(),L=p||(F==null?void 0:F.size),N=R,D=Te({name:"Checkbox",props:n,classes:aw,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Xx}),{styleProps:I,rest:M}=Xs(k),z=Ti(d),Y=F?{checked:F.value.includes(M.value),onChange:X=>{F.onChange(X),E==null||E(X)}}:{};return C.createElement(iw,{...D("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:z,size:L,labelPosition:f,label:u,description:m,error:w,disabled:T,classNames:r,styles:s,unstyled:a,"data-checked":Y.checked||b||void 0,variant:x,ref:$,mod:P,...I,...y},C.createElement(te,{...D("inner"),mod:{"data-label-position":f}},C.createElement(te,{component:"input",id:z,ref:e,checked:b,disabled:T,mod:{error:!!w,indeterminate:h},...D("input",{focusable:!0,variant:x}),onChange:E,...M,...Y,type:"checkbox"}),C.createElement(N,{indeterminate:h,...D("icon")})))});cc.classes={...aw,...Ux};cc.displayName="@mantine/core/Checkbox";cc.Group=wf;function Os(t){return"group"in t}function lw({options:t,search:e,limit:n}){const r=e.trim().toLowerCase(),i=[];for(let o=0;o<t.length;o+=1){const s=t[o];if(i.length===n)return i;Os(s)&&i.push({group:s.group,items:lw({options:s.items,search:e,limit:n-i.length})}),Os(s)||s.label.toLowerCase().includes(r)&&i.push(s)}return i}function Qx(t){if(t.length===0)return!0;for(const e of t)if(!("group"in e)||e.items.length>0)return!1;return!0}function cw(t,e=new Set){if(Array.isArray(t))for(const n of t)if(Os(n))cw(n.items,e);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(e.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);e.add(n.value)}}function Jx(t,e){return Array.isArray(t)?t.includes(e):t===e}function uw({data:t,withCheckIcon:e,value:n,checkIconPosition:r,unstyled:i,renderOption:o}){if(!Os(t)){const a=Jx(n,t.value),l=e&&a&&C.createElement(sw,{className:Bt.optionsDropdownCheckIcon}),c=C.createElement(C.Fragment,null,r==="left"&&l,C.createElement("span",null,t.label),r==="right"&&l);return C.createElement(Le.Option,{value:t.value,disabled:t.disabled,className:Et({[Bt.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a},typeof o=="function"?o({option:t,checked:a}):c)}const s=t.items.map(a=>C.createElement(uw,{data:a,value:n,key:a.value,unstyled:i,withCheckIcon:e,checkIconPosition:r}));return C.createElement(Le.Group,{label:t.group},s)}function eR({data:t,hidden:e,hiddenWhenEmpty:n,filter:r,search:i,limit:o,maxDropdownHeight:s,withScrollArea:a=!0,filterOptions:l=!0,withCheckIcon:c=!1,value:u,checkIconPosition:d,nothingFoundMessage:p,unstyled:g,labelId:y,renderOption:v}){cw(t);const f=typeof i=="string"?(r||lw)({options:t,search:l?i:"",limit:o??1/0}):t,m=Qx(f),w=f.map(T=>C.createElement(uw,{data:T,key:Os(T)?T.group:T.value,withCheckIcon:c,value:u,checkIconPosition:d,unstyled:g,renderOption:v}));return C.createElement(Le.Dropdown,{hidden:e||n&&m},C.createElement(Le.Options,{labelledBy:y},a?C.createElement(Do.Autosize,{mah:s??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y"},w):w,m&&p&&C.createElement(Le.Empty,null,p)))}var dw={root:"m-347db0ec","root--dot":"m-fbd81e3d",label:"m-5add502a",section:"m-91fdda9b"};const tR={},nR=(t,{radius:e,color:n,gradient:r,variant:i,size:o,autoContrast:s})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:s});return{root:{"--badge-height":qe(o,"badge-height"),"--badge-padding-x":qe(o,"badge-padding-x"),"--badge-fz":qe(o,"badge-fz"),"--badge-radius":e===void 0?void 0:An(e),"--badge-bg":n||i?a.background:void 0,"--badge-color":n||i?a.color:void 0,"--badge-bd":n||i?a.border:void 0,"--badge-dot-color":i==="dot"?In(n,t):void 0}}},uc=Wn((t,e)=>{const n=ne("Badge",tR,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,radius:c,color:u,gradient:d,leftSection:p,rightSection:g,children:y,variant:v,fullWidth:b,autoContrast:f,circle:m,mod:w,...T}=n,x=Te({name:"Badge",props:n,classes:dw,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:nR});return C.createElement(te,{variant:v,mod:[{block:b,circle:m},w],...x("root",{variant:v}),ref:e,...T},p&&C.createElement("span",{...x("section"),"data-position":"left"},p),C.createElement("span",{...x("label")},y),g&&C.createElement("span",{...x("section"),"data-position":"right"},g))});uc.classes=dw;uc.displayName="@mantine/core/Badge";var dc={root:"m-77c9d27d",inner:"m-80f1301b",label:"m-811560b9",section:"m-a74036a",loader:"m-a25b86ee",group:"m-80d6d844"};const Rg={orientation:"horizontal"},rR=(t,{borderWidth:e})=>({group:{"--button-border-width":V(e)}}),Sf=de((t,e)=>{const n=ne("ButtonGroup",Rg,t),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:l,vars:c,borderWidth:u,variant:d,mod:p,...g}=ne("ButtonGroup",Rg,t),y=Te({name:"ButtonGroup",props:n,classes:dc,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:c,varsResolver:rR,rootSelector:"group"});return C.createElement(te,{...y("group"),ref:e,variant:d,mod:[{"data-orientation":l},p],role:"group",...g})});Sf.classes=dc;Sf.displayName="@mantine/core/ButtonGroup";const iR={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${V(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},oR={},sR=(t,{radius:e,color:n,gradient:r,variant:i,size:o,justify:s,autoContrast:a})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":s,"--button-height":qe(o,"button-height"),"--button-padding-x":qe(o,"button-padding-x"),"--button-fz":o!=null&&o.includes("compact")?Zt(o.replace("compact-","")):Zt(o),"--button-radius":e===void 0?void 0:An(e),"--button-bg":n||i?l.background:void 0,"--button-hover":n||i?l.hover:void 0,"--button-color":l.color,"--button-bd":n||i?l.border:void 0,"--button-hover-color":n||i?l.hoverColor:void 0}}},Ur=Wn((t,e)=>{const n=ne("Button",oR,t),{style:r,vars:i,className:o,color:s,disabled:a,children:l,leftSection:c,rightSection:u,fullWidth:d,variant:p,radius:g,loading:y,loaderProps:v,gradient:b,classNames:f,styles:m,unstyled:w,"data-disabled":T,autoContrast:x,mod:h,...R}=n,$=Te({name:"Button",props:n,classes:dc,className:o,style:r,classNames:f,styles:m,unstyled:w,vars:i,varsResolver:sR}),O=!!c,E=!!u;return C.createElement(Qs,{ref:e,...$("root",{active:!a&&!y&&!T}),unstyled:w,variant:p,disabled:a||y,mod:[{disabled:a||T,loading:y,block:d,"with-left-section":O,"with-right-section":E},h],...R},C.createElement(Ri,{mounted:!!y,transition:iR,duration:150},_=>C.createElement(te,{component:"span",...$("loader",{style:_}),"aria-hidden":!0},C.createElement(ea,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...v}))),C.createElement("span",{...$("inner")},c&&C.createElement(te,{component:"span",...$("section"),mod:{position:"left"}},c),C.createElement(te,{component:"span",mod:{loading:y},...$("label")},l),u&&C.createElement(te,{component:"span",...$("section"),mod:{position:"right"}},u)))});Ur.classes=dc;Ur.displayName="@mantine/core/Button";Ur.Group=Sf;var hw={root:"m-7485cace"};const aR={},lR=(t,{size:e,fluid:n})=>({root:{"--container-size":n?void 0:qe(e,"container-size")}}),bf=de((t,e)=>{const n=ne("Container",aR,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,fluid:c,mod:u,...d}=n,p=Te({name:"Container",classes:hw,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:lR});return C.createElement(te,{ref:e,mod:[{fluid:c},u],...p("root"),...d})});bf.classes=hw;bf.displayName="@mantine/core/Container";const[cR,fw]=cr("Grid component was not found in tree"),Td=(t,e)=>t==="content"?"auto":t==="auto"?"0rem":t?`${100/(e/t)}%`:void 0,$g=(t,e,n)=>n||t==="auto"?"100%":t==="content"?"unset":Td(t,e),kg=(t,e)=>{if(t)return t==="auto"||e?"1":"auto"},Ig=(t,e)=>t===0?"0":t?`${100/(e/t)}%`:void 0;function uR({span:t,order:e,offset:n,selector:r}){var p;const i=Vn(),o=fw(),a=ns(t)===void 0?12:ns(t),l=Ys({"--col-order":(p=ns(e))==null?void 0:p.toString(),"--col-flex-grow":kg(a,o.grow),"--col-flex-basis":Td(a,o.columns),"--col-width":a==="content"?"auto":void 0,"--col-max-width":$g(a,o.columns,o.grow),"--col-offset":Ig(ns(n),o.columns)}),c=$t(i.breakpoints).reduce((g,y)=>{var v;return g[y]||(g[y]={}),typeof e=="object"&&e[y]!==void 0&&(g[y]["--col-order"]=(v=e[y])==null?void 0:v.toString()),typeof t=="object"&&t[y]!==void 0&&(g[y]["--col-flex-grow"]=kg(t[y],o.grow),g[y]["--col-flex-basis"]=Td(t[y],o.columns),g[y]["--col-width"]=t[y]==="content"?"auto":void 0,g[y]["--col-max-width"]=$g(t[y],o.columns,o.grow)),typeof n=="object"&&n[y]!==void 0&&(g[y]["--col-offset"]=Ig(n[y],o.columns)),g},{}),d=U0($t(c),i).filter(g=>$t(c[g.value]).length>0).map(g=>({query:`(min-width: ${i.breakpoints[g.value]})`,styles:c[g.value]}));return C.createElement(Fh,{styles:l,media:d,selector:r})}var Ef={root:"m-410352e9",inner:"m-dee7bd2f",col:"m-96bdd299"};const dR={span:12},Cf=de((t,e)=>{const n=ne("GridCol",dR,t),{classNames:r,className:i,style:o,styles:s,vars:a,span:l,order:c,offset:u,...d}=n,p=fw(),g=qh();return C.createElement(C.Fragment,null,C.createElement(uR,{selector:`.${g}`,span:l,order:c,offset:u}),C.createElement(te,{ref:e,...p.getStyles("col",{className:Et(i,g),style:o,classNames:r,styles:s}),...d}))});Cf.classes=Ef;Cf.displayName="@mantine/core/GridCol";function hR({gutter:t,selector:e}){const n=Vn(),r=Ys({"--grid-gutter":wi(ns(t))}),i=$t(n.breakpoints).reduce((a,l)=>(a[l]||(a[l]={}),typeof t=="object"&&t[l]!==void 0&&(a[l]["--grid-gutter"]=wi(t[l])),a),{}),s=U0($t(i),n).filter(a=>$t(i[a.value]).length>0).map(a=>({query:`(min-width: ${n.breakpoints[a.value]})`,styles:i[a.value]}));return C.createElement(Fh,{styles:r,media:s,selector:e})}const fR={gutter:"md",grow:!1,columns:12},pR=(t,{justify:e,align:n,overflow:r})=>({root:{"--grid-justify":e,"--grid-align":n,"--grid-overflow":r}}),so=de((t,e)=>{const n=ne("Grid",fR,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,grow:c,gutter:u,columns:d,align:p,justify:g,children:y,...v}=n,b=Te({name:"Grid",classes:Ef,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:pR}),f=qh();return C.createElement(cR,{value:{getStyles:b,grow:c,columns:d}},C.createElement(hR,{selector:`.${f}`,...n}),C.createElement(te,{ref:e,...b("root",{className:f}),...v},C.createElement("div",{...b("inner")},y)))});so.classes=Ef;so.displayName="@mantine/core/Grid";so.Col=Cf;const[gR,Ao]=cr("Modal component was not found in tree");var hr={root:"m-9df02822",content:"m-54c44539",inner:"m-1f958f16",header:"m-d0e2b9cd"};const mR={},hc=de((t,e)=>{const n=ne("ModalBody",mR,t),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,c=Ao();return C.createElement(Uy,{ref:e,...c.getStyles("body",{classNames:r,style:o,styles:s,className:i}),...l})});hc.classes=hr;hc.displayName="@mantine/core/ModalBody";const vR={},fc=de((t,e)=>{const n=ne("ModalCloseButton",vR,t),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,c=Ao();return C.createElement(Vy,{ref:e,...c.getStyles("close",{classNames:r,style:o,styles:s,className:i}),...l})});fc.classes=hr;fc.displayName="@mantine/core/ModalCloseButton";const yR={},pc=de((t,e)=>{const n=ne("ModalContent",yR,t),{classNames:r,className:i,style:o,styles:s,vars:a,children:l,...c}=n,u=Ao(),d=u.scrollAreaComponent||ax;return C.createElement(rx,{...u.getStyles("content",{className:i,style:o,styles:s,classNames:r}),innerProps:u.getStyles("inner",{className:i,style:o,styles:s,classNames:r}),"data-full-screen":u.fullScreen||void 0,ref:e,...c},C.createElement(d,{style:{maxHeight:u.fullScreen?"100dvh":`calc(100dvh - (${V(u.yOffset)} * 2))`}},l))});pc.classes=hr;pc.displayName="@mantine/core/ModalContent";const wR={},gc=de((t,e)=>{const n=ne("ModalHeader",wR,t),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,c=Ao();return C.createElement(Wy,{ref:e,...c.getStyles("header",{classNames:r,style:o,styles:s,className:i}),...l})});gc.classes=hr;gc.displayName="@mantine/core/ModalHeader";const SR={},mc=de((t,e)=>{const n=ne("ModalOverlay",SR,t),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,c=Ao();return C.createElement(Gy,{ref:e,...c.getStyles("overlay",{classNames:r,style:o,styles:s,className:i}),...l})});mc.classes=hr;mc.displayName="@mantine/core/ModalOverlay";const bR={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:ko("modal"),transitionProps:{duration:200,transition:"pop"},yOffset:"5dvh"},ER=(t,{radius:e,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":e===void 0?void 0:An(e),"--modal-size":qe(n,"modal-size"),"--modal-y-offset":V(r),"--modal-x-offset":V(i)}}),vc=de((t,e)=>{const n=ne("ModalRoot",bR,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,yOffset:c,scrollAreaComponent:u,radius:d,fullScreen:p,centered:g,xOffset:y,__staticSelector:v,...b}=n,f=Te({name:v,classes:hr,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:ER});return C.createElement(gR,{value:{yOffset:c,scrollAreaComponent:u,getStyles:f,fullScreen:p}},C.createElement(tx,{ref:e,...f("root"),"data-full-screen":p||void 0,"data-centered":g||void 0,unstyled:a,...b}))});vc.classes=hr;vc.displayName="@mantine/core/ModalRoot";const CR={},yc=de((t,e)=>{const n=ne("ModalTitle",CR,t),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,c=Ao();return C.createElement(Yy,{ref:e,...c.getStyles("title",{classNames:r,style:o,styles:s,className:i}),...l})});yc.classes=hr;yc.displayName="@mantine/core/ModalTitle";const TR={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:ko("modal"),transitionProps:{duration:200,transition:"pop"},withOverlay:!0,withCloseButton:!0},Gn=de((t,e)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:o,closeButtonProps:s,children:a,radius:l,...c}=ne("Modal",TR,t),u=!!n||o;return C.createElement(vc,{ref:e,radius:l,...c},r&&C.createElement(mc,{...i}),C.createElement(pc,{radius:l},u&&C.createElement(gc,null,n&&C.createElement(yc,null,n),o&&C.createElement(fc,{...s})),C.createElement(hc,null,a)))});Gn.classes=hr;Gn.displayName="@mantine/core/Modal";Gn.Root=vc;Gn.Overlay=mc;Gn.Content=pc;Gn.Body=hc;Gn.Header=gc;Gn.Title=yc;Gn.CloseButton=fc;const xR=({reveal:t})=>C.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"}},C.createElement("path",{d:t?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}));var xd={root:"m-f61ca620",input:"m-ccf8da4c",innerInput:"m-f2d85dd2",visibilityToggle:"m-b1072d44"};const RR={visibilityToggleIcon:xR},$R=(t,{size:e})=>({root:{"--psi-icon-size":qe(e,"psi-icon-size"),"--psi-button-size":qe(e,"psi-button-size")}}),Tf=de((t,e)=>{const n=ne("PasswordInput",RR,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,required:c,error:u,leftSection:d,disabled:p,id:g,variant:y,inputContainer:v,description:b,label:f,size:m,errorProps:w,descriptionProps:T,labelProps:x,withAsterisk:h,inputWrapperOrder:R,wrapperProps:$,radius:O,rightSection:E,rightSectionWidth:_,rightSectionPointerEvents:P,leftSectionWidth:k,visible:F,defaultVisible:L,onVisibilityChange:N,visibilityToggleIcon:D,visibilityToggleButtonProps:I,rightSectionProps:M,leftSectionProps:z,leftSectionPointerEvents:Y,mod:X,...ae}=n,le=Ti(g),[fe,ve]=Si({value:F,defaultValue:L,finalValue:!1,onChange:N}),me=()=>ve(!fe),Ue=Te({name:"PasswordInput",classes:xd,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:$R}),{resolvedClassNames:He,resolvedStyles:Re}=iy({classNames:r,styles:s,props:n}),{styleProps:ye,rest:B}=Xs(ae),re=D,Q=C.createElement(Qn,{...Ue("visibilityToggle"),disabled:p,radius:O,"aria-hidden":!I,tabIndex:-1,...I,variant:"subtle",color:"gray",unstyled:a,onMouseDown:se=>{var Ee;se.preventDefault(),(Ee=I==null?void 0:I.onMouseDown)==null||Ee.call(I,se),me()},onKeyDown:se=>{var Ee;(Ee=I==null?void 0:I.onKeyDown)==null||Ee.call(I,se),se.key===" "&&(se.preventDefault(),me())}},C.createElement(re,{reveal:fe}));return C.createElement(ft.Wrapper,{required:c,id:le,label:f,error:u,description:b,size:m,classNames:He,styles:Re,__staticSelector:"PasswordInput",errorProps:w,descriptionProps:T,unstyled:a,withAsterisk:h,inputWrapperOrder:R,inputContainer:v,variant:y,labelProps:{...x,htmlFor:le},mod:X,...Ue("root"),...ye,...$},C.createElement(ft,{component:"div",error:u,leftSection:d,size:m,classNames:{...He,input:Et(xd.input,He.input)},styles:Re,radius:O,disabled:p,__staticSelector:"PasswordInput",rightSectionWidth:_,rightSection:E??Q,variant:y,unstyled:a,leftSectionWidth:k,rightSectionPointerEvents:P||"all",rightSectionProps:M,leftSectionProps:z,leftSectionPointerEvents:Y,withAria:!1},C.createElement("input",{required:c,"data-invalid":!!u||void 0,"data-with-left-section":!!d||void 0,...Ue("innerInput"),disabled:p,id:le,ref:e,...B,autoComplete:B.autoComplete||"off",type:fe?"text":"password"})))});Tf.classes={...$i.classes,...xd};Tf.displayName="@mantine/core/PasswordInput";const kR={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},$l=de((t,e)=>{const n=ne("Select",kR,t),{classNames:r,styles:i,unstyled:o,vars:s,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:c,onDropdownOpen:u,onFocus:d,onBlur:p,onClick:g,onChange:y,data:v,value:b,defaultValue:f,selectFirstOptionOnChange:m,onOptionSubmit:w,comboboxProps:T,readOnly:x,disabled:h,filter:R,limit:$,withScrollArea:O,maxDropdownHeight:E,size:_,searchable:P,rightSection:k,checkIconPosition:F,withCheckIcon:L,nothingFoundMessage:N,name:D,form:I,searchValue:M,defaultSearchValue:z,onSearchChange:Y,allowDeselect:X,error:ae,rightSectionPointerEvents:le,id:fe,clearable:ve,clearButtonProps:me,hiddenInputProps:Ue,renderOption:He,onClear:Re,autoComplete:ye,...B}=n,re=S.useMemo(()=>Cx(v),[v]),Q=S.useMemo(()=>Xy(re),[re]),se=Ti(fe),[Ee,pt]=Si({value:b,defaultValue:f,finalValue:null,onChange:y}),De=typeof Ee=="string"?Q[Ee]:void 0,[Ae,wn]=Si({value:M,defaultValue:z,finalValue:De?De.label:"",onChange:Y}),et=nw({opened:a,defaultOpened:l,onDropdownOpen:()=>{u==null||u(),et.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{c==null||c(),et.resetSelectedOption()}}),{resolvedClassNames:pr,resolvedStyles:rn}=iy({props:n,styles:i,classNames:r});S.useEffect(()=>{m&&et.selectFirstOption()},[m,Ee]),S.useEffect(()=>{b===null&&wn(""),typeof b=="string"&&De&&wn(De.label)},[b,De]);const Sn=ve&&!!Ee&&!h&&!x&&C.createElement(Le.ClearButton,{size:_,...me,onClear:()=>{pt(null,null),wn(""),Re==null||Re()}});return C.createElement(C.Fragment,null,C.createElement(Le,{store:et,__staticSelector:"Select",classNames:pr,styles:rn,unstyled:o,readOnly:x,onOptionSubmit:st=>{w==null||w(st);const on=X&&Q[st].value===Ee?null:Q[st],Zr=on?on.value:null;pt(Zr,on),wn(typeof Zr=="string"&&(on==null?void 0:on.label)||""),et.closeDropdown()},size:_,...T},C.createElement(Le.Target,{targetType:P?"input":"button",autoComplete:ye},C.createElement($i,{id:se,ref:e,rightSection:k||Sn||C.createElement(Le.Chevron,{size:_,error:ae,unstyled:o}),rightSectionPointerEvents:le||(Sn?"all":"none"),...B,size:_,__staticSelector:"Select",disabled:h,readOnly:x||!P,value:Ae,onChange:st=>{wn(st.currentTarget.value),et.openDropdown(),m&&et.selectFirstOption()},onFocus:st=>{P&&et.openDropdown(),d==null||d(st)},onBlur:st=>{var on;P&&et.closeDropdown(),wn(Ee!=null&&((on=Q[Ee])==null?void 0:on.label)||""),p==null||p(st)},onClick:st=>{P?et.openDropdown():et.toggleDropdown(),g==null||g(st)},classNames:pr,styles:rn,unstyled:o,pointer:!P,error:ae})),C.createElement(eR,{data:re,hidden:x||h,filter:R,search:Ae,limit:$,hiddenWhenEmpty:!P||!N,withScrollArea:O,maxDropdownHeight:E,filterOptions:P&&(De==null?void 0:De.label)!==Ae,value:Ee,checkIconPosition:F,withCheckIcon:L,nothingFoundMessage:N,unstyled:o,labelId:`${se}-label`,renderOption:He})),C.createElement("input",{type:"hidden",name:D,value:Ee||"",form:I,disabled:h,...Ue}))});$l.classes={...$i.classes,...Le.classes};$l.displayName="@mantine/core/Select";const[IR,wc]=cr("SliderProvider was not found in tree"),pw=S.forwardRef(({size:t,disabled:e,variant:n,color:r,thumbSize:i,radius:o,...s},a)=>{const{getStyles:l}=wc();return C.createElement(te,{tabIndex:-1,variant:n,size:t,ref:a,...l("root"),...s})});pw.displayName="@mantine/core/SliderRoot";const gw=S.forwardRef(({max:t,min:e,value:n,position:r,label:i,dragging:o,onMouseDown:s,onKeyDownCapture:a,labelTransitionProps:l,labelAlwaysOn:c,thumbLabel:u,onFocus:d,onBlur:p,showLabelOnHover:g,isHovered:y,children:v=null,disabled:b},f)=>{const{getStyles:m}=wc(),[w,T]=S.useState(!1),x=c||o||w||g&&y;return C.createElement(te,{tabIndex:0,role:"slider","aria-label":u,"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":n,ref:f,__vars:{"--slider-thumb-offset":`${r}%`},...m("thumb",{focusable:!0}),mod:{dragging:o,disabled:b},onFocus:()=>{T(!0),typeof d=="function"&&d()},onBlur:()=>{T(!1),typeof p=="function"&&p()},onTouchStart:s,onMouseDown:s,onKeyDownCapture:a,onClick:h=>h.stopPropagation()},v,C.createElement(Ri,{mounted:i!=null&&!!x,transition:"fade",duration:0,...l},h=>C.createElement("div",{...m("label",{style:h})},i)))});gw.displayName="@mantine/core/SliderThumb";function mw({value:t,min:e,max:n}){const r=(t-e)/(n-e)*100;return Math.min(Math.max(r,0),100)}function PR({mark:t,offset:e,value:n,inverted:r=!1}){return r?typeof e=="number"&&t.value<=e||t.value>=n:typeof e=="number"?t.value>=e&&t.value<=n:t.value<=n}function vw({marks:t,min:e,max:n,disabled:r,value:i,offset:o,inverted:s}){const{getStyles:a}=wc();if(!t)return null;const l=t.map((c,u)=>C.createElement(te,{...a("markWrapper"),__vars:{"--mark-offset":`${mw({value:c.value,min:e,max:n})}%`},key:u},C.createElement(te,{...a("mark"),mod:{filled:PR({mark:c,value:i,offset:o,inverted:s}),disabled:r}}),c.label&&C.createElement("div",{...a("markLabel")},c.label)));return C.createElement("div",null,l)}vw.displayName="@mantine/core/SliderMarks";function yw({filled:t,children:e,offset:n,disabled:r,marksOffset:i,inverted:o,containerProps:s,...a}){const{getStyles:l}=wc();return C.createElement(C.Fragment,null,C.createElement(te,{...l("trackContainer"),mod:{disabled:r},...s},C.createElement(te,{...l("track"),mod:{inverted:o,disabled:r}},C.createElement(te,{mod:{inverted:o,disabled:r},__vars:{"--slider-bar-width":`calc(${t}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...l("bar")}),e,C.createElement(vw,{...a,offset:i,disabled:r,inverted:o}))))}yw.displayName="@mantine/core/SliderTrack";function DR({value:t,containerWidth:e,min:n,max:r,step:i,precision:o}){const a=(e?Math.min(Math.max(t,0),e)/e:t)*(r-n),l=(a!==0?Math.round(a/i)*i:0)+n,c=Math.max(l,n);return o!==void 0?Number(c.toFixed(o)):c}function _a(t,e){return parseFloat(t.toFixed(e))}function _R(t){if(!t)return 0;const e=t.toString().split(".");return e.length>1?e[1].length:0}var ww={root:"m-dd36362e",label:"m-c9357328",thumb:"m-c9a9a60a",trackContainer:"m-a8645c2",track:"m-c9ade57f",bar:"m-38aeed47",markWrapper:"m-b7b0423a",mark:"m-dd33bc19",markLabel:"m-68c77a5b"};const AR={radius:"xl",min:0,max:100,step:1,marks:[],label:t=>t,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:t=>t},NR=(t,{size:e,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":qe(e,"slider-size"),"--slider-color":n?In(n,t):void 0,"--slider-radius":i===void 0?void 0:An(i),"--slider-thumb-size":r!==void 0?V(r):"calc(var(--slider-size) * 2)"}}),xf=de((t,e)=>{const n=ne("Slider",AR,t),{classNames:r,styles:i,value:o,onChange:s,onChangeEnd:a,size:l,min:c,max:u,step:d,precision:p,defaultValue:g,name:y,marks:v,label:b,labelTransitionProps:f,labelAlwaysOn:m,thumbLabel:w,showLabelOnHover:T,thumbChildren:x,disabled:h,unstyled:R,scale:$,inverted:O,className:E,style:_,vars:P,hiddenInputProps:k,...F}=n,L=Te({name:"Slider",props:n,classes:ww,classNames:r,className:E,styles:i,style:_,vars:P,varsResolver:NR,unstyled:R}),{dir:N}=Jl(),[D,I]=S.useState(!1),[M,z]=Si({value:typeof o=="number"?fs(o,c,u):o,defaultValue:typeof g=="number"?fs(g,c,u):g,finalValue:fs(0,c,u),onChange:s}),Y=S.useRef(M),X=S.useRef(),ae=S.useRef(),le=mw({value:M,min:c,max:u}),fe=$(M),ve=typeof b=="function"?b(fe):b,me=p??_R(d),Ue=S.useCallback(({x:B})=>{if(!h){const re=DR({value:B,min:c,max:u,step:d,precision:me});z(re),Y.current=re}},[h,c,u,d,me,z]),{ref:He,active:Re}=GE(Ue,{onScrubEnd:()=>a==null?void 0:a(Y.current)},N),ye=B=>{var re,Q,se,Ee,pt,De;if(!h)switch(B.key){case"ArrowUp":{B.preventDefault(),(re=ae.current)==null||re.focus();const Ae=_a(Math.min(Math.max(M+d,c),u),me);a==null||a(Ae),z(Ae);break}case"ArrowRight":{B.preventDefault(),(Q=ae.current)==null||Q.focus();const Ae=_a(Math.min(Math.max(N==="rtl"?M-d:M+d,c),u),me);a==null||a(Ae),z(Ae);break}case"ArrowDown":{B.preventDefault(),(se=ae.current)==null||se.focus();const Ae=_a(Math.min(Math.max(M-d,c),u),me);a==null||a(Ae),z(Ae);break}case"ArrowLeft":{B.preventDefault(),(Ee=ae.current)==null||Ee.focus();const Ae=_a(Math.min(Math.max(N==="rtl"?M+d:M-d,c),u),me);a==null||a(Ae),z(Ae);break}case"Home":{B.preventDefault(),(pt=ae.current)==null||pt.focus(),a==null||a(c),z(c);break}case"End":{B.preventDefault(),(De=ae.current)==null||De.focus(),a==null||a(u),z(u);break}}};return C.createElement(IR,{value:{getStyles:L}},C.createElement(pw,{...F,ref:nn(e,X),onKeyDownCapture:ye,onMouseDownCapture:()=>{var B;return(B=X.current)==null?void 0:B.focus()},size:l,disabled:h},C.createElement(yw,{inverted:O,offset:0,filled:le,marks:v,min:c,max:u,value:fe,disabled:h,containerProps:{ref:He,onMouseEnter:T?()=>I(!0):void 0,onMouseLeave:T?()=>I(!1):void 0}},C.createElement(gw,{max:u,min:c,value:fe,position:le,dragging:Re,label:ve,ref:ae,labelTransitionProps:f,labelAlwaysOn:m,thumbLabel:w,showLabelOnHover:T,isHovered:D,disabled:h},x)),C.createElement("input",{type:"hidden",name:y,value:fe,...k})))});xf.classes=ww;xf.displayName="@mantine/core/Slider";const[MR,OR]=cr("Table component was not found in the tree");var na={table:"m-b23fa0ef",th:"m-4e7aa4f3",tr:"m-4e7aa4fd",td:"m-4e7aa4ef",tbody:"m-b2404537",thead:"m-b242d975",caption:"m-9e5a3ac7",scrollContainer:"m-a100c15",scrollContainerInner:"m-62259741"};function LR(t,e){if(!e)return;const n={};return e.columnBorder&&t.withColumnBorders&&(n["data-with-column-border"]=!0),e.rowBorder&&t.withRowBorders&&(n["data-with-row-border"]=!0),e.striped&&t.striped&&(n["data-striped"]=t.striped),e.highlightOnHover&&t.highlightOnHover&&(n["data-hover"]=!0),e.captionSide&&t.captionSide&&(n["data-side"]=t.captionSide),e.stickyHeader&&t.stickyHeader&&(n["data-sticky"]=!0),n}function ki(t,e){const n=`Table${t.charAt(0).toUpperCase()}${t.slice(1)}`,r=de((i,o)=>{const s=ne(n,{},i),{classNames:a,className:l,style:c,styles:u,...d}=s,p=OR();return C.createElement(te,{component:t,ref:o,...LR(p,e),...p.getStyles(t,{className:l,classNames:a,style:c,styles:u,props:s}),...d})});return r.displayName=`@mantine/core/${n}`,r.classes=na,r}const Rd=ki("th",{columnBorder:!0}),Sw=ki("td",{columnBorder:!0}),Ka=ki("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),bw=ki("thead",{stickyHeader:!0}),Ew=ki("tbody"),Cw=ki("tfoot"),Tw=ki("caption",{captionSide:!0});function Rf({data:t}){return C.createElement(C.Fragment,null,t.caption&&C.createElement(Tw,null,t.caption),t.head&&C.createElement(bw,null,C.createElement(Ka,null,t.head.map((e,n)=>C.createElement(Rd,{key:n},e)))),t.body&&C.createElement(Ew,null,t.body.map((e,n)=>C.createElement(Ka,{key:n},e.map((r,i)=>C.createElement(Sw,{key:i},r))))),t.foot&&C.createElement(Cw,null,C.createElement(Ka,null,t.foot.map((e,n)=>C.createElement(Rd,{key:n},e)))))}Rf.displayName="@mantine/core/TableDataRenderer";const HR={type:"scrollarea"},jR=(t,{minWidth:e,type:n})=>({scrollContainer:{"--table-min-width":V(e),"--table-overflow":n==="native"?"auto":void 0}}),$f=de((t,e)=>{const n=ne("TableScrollContainer",HR,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:c,minWidth:u,type:d,...p}=n,g=Te({name:"TableScrollContainer",classes:na,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:jR,rootSelector:"scrollContainer"});return C.createElement(te,{component:d==="scrollarea"?Do:"div",...d==="scrollarea"?{offsetScrollbars:"x"}:{},ref:e,...g("scrollContainer"),...p},C.createElement("div",{...g("scrollContainerInner")},c))});$f.classes=na;$f.displayName="@mantine/core/TableScrollContainer";const FR={withRowBorders:!0,verticalSpacing:7},qR=(t,{layout:e,captionSide:n,horizontalSpacing:r,verticalSpacing:i,borderColor:o,stripedColor:s,highlightOnHoverColor:a,striped:l,highlightOnHover:c,stickyHeaderOffset:u,stickyHeader:d})=>({table:{"--table-layout":e,"--table-caption-side":n,"--table-horizontal-spacing":wi(r),"--table-vertical-spacing":wi(i),"--table-border-color":o?In(o,t):void 0,"--table-striped-color":l&&s?In(s,t):void 0,"--table-highlight-on-hover-color":c&&a?In(a,t):void 0,"--table-sticky-header-offset":d?V(u):void 0}}),Ne=de((t,e)=>{const n=ne("Table",FR,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,horizontalSpacing:c,verticalSpacing:u,captionSide:d,stripedColor:p,highlightOnHoverColor:g,striped:y,highlightOnHover:v,withColumnBorders:b,withRowBorders:f,withTableBorder:m,borderColor:w,layout:T,variant:x,data:h,children:R,stickyHeader:$,stickyHeaderOffset:O,mod:E,..._}=n,P=Te({name:"Table",props:n,className:i,style:o,classes:na,classNames:r,styles:s,unstyled:a,rootSelector:"table",vars:l,varsResolver:qR});return C.createElement(MR,{value:{getStyles:P,stickyHeader:$,striped:y===!0?"odd":y||void 0,highlightOnHover:v,withColumnBorders:b,withRowBorders:f,captionSide:d||"bottom"}},C.createElement(te,{component:"table",variant:x,ref:e,mod:[{"data-with-table-border":m},E],...P("table"),..._},R||!!h&&C.createElement(Rf,{data:h})))});Ne.classes=na;Ne.displayName="@mantine/core/Table";Ne.Td=Sw;Ne.Th=Rd;Ne.Tr=Ka;Ne.Thead=bw;Ne.Tbody=Ew;Ne.Tfoot=Cw;Ne.Caption=Tw;Ne.ScrollContainer=$f;Ne.DataRenderer=Rf;const zR={},oi=de((t,e)=>{const n=ne("TextInput",zR,t);return C.createElement($i,{component:"input",ref:e,...n,__staticSelector:"TextInput"})});oi.classes=$i.classes;oi.displayName="@mantine/core/TextInput";const BR=["h1","h2","h3","h4","h5","h6"];function UR(t,e){const n=e!==void 0?e:`h${t}`;return BR.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:{fontSize:V(n),fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}}var xw={root:"m-8a5d1357"};const VR={order:1},WR=(t,{order:e,size:n,lineClamp:r,textWrap:i})=>{const o=UR(e,n);return{root:{"--title-fw":o.fontWeight,"--title-lh":o.lineHeight,"--title-fz":o.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},kl=de((t,e)=>{const n=ne("Title",VR,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,order:l,vars:c,size:u,variant:d,lineClamp:p,textWrap:g,mod:y,...v}=n,b=Te({name:"Title",props:n,classes:xw,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:WR});return[1,2,3,4,5,6].includes(l)?C.createElement(te,{...b("root"),component:`h${l}`,variant:d,ref:e,mod:[{order:l,"data-line-clamp":typeof p=="number"},y],size:u,...v}):null});kl.classes=xw;kl.displayName="@mantine/core/Title";const kf=S.createContext(null);kf.displayName="@mantine/modals/ModalsContext";function GR(){const t=S.useContext(kf);if(!t)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return t}function YR({id:t,cancelProps:e,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:o=!0,groupProps:s,onCancel:a,onConfirm:l,children:c}){const{cancel:u,confirm:d}=r,p=GR(),g=v=>{typeof(e==null?void 0:e.onClick)=="function"&&(e==null||e.onClick(v)),typeof a=="function"&&a(),o&&p.closeModal(t)},y=v=>{typeof(n==null?void 0:n.onClick)=="function"&&(n==null||n.onClick(v)),typeof l=="function"&&l(),i&&p.closeModal(t)};return C.createElement(C.Fragment,null,c&&C.createElement(te,{mb:"md"},c),C.createElement(Br,{justify:"flex-end",...s},C.createElement(Ur,{variant:"default",...e,onClick:g},(e==null?void 0:e.children)||u),C.createElement(Ur,{...n,onClick:y},(n==null?void 0:n.children)||d)))}const[KR,ra]=KE("mantine-modals"),ZR=ra("openModal"),XR=ra("closeModal"),QR=ra("closeAllModals"),JR=ra("openConfirmModal"),e$=t=>ra("openContextModal")(t),t$={open:ZR,close:XR,closeAll:QR,openConfirmModal:JR,openContextModal:e$};function Pg(t,e){var n,r,i,o;e&&t.type==="confirm"&&((r=(n=t.props).onCancel)==null||r.call(n)),(o=(i=t.props).onClose)==null||o.call(i)}function n$(t,e){switch(e.type){case"OPEN":return{current:e.modal,modals:[...t.modals,e.modal]};case"CLOSE":{const n=t.modals.find(i=>i.id===e.modalId);if(!n)return t;Pg(n,e.canceled);const r=t.modals.filter(i=>i.id!==e.modalId);return{current:r[r.length-1]||t.current,modals:r}}case"CLOSE_ALL":return t.modals.length?(t.modals.concat().reverse().forEach(n=>{Pg(n,e.canceled)}),{current:t.current,modals:[]}):t;default:return t}}function r$(t){if(!t)return{confirmProps:{},modalProps:{}};const{id:e,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:a,confirmProps:l,groupProps:c,labels:u,...d}=t;return{confirmProps:{id:e,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:a,confirmProps:l,groupProps:c,labels:u},modalProps:{id:e,...d}}}function i$({children:t,modalProps:e,labels:n,modals:r}){const[i,o]=S.useReducer(n$,{modals:[],current:null}),s=S.useRef(i);s.current=i;const a=S.useCallback(b=>{o({type:"CLOSE_ALL",canceled:b})},[s,o]),l=S.useCallback(({modalId:b,...f})=>{const m=b||ps();return o({type:"OPEN",modal:{id:m,type:"content",props:f}}),m},[o]),c=S.useCallback(({modalId:b,...f})=>{const m=b||ps();return o({type:"OPEN",modal:{id:m,type:"confirm",props:f}}),m},[o]),u=S.useCallback((b,{modalId:f,...m})=>{const w=f||ps();return o({type:"OPEN",modal:{id:w,type:"context",props:m,ctx:b}}),w},[o]),d=S.useCallback((b,f)=>{o({type:"CLOSE",modalId:b,canceled:f})},[s,o]);KR({openModal:l,openConfirmModal:c,openContextModal:({modal:b,...f})=>u(b,f),closeModal:d,closeContextModal:d,closeAllModals:a});const p={modals:i.modals,openModal:l,openConfirmModal:c,openContextModal:u,closeModal:d,closeContextModal:d,closeAll:a},g=()=>{const b=s.current.current;switch(b==null?void 0:b.type){case"context":{const{innerProps:f,...m}=b.props,w=r[b.ctx];return{modalProps:m,content:C.createElement(w,{innerProps:f,context:p,id:b.id})}}case"confirm":{const{modalProps:f,confirmProps:m}=r$(b.props);return{modalProps:f,content:C.createElement(YR,{...m,id:b.id,labels:b.props.labels||n})}}case"content":{const{children:f,...m}=b.props;return{modalProps:m,content:C.createElement(C.Fragment,null,f)}}default:return{modalProps:{},content:null}}},{modalProps:y,content:v}=g();return C.createElement(kf.Provider,{value:p},C.createElement(Gn,{zIndex:ko("modal")+1,...e,...y,opened:i.modals.length>0,onClose:()=>{var b;return d((b=i.current)==null?void 0:b.id)}},v),t)}/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ze(){return Ze=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ze.apply(this,arguments)}var Xe;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xe||(Xe={}));const Dg="popstate";function o$(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Ls("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ia(i)}return a$(e,n,null,t)}function be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Co(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function s$(){return Math.random().toString(36).substr(2,8)}function _g(t,e){return{usr:t.state,key:t.key,idx:e}}function Ls(t,e,n,r){return n===void 0&&(n=null),Ze({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fr(e):e,{state:n,key:e&&e.key||r||s$()})}function ia(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function a$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Xe.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Ze({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=Xe.Pop;let b=u(),f=b==null?null:b-c;c=b,l&&l({action:a,location:v.location,delta:f})}function p(b,f){a=Xe.Push;let m=Ls(v.location,b,f);n&&n(m,b),c=u()+1;let w=_g(m,c),T=v.createHref(m);try{s.pushState(w,"",T)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(T)}o&&l&&l({action:a,location:v.location,delta:1})}function g(b,f){a=Xe.Replace;let m=Ls(v.location,b,f);n&&n(m,b),c=u();let w=_g(m,c),T=v.createHref(m);s.replaceState(w,"",T),o&&l&&l({action:a,location:v.location,delta:0})}function y(b){let f=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof b=="string"?b:ia(b);return m=m.replace(/ $/,"%20"),be(f,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,f)}let v={get action(){return a},get location(){return t(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Dg,d),l=b,()=>{i.removeEventListener(Dg,d),l=null}},createHref(b){return e(i,b)},createURL:y,encodeLocation(b){let f=y(b);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:g,go(b){return s.go(b)}};return v}var Ye;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ye||(Ye={}));const l$=new Set(["lazy","caseSensitive","path","id","index","children"]);function c$(t){return t.index===!0}function $d(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(be(i.index!==!0||!i.children,"Cannot specify children on an index route"),be(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),c$(i)){let l=Ze({},i,e(i),{id:a});return r[a]=l,l}else{let l=Ze({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=$d(i.children,e,s,r)),l}})}function Zi(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?fr(e):e,i=oa(r.pathname||"/",n);if(i==null)return null;let o=Rw(t);d$(o);let s=null;for(let a=0;s==null&&a<o.length;++a){let l=C$(i);s=S$(o[a],l)}return s}function u$(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Rw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=hi([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(be(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Rw(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:y$(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of $w(o.path))i(o,s,l)}),e}function $w(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=$w(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function d$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:w$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const h$=/^:[\w-]+$/,f$=3,p$=2,g$=1,m$=10,v$=-2,Ag=t=>t==="*";function y$(t,e){let n=t.split("/"),r=n.length;return n.some(Ag)&&(r+=v$),e&&(r+=p$),n.filter(i=>!Ag(i)).reduce((i,o)=>i+(h$.test(o)?f$:o===""?g$:m$),r)}function w$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function S$(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=b$({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;o.push({params:r,pathname:hi([i,u.pathname]),pathnameBase:k$(hi([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=hi([i,u.pathnameBase]))}return o}function b$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=E$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:p,isOptional:g}=u;if(p==="*"){let v=a[d]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[d];return g&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function E$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Co(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function C$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Co(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function oa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function T$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?fr(t):t;return{pathname:n?n.startsWith("/")?n:x$(n,e):e,search:I$(r),hash:P$(i)}}function x$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function R$(t,e){let n=kw(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $$(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=fr(t):(i=Ze({},t),be(!i.pathname||!i.pathname.includes("?"),gu("?","pathname","search",i)),be(!i.pathname||!i.pathname.includes("#"),gu("#","pathname","hash",i)),be(!i.search||!i.search.includes("#"),gu("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=T$(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const hi=t=>t.join("/").replace(/\/\/+/g,"/"),k$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),I$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,P$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class If{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Iw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Pw=["post","put","patch","delete"],D$=new Set(Pw),_$=["get",...Pw],A$=new Set(_$),N$=new Set([301,302,303,307,308]),M$=new Set([307,308]),mu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},O$={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Dw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L$=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),_w="remix-router-transitions";function H$(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;be(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let A=t.detectErrorBoundary;i=H=>({hasErrorBoundary:A(H)})}else i=L$;let o={},s=$d(t.routes,i,void 0,o),a,l=t.basename||"/",c=Ze({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),u=null,d=new Set,p=null,g=null,y=null,v=t.hydrationData!=null,b=Zi(s,t.history.location,l),f=null;if(b==null){let A=sn(404,{pathname:t.history.location.pathname}),{matches:H,route:U}=qg(s);b=H,f={[U.id]:A}}let m,w=b.some(A=>A.route.lazy),T=b.some(A=>A.route.loader);if(w)m=!1;else if(!T)m=!0;else if(c.v7_partialHydration){let A=t.hydrationData?t.hydrationData.loaderData:null,H=t.hydrationData?t.hydrationData.errors:null,U=K=>K.route.loader?K.route.loader.hydrate===!0?!1:A&&A[K.route.id]!==void 0||H&&H[K.route.id]!==void 0:!0;if(H){let K=b.findIndex(ie=>H[ie.route.id]!==void 0);m=b.slice(0,K+1).every(U)}else m=b.every(U)}else m=t.hydrationData!=null;let x,h={historyAction:t.history.action,location:t.history.location,matches:b,initialized:m,navigation:mu,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||f,fetchers:new Map,blockers:new Map},R=Xe.Pop,$=!1,O,E=!1,_=new Map,P=null,k=!1,F=!1,L=[],N=[],D=new Map,I=0,M=-1,z=new Map,Y=new Set,X=new Map,ae=new Map,le=new Set,fe=new Map,ve=new Map,me=!1;function Ue(){if(u=t.history.listen(A=>{let{action:H,location:U,delta:K}=A;if(me){me=!1;return}Co(ve.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=Of({currentLocation:h.location,nextLocation:U,historyAction:H});if(ie&&K!=null){me=!0,t.history.go(K*-1),aa(ie,{state:"blocked",location:U,proceed(){aa(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),t.history.go(K)},reset(){let ge=new Map(h.blockers);ge.set(ie,Vo),ye({blockers:ge})}});return}return se(H,U)}),n){K$(e,_);let A=()=>Z$(e,_);e.addEventListener("pagehide",A),P=()=>e.removeEventListener("pagehide",A)}return h.initialized||se(Xe.Pop,h.location,{initialHydration:!0}),x}function He(){u&&u(),P&&P(),d.clear(),O&&O.abort(),h.fetchers.forEach((A,H)=>Zr(H)),h.blockers.forEach((A,H)=>Mf(H))}function Re(A){return d.add(A),()=>d.delete(A)}function ye(A,H){H===void 0&&(H={}),h=Ze({},h,A);let U=[],K=[];c.v7_fetcherPersist&&h.fetchers.forEach((ie,ge)=>{ie.state==="idle"&&(le.has(ge)?K.push(ge):U.push(ge))}),[...d].forEach(ie=>ie(h,{deletedFetchers:K,unstable_viewTransitionOpts:H.viewTransitionOpts,unstable_flushSync:H.flushSync===!0})),c.v7_fetcherPersist&&(U.forEach(ie=>h.fetchers.delete(ie)),K.forEach(ie=>Zr(ie)))}function B(A,H,U){var K,ie;let{flushSync:ge}=U===void 0?{}:U,he=h.actionData!=null&&h.navigation.formMethod!=null&&Tn(h.navigation.formMethod)&&h.navigation.state==="loading"&&((K=A.state)==null?void 0:K._isRedirect)!==!0,ue;H.actionData?Object.keys(H.actionData).length>0?ue=H.actionData:ue=null:he?ue=h.actionData:ue=null;let oe=H.loaderData?Fg(h.loaderData,H.loaderData,H.matches||[],H.errors):h.loaderData,Se=h.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((Me,gt)=>Se.set(gt,Vo)));let at=$===!0||h.navigation.formMethod!=null&&Tn(h.navigation.formMethod)&&((ie=A.state)==null?void 0:ie._isRedirect)!==!0;a&&(s=a,a=void 0),k||R===Xe.Pop||(R===Xe.Push?t.history.push(A,A.state):R===Xe.Replace&&t.history.replace(A,A.state));let pe;if(R===Xe.Pop){let Me=_.get(h.location.pathname);Me&&Me.has(A.pathname)?pe={currentLocation:h.location,nextLocation:A}:_.has(A.pathname)&&(pe={currentLocation:A,nextLocation:h.location})}else if(E){let Me=_.get(h.location.pathname);Me?Me.add(A.pathname):(Me=new Set([A.pathname]),_.set(h.location.pathname,Me)),pe={currentLocation:h.location,nextLocation:A}}ye(Ze({},H,{actionData:ue,loaderData:oe,historyAction:R,location:A,initialized:!0,navigation:mu,revalidation:"idle",restoreScrollPosition:Hf(A,H.matches||h.matches),preventScrollReset:at,blockers:Se}),{viewTransitionOpts:pe,flushSync:ge===!0}),R=Xe.Pop,$=!1,E=!1,k=!1,F=!1,L=[],N=[]}async function re(A,H){if(typeof A=="number"){t.history.go(A);return}let U=kd(h.location,h.matches,l,c.v7_prependBasename,A,c.v7_relativeSplatPath,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:K,submission:ie,error:ge}=Ng(c.v7_normalizeFormMethod,!1,U,H),he=h.location,ue=Ls(h.location,K,H&&H.state);ue=Ze({},ue,t.history.encodeLocation(ue));let oe=H&&H.replace!=null?H.replace:void 0,Se=Xe.Push;oe===!0?Se=Xe.Replace:oe===!1||ie!=null&&Tn(ie.formMethod)&&ie.formAction===h.location.pathname+h.location.search&&(Se=Xe.Replace);let at=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,pe=(H&&H.unstable_flushSync)===!0,Me=Of({currentLocation:he,nextLocation:ue,historyAction:Se});if(Me){aa(Me,{state:"blocked",location:ue,proceed(){aa(Me,{state:"proceeding",proceed:void 0,reset:void 0,location:ue}),re(A,H)},reset(){let gt=new Map(h.blockers);gt.set(Me,Vo),ye({blockers:gt})}});return}return await se(Se,ue,{submission:ie,pendingError:ge,preventScrollReset:at,replace:H&&H.replace,enableViewTransition:H&&H.unstable_viewTransition,flushSync:pe})}function Q(){if(rn(),ye({revalidation:"loading"}),h.navigation.state!=="submitting"){if(h.navigation.state==="idle"){se(h.historyAction,h.location,{startUninterruptedRevalidation:!0});return}se(R||h.historyAction,h.navigation.location,{overrideNavigation:h.navigation})}}async function se(A,H,U){O&&O.abort(),O=null,R=A,k=(U&&U.startUninterruptedRevalidation)===!0,h1(h.location,h.matches),$=(U&&U.preventScrollReset)===!0,E=(U&&U.enableViewTransition)===!0;let K=a||s,ie=U&&U.overrideNavigation,ge=Zi(K,H,l),he=(U&&U.flushSync)===!0;if(!ge){let gt=sn(404,{pathname:H.pathname}),{matches:Ut,route:lt}=qg(K);kc(),B(H,{matches:Ut,loaderData:{},errors:{[lt.id]:gt}},{flushSync:he});return}if(h.initialized&&!F&&B$(h.location,H)&&!(U&&U.submission&&Tn(U.submission.formMethod))){B(H,{matches:ge},{flushSync:he});return}O=new AbortController;let ue=Go(t.history,H,O.signal,U&&U.submission),oe,Se;if(U&&U.pendingError)Se={[gs(ge).route.id]:U.pendingError};else if(U&&U.submission&&Tn(U.submission.formMethod)){let gt=await Ee(ue,H,U.submission,ge,{replace:U.replace,flushSync:he});if(gt.shortCircuited)return;oe=gt.pendingActionData,Se=gt.pendingActionError,ie=vu(H,U.submission),he=!1,ue=new Request(ue.url,{signal:ue.signal})}let{shortCircuited:at,loaderData:pe,errors:Me}=await pt(ue,H,ge,ie,U&&U.submission,U&&U.fetcherSubmission,U&&U.replace,U&&U.initialHydration===!0,he,oe,Se);at||(O=null,B(H,Ze({matches:ge},oe?{actionData:oe}:{},{loaderData:pe,errors:Me})))}async function Ee(A,H,U,K,ie){ie===void 0&&(ie={}),rn();let ge=G$(H,U);ye({navigation:ge},{flushSync:ie.flushSync===!0});let he,ue=Pd(K,H);if(!ue.route.action&&!ue.route.lazy)he={type:Ye.error,error:sn(405,{method:A.method,pathname:H.pathname,routeId:ue.route.id})};else if(he=await Wo("action",A,ue,K,o,i,l,c.v7_relativeSplatPath),A.signal.aborted)return{shortCircuited:!0};if(ai(he)){let oe;return ie&&ie.replace!=null?oe=ie.replace:oe=he.location===h.location.pathname+h.location.search,await et(h,he,{submission:U,replace:oe}),{shortCircuited:!0}}if(Xi(he)){let oe=gs(K,ue.route.id);return(ie&&ie.replace)!==!0&&(R=Xe.Push),{pendingActionData:{},pendingActionError:{[oe.route.id]:he.error}}}if(si(he))throw sn(400,{type:"defer-action"});return{pendingActionData:{[ue.route.id]:he.data}}}async function pt(A,H,U,K,ie,ge,he,ue,oe,Se,at){let pe=K||vu(H,ie),Me=ie||ge||Ug(pe),gt=a||s,[Ut,lt]=Mg(t.history,h,U,Me,H,c.v7_partialHydration&&ue===!0,F,L,N,le,X,Y,gt,l,Se,at);if(kc($e=>!(U&&U.some(_e=>_e.route.id===$e))||Ut&&Ut.some(_e=>_e.route.id===$e)),M=++I,Ut.length===0&&lt.length===0){let $e=Af();return B(H,Ze({matches:U,loaderData:{},errors:at||null},Se?{actionData:Se}:{},$e?{fetchers:new Map(h.fetchers)}:{}),{flushSync:oe}),{shortCircuited:!0}}if(!k&&(!c.v7_partialHydration||!ue)){lt.forEach(_e=>{let Mt=h.fetchers.get(_e.key),ca=Yo(void 0,Mt?Mt.data:void 0);h.fetchers.set(_e.key,ca)});let $e=Se||h.actionData;ye(Ze({navigation:pe},$e?Object.keys($e).length===0?{actionData:null}:{actionData:$e}:{},lt.length>0?{fetchers:new Map(h.fetchers)}:{}),{flushSync:oe})}lt.forEach($e=>{D.has($e.key)&&gr($e.key),$e.controller&&D.set($e.key,$e.controller)});let Pi=()=>lt.forEach($e=>gr($e.key));O&&O.signal.addEventListener("abort",Pi);let{results:Ic,loaderResults:Di,fetcherResults:mr}=await pr(h.matches,U,Ut,lt,A);if(A.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",Pi),lt.forEach($e=>D.delete($e.key));let Xr=zg(Ic);if(Xr){if(Xr.idx>=Ut.length){let $e=lt[Xr.idx-Ut.length].key;Y.add($e)}return await et(h,Xr.result,{replace:he}),{shortCircuited:!0}}let{loaderData:Pc,errors:No}=jg(h,U,Ut,Di,at,lt,mr,fe);fe.forEach(($e,_e)=>{$e.subscribe(Mt=>{(Mt||$e.done)&&fe.delete(_e)})}),c.v7_partialHydration&&ue&&h.errors&&Object.entries(h.errors).filter($e=>{let[_e]=$e;return!Ut.some(Mt=>Mt.route.id===_e)}).forEach($e=>{let[_e,Mt]=$e;No=Object.assign(No||{},{[_e]:Mt})});let Dc=Af(),_i=Nf(M),la=Dc||_i||lt.length>0;return Ze({loaderData:Pc,errors:No},la?{fetchers:new Map(h.fetchers)}:{})}function De(A,H,U,K){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");D.has(A)&&gr(A);let ie=(K&&K.unstable_flushSync)===!0,ge=a||s,he=kd(h.location,h.matches,l,c.v7_prependBasename,U,c.v7_relativeSplatPath,H,K==null?void 0:K.relative),ue=Zi(ge,he,l);if(!ue){st(A,H,sn(404,{pathname:he}),{flushSync:ie});return}let{path:oe,submission:Se,error:at}=Ng(c.v7_normalizeFormMethod,!0,he,K);if(at){st(A,H,at,{flushSync:ie});return}let pe=Pd(ue,oe);if($=(K&&K.preventScrollReset)===!0,Se&&Tn(Se.formMethod)){Ae(A,H,oe,pe,ue,ie,Se);return}X.set(A,{routeId:H,path:oe}),wn(A,H,oe,pe,ue,ie,Se)}async function Ae(A,H,U,K,ie,ge,he){if(rn(),X.delete(A),!K.route.action&&!K.route.lazy){let _e=sn(405,{method:he.formMethod,pathname:U,routeId:H});st(A,H,_e,{flushSync:ge});return}let ue=h.fetchers.get(A);Sn(A,Y$(he,ue),{flushSync:ge});let oe=new AbortController,Se=Go(t.history,U,oe.signal,he);D.set(A,oe);let at=I,pe=await Wo("action",Se,K,ie,o,i,l,c.v7_relativeSplatPath);if(Se.signal.aborted){D.get(A)===oe&&D.delete(A);return}if(c.v7_fetcherPersist&&le.has(A)){if(ai(pe)||Xi(pe)){Sn(A,wr(void 0));return}}else{if(ai(pe))if(D.delete(A),M>at){Sn(A,wr(void 0));return}else return Y.add(A),Sn(A,Yo(he)),et(h,pe,{fetcherSubmission:he});if(Xi(pe)){st(A,H,pe.error);return}}if(si(pe))throw sn(400,{type:"defer-action"});let Me=h.navigation.location||h.location,gt=Go(t.history,Me,oe.signal),Ut=a||s,lt=h.navigation.state!=="idle"?Zi(Ut,h.navigation.location,l):h.matches;be(lt,"Didn't find any matches after fetcher action");let Pi=++I;z.set(A,Pi);let Ic=Yo(he,pe.data);h.fetchers.set(A,Ic);let[Di,mr]=Mg(t.history,h,lt,he,Me,!1,F,L,N,le,X,Y,Ut,l,{[K.route.id]:pe.data},void 0);mr.filter(_e=>_e.key!==A).forEach(_e=>{let Mt=_e.key,ca=h.fetchers.get(Mt),p1=Yo(void 0,ca?ca.data:void 0);h.fetchers.set(Mt,p1),D.has(Mt)&&gr(Mt),_e.controller&&D.set(Mt,_e.controller)}),ye({fetchers:new Map(h.fetchers)});let Xr=()=>mr.forEach(_e=>gr(_e.key));oe.signal.addEventListener("abort",Xr);let{results:Pc,loaderResults:No,fetcherResults:Dc}=await pr(h.matches,lt,Di,mr,gt);if(oe.signal.aborted)return;oe.signal.removeEventListener("abort",Xr),z.delete(A),D.delete(A),mr.forEach(_e=>D.delete(_e.key));let _i=zg(Pc);if(_i){if(_i.idx>=Di.length){let _e=mr[_i.idx-Di.length].key;Y.add(_e)}return et(h,_i.result)}let{loaderData:la,errors:$e}=jg(h,h.matches,Di,No,void 0,mr,Dc,fe);if(h.fetchers.has(A)){let _e=wr(pe.data);h.fetchers.set(A,_e)}Nf(Pi),h.navigation.state==="loading"&&Pi>M?(be(R,"Expected pending action"),O&&O.abort(),B(h.navigation.location,{matches:lt,loaderData:la,errors:$e,fetchers:new Map(h.fetchers)})):(ye({errors:$e,loaderData:Fg(h.loaderData,la,lt,$e),fetchers:new Map(h.fetchers)}),F=!1)}async function wn(A,H,U,K,ie,ge,he){let ue=h.fetchers.get(A);Sn(A,Yo(he,ue?ue.data:void 0),{flushSync:ge});let oe=new AbortController,Se=Go(t.history,U,oe.signal);D.set(A,oe);let at=I,pe=await Wo("loader",Se,K,ie,o,i,l,c.v7_relativeSplatPath);if(si(pe)&&(pe=await Mw(pe,Se.signal,!0)||pe),D.get(A)===oe&&D.delete(A),!Se.signal.aborted){if(le.has(A)){Sn(A,wr(void 0));return}if(ai(pe))if(M>at){Sn(A,wr(void 0));return}else{Y.add(A),await et(h,pe);return}if(Xi(pe)){st(A,H,pe.error);return}be(!si(pe),"Unhandled fetcher deferred data"),Sn(A,wr(pe.data))}}async function et(A,H,U){let{submission:K,fetcherSubmission:ie,replace:ge}=U===void 0?{}:U;H.revalidate&&(F=!0);let he=Ls(A.location,H.location,{_isRedirect:!0});if(be(he,"Expected a location on the redirect navigation"),n){let Me=!1;if(H.reloadDocument)Me=!0;else if(Dw.test(H.location)){const gt=t.history.createURL(H.location);Me=gt.origin!==e.location.origin||oa(gt.pathname,l)==null}if(Me){ge?e.location.replace(H.location):e.location.assign(H.location);return}}O=null;let ue=ge===!0?Xe.Replace:Xe.Push,{formMethod:oe,formAction:Se,formEncType:at}=A.navigation;!K&&!ie&&oe&&Se&&at&&(K=Ug(A.navigation));let pe=K||ie;if(M$.has(H.status)&&pe&&Tn(pe.formMethod))await se(ue,he,{submission:Ze({},pe,{formAction:H.location}),preventScrollReset:$});else{let Me=vu(he,K);await se(ue,he,{overrideNavigation:Me,fetcherSubmission:ie,preventScrollReset:$})}}async function pr(A,H,U,K,ie){let ge=await Promise.all([...U.map(oe=>Wo("loader",ie,oe,H,o,i,l,c.v7_relativeSplatPath)),...K.map(oe=>oe.matches&&oe.match&&oe.controller?Wo("loader",Go(t.history,oe.path,oe.controller.signal),oe.match,oe.matches,o,i,l,c.v7_relativeSplatPath):{type:Ye.error,error:sn(404,{pathname:oe.path})})]),he=ge.slice(0,U.length),ue=ge.slice(U.length);return await Promise.all([Bg(A,U,he,he.map(()=>ie.signal),!1,h.loaderData),Bg(A,K.map(oe=>oe.match),ue,K.map(oe=>oe.controller?oe.controller.signal:null),!0)]),{results:ge,loaderResults:he,fetcherResults:ue}}function rn(){F=!0,L.push(...kc()),X.forEach((A,H)=>{D.has(H)&&(N.push(H),gr(H))})}function Sn(A,H,U){U===void 0&&(U={}),h.fetchers.set(A,H),ye({fetchers:new Map(h.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function st(A,H,U,K){K===void 0&&(K={});let ie=gs(h.matches,H);Zr(A),ye({errors:{[ie.route.id]:U},fetchers:new Map(h.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function on(A){return c.v7_fetcherPersist&&(ae.set(A,(ae.get(A)||0)+1),le.has(A)&&le.delete(A)),h.fetchers.get(A)||O$}function Zr(A){let H=h.fetchers.get(A);D.has(A)&&!(H&&H.state==="loading"&&z.has(A))&&gr(A),X.delete(A),z.delete(A),Y.delete(A),le.delete(A),h.fetchers.delete(A)}function c1(A){if(c.v7_fetcherPersist){let H=(ae.get(A)||0)-1;H<=0?(ae.delete(A),le.add(A)):ae.set(A,H)}else Zr(A);ye({fetchers:new Map(h.fetchers)})}function gr(A){let H=D.get(A);be(H,"Expected fetch controller: "+A),H.abort(),D.delete(A)}function _f(A){for(let H of A){let U=on(H),K=wr(U.data);h.fetchers.set(H,K)}}function Af(){let A=[],H=!1;for(let U of Y){let K=h.fetchers.get(U);be(K,"Expected fetcher: "+U),K.state==="loading"&&(Y.delete(U),A.push(U),H=!0)}return _f(A),H}function Nf(A){let H=[];for(let[U,K]of z)if(K<A){let ie=h.fetchers.get(U);be(ie,"Expected fetcher: "+U),ie.state==="loading"&&(gr(U),z.delete(U),H.push(U))}return _f(H),H.length>0}function u1(A,H){let U=h.blockers.get(A)||Vo;return ve.get(A)!==H&&ve.set(A,H),U}function Mf(A){h.blockers.delete(A),ve.delete(A)}function aa(A,H){let U=h.blockers.get(A)||Vo;be(U.state==="unblocked"&&H.state==="blocked"||U.state==="blocked"&&H.state==="blocked"||U.state==="blocked"&&H.state==="proceeding"||U.state==="blocked"&&H.state==="unblocked"||U.state==="proceeding"&&H.state==="unblocked","Invalid blocker state transition: "+U.state+" -> "+H.state);let K=new Map(h.blockers);K.set(A,H),ye({blockers:K})}function Of(A){let{currentLocation:H,nextLocation:U,historyAction:K}=A;if(ve.size===0)return;ve.size>1&&Co(!1,"A router only supports one blocker at a time");let ie=Array.from(ve.entries()),[ge,he]=ie[ie.length-1],ue=h.blockers.get(ge);if(!(ue&&ue.state==="proceeding")&&he({currentLocation:H,nextLocation:U,historyAction:K}))return ge}function kc(A){let H=[];return fe.forEach((U,K)=>{(!A||A(K))&&(U.cancel(),H.push(K),fe.delete(K))}),H}function d1(A,H,U){if(p=A,y=H,g=U||null,!v&&h.navigation===mu){v=!0;let K=Hf(h.location,h.matches);K!=null&&ye({restoreScrollPosition:K})}return()=>{p=null,y=null,g=null}}function Lf(A,H){return g&&g(A,H.map(K=>u$(K,h.loaderData)))||A.key}function h1(A,H){if(p&&y){let U=Lf(A,H);p[U]=y()}}function Hf(A,H){if(p){let U=Lf(A,H),K=p[U];if(typeof K=="number")return K}return null}function f1(A){o={},a=$d(A,i,void 0,o)}return x={get basename(){return l},get future(){return c},get state(){return h},get routes(){return s},get window(){return e},initialize:Ue,subscribe:Re,enableScrollRestoration:d1,navigate:re,fetch:De,revalidate:Q,createHref:A=>t.history.createHref(A),encodeLocation:A=>t.history.encodeLocation(A),getFetcher:on,deleteFetcher:c1,dispose:He,getBlocker:u1,deleteBlocker:Mf,_internalFetchControllers:D,_internalActiveDeferreds:fe,_internalSetRoutes:f1},x}function j$(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function kd(t,e,n,r,i,o,s,a){let l,c;if(s){l=[];for(let d of e)if(l.push(d),d.route.id===s){c=d;break}}else l=e,c=e[e.length-1];let u=$$(i||".",R$(l,o),oa(t.pathname,n)||t.pathname,a==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Pf(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:hi([n,u.pathname])),ia(u)}function Ng(t,e,n,r){if(!r||!j$(r))return{path:n};if(r.formMethod&&!W$(r.formMethod))return{path:n,error:sn(405,{method:r.formMethod})};let i=()=>({path:n,error:sn(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=Nw(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Tn(s))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,y)=>{let[v,b]=y;return""+g+v+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Tn(s))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}be(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Id(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Id(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Hg(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Hg(l)}catch{return i()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Tn(u.formMethod))return{path:n,submission:u};let d=fr(n);return e&&d.search&&Pf(d.search)&&l.append("index",""),d.search="?"+l,{path:ia(d),submission:u}}function F$(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Mg(t,e,n,r,i,o,s,a,l,c,u,d,p,g,y,v){let b=v?Object.values(v)[0]:y?Object.values(y)[0]:void 0,f=t.createURL(e.location),m=t.createURL(i),w=v?Object.keys(v)[0]:void 0,x=F$(n,w).filter((R,$)=>{let{route:O}=R;if(O.lazy)return!0;if(O.loader==null)return!1;if(o)return O.loader.hydrate?!0:e.loaderData[O.id]===void 0&&(!e.errors||e.errors[O.id]===void 0);if(q$(e.loaderData,e.matches[$],R)||a.some(P=>P===R.route.id))return!0;let E=e.matches[$],_=R;return Og(R,Ze({currentUrl:f,currentParams:E.params,nextUrl:m,nextParams:_.params},r,{actionResult:b,defaultShouldRevalidate:s||f.pathname+f.search===m.pathname+m.search||f.search!==m.search||Aw(E,_)}))}),h=[];return u.forEach((R,$)=>{if(o||!n.some(k=>k.route.id===R.routeId)||c.has($))return;let O=Zi(p,R.path,g);if(!O){h.push({key:$,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let E=e.fetchers.get($),_=Pd(O,R.path),P=!1;d.has($)?P=!1:l.includes($)?P=!0:E&&E.state!=="idle"&&E.data===void 0?P=s:P=Og(_,Ze({currentUrl:f,currentParams:e.matches[e.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:b,defaultShouldRevalidate:s})),P&&h.push({key:$,routeId:R.routeId,path:R.path,matches:O,match:_,controller:new AbortController})}),[x,h]}function q$(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Aw(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Og(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Lg(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];be(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Co(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!l$.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Ze({},e(i),{lazy:void 0}))}async function Wo(t,e,n,r,i,o,s,a,l){l===void 0&&(l={});let c,u,d,p=v=>{let b,f=new Promise((m,w)=>b=w);return d=()=>b(),e.signal.addEventListener("abort",d),Promise.race([v({request:e,params:n.params,context:l.requestContext}),f])};try{let v=n.route[t];if(n.route.lazy)if(v){let b,f=await Promise.all([p(v).catch(m=>{b=m}),Lg(n.route,o,i)]);if(b)throw b;u=f[0]}else if(await Lg(n.route,o,i),v=n.route[t],v)u=await p(v);else if(t==="action"){let b=new URL(e.url),f=b.pathname+b.search;throw sn(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:Ye.data,data:void 0};else if(v)u=await p(v);else{let b=new URL(e.url),f=b.pathname+b.search;throw sn(404,{pathname:f})}be(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){c=Ye.error,u=v}finally{d&&e.signal.removeEventListener("abort",d)}if(V$(u)){let v=u.status;if(N$.has(v)){let f=u.headers.get("Location");if(be(f,"Redirects returned/thrown from loaders/actions must have a Location header"),!Dw.test(f))f=kd(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,f,a);else if(!l.isStaticRequest){let m=new URL(e.url),w=f.startsWith("//")?new URL(m.protocol+f):new URL(f),T=oa(w.pathname,s)!=null;w.origin===m.origin&&T&&(f=w.pathname+w.search+w.hash)}if(l.isStaticRequest)throw u.headers.set("Location",f),u;return{type:Ye.redirect,status:v,location:f,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===Ye.error?Ye.error:Ye.data,response:u};let b;try{let f=u.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?u.body==null?b=null:b=await u.json():b=await u.text()}catch(f){return{type:Ye.error,error:f}}return c===Ye.error?{type:c,error:new If(v,u.statusText,b),headers:u.headers}:{type:Ye.data,data:b,statusCode:u.status,headers:u.headers}}if(c===Ye.error)return{type:c,error:u};if(U$(u)){var g,y;return{type:Ye.deferred,deferredData:u,statusCode:(g=u.init)==null?void 0:g.status,headers:((y=u.init)==null?void 0:y.headers)&&new Headers(u.init.headers)}}return{type:Ye.data,data:u}}function Go(t,e,n,r){let i=t.createURL(Nw(e)).toString(),o={signal:n};if(r&&Tn(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Id(r.formData):o.body=r.formData}return new Request(i,o)}function Id(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Hg(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function z$(t,e,n,r,i){let o={},s=null,a,l=!1,c={};return n.forEach((u,d)=>{let p=e[d].route.id;if(be(!ai(u),"Cannot handle redirect results in processLoaderData"),Xi(u)){let g=gs(t,p),y=u.error;r&&(y=Object.values(r)[0],r=void 0),s=s||{},s[g.route.id]==null&&(s[g.route.id]=y),o[p]=void 0,l||(l=!0,a=Iw(u.error)?u.error.status:500),u.headers&&(c[p]=u.headers)}else si(u)?(i.set(p,u.deferredData),o[p]=u.deferredData.data):o[p]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(a=u.statusCode),u.headers&&(c[p]=u.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function jg(t,e,n,r,i,o,s,a){let{loaderData:l,errors:c}=z$(e,n,r,i,a);for(let u=0;u<o.length;u++){let{key:d,match:p,controller:g}=o[u];be(s!==void 0&&s[u]!==void 0,"Did not find corresponding fetcher result");let y=s[u];if(!(g&&g.signal.aborted))if(Xi(y)){let v=gs(t.matches,p==null?void 0:p.route.id);c&&c[v.route.id]||(c=Ze({},c,{[v.route.id]:y.error})),t.fetchers.delete(d)}else if(ai(y))be(!1,"Unhandled fetcher revalidation redirect");else if(si(y))be(!1,"Unhandled fetcher deferred data");else{let v=wr(y.data);t.fetchers.set(d,v)}}return{loaderData:l,errors:c}}function Fg(t,e,n,r){let i=Ze({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function gs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function qg(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function sn(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new If(t||500,s,new Error(a),!0)}function zg(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(ai(n))return{result:n,idx:e}}}function Nw(t){let e=typeof t=="string"?fr(t):t;return ia(Ze({},e,{hash:""}))}function B$(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function si(t){return t.type===Ye.deferred}function Xi(t){return t.type===Ye.error}function ai(t){return(t&&t.type)===Ye.redirect}function U$(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function V$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function W$(t){return A$.has(t.toLowerCase())}function Tn(t){return D$.has(t.toLowerCase())}async function Bg(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let c=t.find(d=>d.route.id===l.route.id),u=c!=null&&!Aw(c,l)&&(o&&o[l.route.id])!==void 0;if(si(a)&&(i||u)){let d=r[s];be(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await Mw(a,d,i).then(p=>{p&&(n[s]=p||n[s])})}}}async function Mw(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ye.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ye.error,error:i}}return{type:Ye.data,data:t.deferredData.data}}}function Pf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Pd(t,e){let n=typeof e=="string"?fr(e).search:e.search;if(t[t.length-1].route.index&&Pf(n||""))return t[t.length-1];let r=kw(t);return r[r.length-1]}function Ug(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function vu(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function G$(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Yo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Y$(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function wr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function K$(t,e){try{let n=t.sessionStorage.getItem(_w);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function Z$(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(_w,JSON.stringify(n))}catch(r){Co(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Il.apply(this,arguments)}const Ow=S.createContext(null),Lw=S.createContext(null),Hw=S.createContext(null),Sc=S.createContext(null),bc=S.createContext({outlet:null,matches:[],isDataRoute:!1}),jw=S.createContext(null);function Df(){return S.useContext(Sc)!=null}function X$(){return Df()||be(!1),S.useContext(Sc).location}function Q$(t,e,n,r){Df()||be(!1);let{navigator:i}=S.useContext(Hw),{matches:o}=S.useContext(bc),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=X$(),u;if(e){var d;let b=typeof e=="string"?fr(e):e;l==="/"||(d=b.pathname)!=null&&d.startsWith(l)||be(!1),u=b}else u=c;let p=u.pathname||"/",g=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=Zi(t,{pathname:g}),v=rk(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:hi([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:hi([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return e&&v?S.createElement(Sc.Provider,{value:{location:Il({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Xe.Pop}},v):v}function J$(){let t=ak(),e=Iw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,o)}const ek=S.createElement(J$,null);class tk extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(bc.Provider,{value:this.props.routeContext},S.createElement(jw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nk(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(Ow);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(bc.Provider,{value:e},r)}function rk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||be(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:p,errors:g}=n,y=d.route.loader&&p[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,p)=>{let g,y=!1,v=null,b=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||ek,l&&(c<0&&p===0?(lk("route-fallback",!1),y=!0,b=null):c===p&&(y=!0,b=d.route.hydrateFallbackElement||null)));let f=e.concat(s.slice(0,p+1)),m=()=>{let w;return g?w=v:y?w=b:d.route.Component?w=S.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,S.createElement(nk,{match:d,routeContext:{outlet:u,matches:f,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?S.createElement(tk,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var Dd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Dd||{});function ik(t){let e=S.useContext(Lw);return e||be(!1),e}function ok(t){let e=S.useContext(bc);return e||be(!1),e}function sk(t){let e=ok(),n=e.matches[e.matches.length-1];return n.route.id||be(!1),n.route.id}function ak(){var t;let e=S.useContext(jw),n=ik(Dd.UseRouteError),r=sk(Dd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const Vg={};function lk(t,e,n){!e&&!Vg[t]&&(Vg[t]=!0)}function ck(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Xe.Pop,navigator:o,static:s=!1,future:a}=t;Df()&&be(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:o,static:s,future:Il({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=fr(r));let{pathname:u="/",search:d="",hash:p="",state:g=null,key:y="default"}=r,v=S.useMemo(()=>{let b=oa(u,l);return b==null?null:{location:{pathname:b,search:d,hash:p,state:g,key:y},navigationType:i}},[l,u,d,p,g,y,i]);return v==null?null:S.createElement(Hw.Provider,{value:c},S.createElement(Sc.Provider,{children:n,value:v}))}new Promise(()=>{});function uk(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:S.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:S.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:S.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pl.apply(this,arguments)}const dk="6";try{window.__reactRouterVersion=dk}catch{}function hk(t,e){return H$({basename:e==null?void 0:e.basename,future:Pl({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:o$({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||fk(),routes:t,mapRouteProperties:uk,window:e==null?void 0:e.window}).initialize()}function fk(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Pl({},e,{errors:pk(e.errors)})),e}function pk(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new If(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const gk=S.createContext({isTransitioning:!1}),mk=S.createContext(new Map),vk="startTransition",Wg=Bd[vk],yk="flushSync",Gg=qb[yk];function wk(t){Wg?Wg(t):t()}function Ko(t){Gg?Gg(t):t()}class Sk{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function bk(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=S.useState(n.state),[s,a]=S.useState(),[l,c]=S.useState({isTransitioning:!1}),[u,d]=S.useState(),[p,g]=S.useState(),[y,v]=S.useState(),b=S.useRef(new Map),{v7_startTransition:f}=r||{},m=S.useCallback(R=>{f?wk(R):R()},[f]),w=S.useCallback((R,$)=>{let{deletedFetchers:O,unstable_flushSync:E,unstable_viewTransitionOpts:_}=$;O.forEach(k=>b.current.delete(k)),R.fetchers.forEach((k,F)=>{k.data!==void 0&&b.current.set(F,k.data)});let P=n.window==null||typeof n.window.document.startViewTransition!="function";if(!_||P){E?Ko(()=>o(R)):m(()=>o(R));return}if(E){Ko(()=>{p&&(u&&u.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:_.currentLocation,nextLocation:_.nextLocation})});let k=n.window.document.startViewTransition(()=>{Ko(()=>o(R))});k.finished.finally(()=>{Ko(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),Ko(()=>g(k));return}p?(u&&u.resolve(),p.skipTransition(),v({state:R,currentLocation:_.currentLocation,nextLocation:_.nextLocation})):(a(R),c({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}))},[n.window,p,u,b,m]);S.useLayoutEffect(()=>n.subscribe(w),[n,w]),S.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new Sk)},[l]),S.useEffect(()=>{if(u&&s&&n.window){let R=s,$=u.promise,O=n.window.document.startViewTransition(async()=>{m(()=>o(R)),await $});O.finished.finally(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(O)}},[m,s,u,n.window]),S.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,p,i.location,s]),S.useEffect(()=>{!l.isTransitioning&&y&&(a(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),v(void 0))},[l.isTransitioning,y]),S.useEffect(()=>{},[]);let T=S.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:R=>n.navigate(R),push:(R,$,O)=>n.navigate(R,{state:$,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(R,$,O)=>n.navigate(R,{replace:!0,state:$,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[n]),x=n.basename||"/",h=S.useMemo(()=>({router:n,navigator:T,static:!1,basename:x}),[n,T,x]);return S.createElement(S.Fragment,null,S.createElement(Ow.Provider,{value:h},S.createElement(Lw.Provider,{value:i},S.createElement(mk.Provider,{value:b.current},S.createElement(gk.Provider,{value:l},S.createElement(ck,{basename:x,location:i.location,navigationType:i.historyAction,navigator:T,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?S.createElement(Ek,{routes:n.routes,future:n.future,state:i}):e))))),null)}function Ek(t){let{routes:e,future:n,state:r}=t;return Q$(e,void 0,r,n)}var Yg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Yg||(Yg={}));var Kg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Kg||(Kg={}));var Ck=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n};const Zg=qs(Ck);function Tk(t){if(!/^[0-9a-zA-Z-]+$/.test(t))throw new Error(`[@mantine/use-form] Form name "${t}" is invalid, it should contain only letters, numbers and dashes`)}const xk=typeof window<"u"?S.useLayoutEffect:S.useEffect;function mt(t,e){xk(()=>{if(t)return window.addEventListener(t,e),()=>window.removeEventListener(t,e)},[t])}function Rk(t,e){t&&Tk(t),mt(`mantine-form:${t}:set-field-value`,n=>e.setFieldValue(n.detail.path,n.detail.value)),mt(`mantine-form:${t}:set-values`,n=>e.setValues(n.detail)),mt(`mantine-form:${t}:set-initial-values`,n=>e.setInitialValues(n.detail)),mt(`mantine-form:${t}:set-errors`,n=>e.setErrors(n.detail)),mt(`mantine-form:${t}:set-field-error`,n=>e.setFieldError(n.detail.path,n.detail.error)),mt(`mantine-form:${t}:clear-field-error`,n=>e.clearFieldError(n.detail)),mt(`mantine-form:${t}:clear-errors`,e.clearErrors),mt(`mantine-form:${t}:reset`,e.reset),mt(`mantine-form:${t}:validate`,e.validate),mt(`mantine-form:${t}:validate-field`,n=>e.validateField(n.detail)),mt(`mantine-form:${t}:reorder-list-item`,n=>e.reorderListItem(n.detail.path,n.detail.payload)),mt(`mantine-form:${t}:remove-list-item`,n=>e.removeListItem(n.detail.path,n.detail.index)),mt(`mantine-form:${t}:insert-list-item`,n=>e.insertListItem(n.detail.path,n.detail.item,n.detail.index)),mt(`mantine-form:${t}:set-dirty`,n=>e.setDirty(n.detail)),mt(`mantine-form:${t}:set-touched`,n=>e.setTouched(n.detail)),mt(`mantine-form:${t}:reset-dirty`,n=>e.resetDirty(n.detail)),mt(`mantine-form:${t}:reset-touched`,e.resetTouched)}function _d(t){return t===null||typeof t!="object"?{}:Object.keys(t).reduce((e,n)=>{const r=t[n];return r!=null&&r!==!1&&(e[n]=r),e},{})}function $k(t){return e=>{if(!e)t(e);else if(typeof e=="function")t(e);else if(typeof e=="object"&&"nativeEvent"in e){const{currentTarget:n}=e;n instanceof HTMLInputElement?n.type==="checkbox"?t(n.checked):t(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&t(n.value)}else t(e)}}function Xg(t,e){const n=Object.keys(t);if(typeof e=="string"){const r=n.filter(i=>i.startsWith(`${e}.`));return t[e]||r.some(i=>t[i])||!1}return n.some(r=>t[r])}function Fw(t,e){if(e===null||typeof e!="object")return{};const n={...e};return Object.keys(e).forEach(r=>{r.includes(`${String(t)}.`)&&delete n[r]}),n}function Qg(t,e){const n=t.substring(e.length+1).split(".")[0];return parseInt(n,10)}function Jg(t,e,n,r){if(e===void 0)return n;const i=`${String(t)}`;let o=n;r===-1&&(o=Fw(`${i}.${e}`,o));const s={...o},a=new Set;return Object.entries(o).filter(([l])=>{if(!l.startsWith(`${i}.`))return!1;const c=Qg(l,i);return Number.isNaN(c)?!1:c>=e}).forEach(([l,c])=>{const u=Qg(l,i),d=l.replace(`${i}.${u}`,`${i}.${u+r}`);s[d]=c,a.add(d),a.has(l)||delete s[l]}),s}function kk(t,{from:e,to:n},r){const i=`${t}.${e}`,o=`${t}.${n}`,s={...r};return Object.keys(r).every(a=>{let l,c;if(a.startsWith(i)&&(l=a,c=a.replace(i,o)),a.startsWith(o)&&(l=a.replace(o,i),c=a),l&&c){const u=s[l],d=s[c];return d===void 0?delete s[l]:s[l]=d,u===void 0?delete s[c]:s[c]=u,!1}return!0}),s}function qw(t){return typeof t!="string"?[]:t.split(".")}function On(t,e){const n=qw(t);if(n.length===0||typeof e!="object"||e===null)return;let r=e[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function em(t,e,n){typeof n.value=="object"&&(n.value=Qi(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function Qi(t){if(typeof t!="object")return t;var e=0,n,r,i,o=Object.prototype.toString.call(t);if(o==="[object Object]"?i=Object.create(t.__proto__||null):o==="[object Array]"?i=Array(t.length):o==="[object Set]"?(i=new Set,t.forEach(function(s){i.add(Qi(s))})):o==="[object Map]"?(i=new Map,t.forEach(function(s,a){i.set(Qi(a),Qi(s))})):o==="[object Date]"?i=new Date(+t):o==="[object RegExp]"?i=new RegExp(t.source,t.flags):o==="[object DataView]"?i=new t.constructor(Qi(t.buffer)):o==="[object ArrayBuffer]"?i=t.slice(0):o.slice(-6)==="Array]"&&(i=new t.constructor(t)),i){for(r=Object.getOwnPropertySymbols(t);e<r.length;e++)em(i,r[e],Object.getOwnPropertyDescriptor(t,r[e]));for(e=0,r=Object.getOwnPropertyNames(t);e<r.length;e++)Object.hasOwnProperty.call(i,n=r[e])&&i[n]===t[n]||em(i,n,Object.getOwnPropertyDescriptor(t,n))}return i||t}function Ec(t,e,n){const r=qw(t);if(r.length===0)return n;const i=Qi(n);if(r.length===1)return i[r[0]]=e,i;let o=i[r[0]];for(let s=1;s<r.length-1;s+=1){if(o===void 0)return i;o=o[r[s]]}return o[r[r.length-1]]=e,i}function Ik(t,{from:e,to:n},r){const i=On(t,r);if(!Array.isArray(i))return r;const o=[...i],s=i[e];return o.splice(e,1),o.splice(n,0,s),Ec(t,o,r)}function Pk(t,e,n,r){const i=On(t,r);if(!Array.isArray(i))return r;const o=[...i];return o.splice(typeof n=="number"?n:o.length,0,e),Ec(t,o,r)}function Dk(t,e,n){const r=On(t,n);return Array.isArray(r)?Ec(t,r.filter((i,o)=>o!==e),n):n}function tm(t){const e=_d(t);return{hasErrors:Object.keys(e).length>0,errors:e}}function Ad(t,e,n="",r={}){return typeof t!="object"||t===null?r:Object.keys(t).reduce((i,o)=>{const s=t[o],a=`${n===""?"":`${n}.`}${o}`,l=On(a,e);let c=!1;return typeof s=="function"&&(i[a]=s(l,e,a)),typeof s=="object"&&Array.isArray(l)&&(c=!0,l.forEach((u,d)=>Ad(s,e,`${a}.${d}`,i))),typeof s=="object"&&typeof l=="object"&&l!==null&&(c||Ad(s,e,a,i)),i},r)}function Nd(t,e){return tm(typeof t=="function"?t(e):Ad(t,e))}function Aa(t,e,n){if(typeof t!="string")return{hasError:!1,error:null};const r=Nd(e,n),i=Object.keys(r.errors).find(o=>t.split(".").every((s,a)=>s===o.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}const _k="__MANTINE_FORM_INDEX__";function nm(t,e){return e?typeof e=="boolean"?e:Array.isArray(e)?e.includes(t.replace(/[.][0-9]/g,`.${_k}`)):!1:!1}function Ak({name:t,initialValues:e,initialErrors:n={},initialDirty:r={},initialTouched:i={},clearInputErrorOnChange:o=!0,validateInputOnChange:s=!1,validateInputOnBlur:a=!1,onValuesChange:l,transformValues:c=p=>p,enhanceGetInputProps:u,validate:d}={}){const[p,g]=S.useState(i),[y,v]=S.useState(r),[b,f]=S.useState(e||{}),[m,w]=S.useState(_d(n)),[T,x]=S.useState(!1),h=S.useRef(e||{}),R=B=>{h.current=B},$=S.useCallback(B=>{T||(x(!0),f(B),R(B))},[T]),O=S.useCallback(()=>g({}),[]),E=B=>{const re=B?{...b,...B}:b;R(re),v({})},_=S.useCallback(B=>w(re=>_d(typeof B=="function"?B(re):B)),[]),P=S.useCallback(()=>w({}),[]),k=S.useCallback(()=>{f(h.current),P(),v({}),O()},[]),F=S.useCallback((B,re)=>_(Q=>({...Q,[B]:re})),[]),L=S.useCallback(B=>_(re=>{if(typeof B!="string")return re;const Q={...re};return delete Q[B],Q}),[]),N=S.useCallback(B=>v(re=>{if(typeof B!="string")return re;const Q=Fw(B,re);return delete Q[B],Q}),[]),D=S.useCallback((B,re)=>{const Q=nm(B,s);N(B),g(se=>({...se,[B]:!0})),f(se=>{const Ee=On(B,se),pt=Ec(B,re instanceof Function?re(Ee):re,se);if(Q){const De=Aa(B,d,pt);De.hasError?F(B,De.error):L(B)}return l==null||l(pt,se),pt}),!Q&&o&&F(B,null)},[l]),I=S.useCallback(B=>{f(re=>{const Q=B instanceof Function?B(re):B,se={...re,...Q};return l==null||l(se,re),se}),o&&P()},[l]),M=S.useCallback((B,re)=>{N(B),f(Q=>{const se=Ik(B,re,Q);return l==null||l(se,Q),se}),w(Q=>kk(B,re,Q))},[]),z=S.useCallback((B,re)=>{N(B),f(Q=>{const se=Dk(B,re,Q);return l==null||l(se,Q),se}),w(Q=>Jg(B,re,Q,-1))},[]),Y=S.useCallback((B,re,Q)=>{N(B),f(se=>{const Ee=Pk(B,re,Q,se);return l==null||l(Ee,se),Ee}),w(se=>Jg(B,Q,se,1))},[]),X=S.useCallback(()=>{const B=Nd(d,b);return w(B.errors),B},[b,d]),ae=S.useCallback(B=>{const re=Aa(B,d,b);return re.hasError?F(B,re.error):L(B),re},[b,d]),le=(B,{type:re="input",withError:Q=!0,withFocus:se=!0,...Ee}={})=>{const De={onChange:$k(Ae=>D(B,Ae))};return Q&&(De.error=m[B]),re==="checkbox"?De.checked=On(B,b):De.value=On(B,b),se&&(De.onFocus=()=>g(Ae=>({...Ae,[B]:!0})),De.onBlur=()=>{if(nm(B,a)){const Ae=Aa(B,d,b);Ae.hasError?F(B,Ae.error):L(B)}}),Object.assign(De,u==null?void 0:u({inputProps:De,field:B,options:{type:re,withError:Q,withFocus:se,...Ee},form:ye}))},fe=(B,re)=>Q=>{Q==null||Q.preventDefault();const se=X();se.hasErrors?re==null||re(se.errors,b,Q):B==null||B(c(b),Q)},ve=B=>c(B||b),me=S.useCallback(B=>{B.preventDefault(),k()},[]),Ue=B=>{if(B){const Q=On(B,y);if(typeof Q=="boolean")return Q;const se=On(B,b),Ee=On(B,h.current);return!Zg(se,Ee)}return Object.keys(y).length>0?Xg(y):!Zg(b,h.current)},He=S.useCallback(B=>Xg(p,B),[p]),Re=S.useCallback(B=>B?!Aa(B,d,b).hasError:!Nd(d,b).hasErrors,[b,d]),ye={initialized:T,values:b,errors:m,initialize:$,setValues:I,setInitialValues:R,setErrors:_,setFieldValue:D,setFieldError:F,clearFieldError:L,clearErrors:P,reset:k,validate:X,validateField:ae,reorderListItem:M,removeListItem:z,insertListItem:Y,getInputProps:le,onSubmit:fe,onReset:me,isDirty:Ue,isTouched:He,setTouched:g,setDirty:v,resetTouched:O,resetDirty:E,isValid:Re,getTransformedValues:ve};return Rk(t,ye),ye}function ze(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(c){try{l(r.next(c))}catch(u){o(u)}}function a(c){try{l(r.throw(c))}catch(u){o(u)}}function l(c){var u;c.done?i(c.value):(u=c.value,u instanceof n?u:new n(function(d){d(u)})).then(s,a)}l((r=r.apply(t,e||[])).next())})}function Sr(){}function ke(){ke.init.call(this)}function zw(t){return t._maxListeners===void 0?ke.defaultMaxListeners:t._maxListeners}function rm(t,e,n,r){var i,o,s,a;if(typeof n!="function")throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]):(o=t._events=new Sr,t._eventsCount=0),s){if(typeof s=="function"?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(i=zw(t))&&i>0&&s.length>i){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,a=l,typeof console.warn=="function"?console.warn(a):console.log(a)}}else s=o[e]=n,++t._eventsCount;return t}function im(t,e,n){var r=!1;function i(){t.removeListener(e,i),r||(r=!0,n.apply(t,arguments))}return i.listener=n,i}function om(t){var e=this._events;if(e){var n=e[t];if(typeof n=="function")return 1;if(n)return n.length}return 0}function Zo(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}typeof SuppressedError=="function"&&SuppressedError,Sr.prototype=Object.create(null),ke.EventEmitter=ke,ke.usingDomains=!1,ke.prototype.domain=void 0,ke.prototype._events=void 0,ke.prototype._maxListeners=void 0,ke.defaultMaxListeners=10,ke.init=function(){this.domain=null,ke.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Sr,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ke.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},ke.prototype.getMaxListeners=function(){return zw(this)},ke.prototype.emit=function(t){var e,n,r,i,o,s,a,l=t==="error";if(s=this._events)l=l&&s.error==null;else if(!l)return!1;if(a=this.domain,l){if(e=arguments[1],!a){if(e instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=a,e.domainThrown=!1,a.emit("error",e),!1}if(!(n=s[t]))return!1;var u=typeof n=="function";switch(r=arguments.length){case 1:(function(d,p,g){if(p)d.call(g);else for(var y=d.length,v=Zo(d,y),b=0;b<y;++b)v[b].call(g)})(n,u,this);break;case 2:(function(d,p,g,y){if(p)d.call(g,y);else for(var v=d.length,b=Zo(d,v),f=0;f<v;++f)b[f].call(g,y)})(n,u,this,arguments[1]);break;case 3:(function(d,p,g,y,v){if(p)d.call(g,y,v);else for(var b=d.length,f=Zo(d,b),m=0;m<b;++m)f[m].call(g,y,v)})(n,u,this,arguments[1],arguments[2]);break;case 4:(function(d,p,g,y,v,b){if(p)d.call(g,y,v,b);else for(var f=d.length,m=Zo(d,f),w=0;w<f;++w)m[w].call(g,y,v,b)})(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];(function(d,p,g,y){if(p)d.apply(g,y);else for(var v=d.length,b=Zo(d,v),f=0;f<v;++f)b[f].apply(g,y)})(n,u,this,i)}return!0},ke.prototype.addListener=function(t,e){return rm(this,t,e,!1)},ke.prototype.on=ke.prototype.addListener,ke.prototype.prependListener=function(t,e){return rm(this,t,e,!0)},ke.prototype.once=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.on(t,im(this,t,e)),this},ke.prototype.prependOnceListener=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(t,im(this,t,e)),this},ke.prototype.removeListener=function(t,e){var n,r,i,o,s;if(typeof e!="function")throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener&&n.listener===e)--this._eventsCount==0?this._events=new Sr:(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(i=-1,o=n.length;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount==0)return this._events=new Sr,this;delete r[t]}else(function(a,l){for(var c=l,u=c+1,d=a.length;u<d;c+=1,u+=1)a[c]=a[u];a.pop()})(n,i);r.removeListener&&this.emit("removeListener",t,s||e)}return this},ke.prototype.removeAllListeners=function(t){var e,n;if(!(n=this._events))return this;if(!n.removeListener)return arguments.length===0?(this._events=new Sr,this._eventsCount=0):n[t]&&(--this._eventsCount==0?this._events=new Sr:delete n[t]),this;if(arguments.length===0){for(var r,i=Object.keys(n),o=0;o<i.length;++o)(r=i[o])!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new Sr,this._eventsCount=0,this}if(typeof(e=n[t])=="function")this.removeListener(t,e);else if(e)do this.removeListener(t,e[e.length-1]);while(e[0]);return this},ke.prototype.listeners=function(t){var e,n=this._events;return n&&(e=n[t])?typeof e=="function"?[e.listener||e]:function(r){for(var i=new Array(r.length),o=0;o<i.length;++o)i[o]=r[o].listener||r[o];return i}(e):[]},ke.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):om.call(t,e)},ke.prototype.listenerCount=om,ke.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};class Nk extends Error{constructor(e){super(e),this.name="TimeoutError"}}class Mk extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}const sm=t=>globalThis.DOMException===void 0?new Mk(t):new DOMException(t),am=t=>{const e=t.reason===void 0?sm("This operation was aborted."):t.reason;return e instanceof Error?e:sm(e)};class Ii extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class Md extends Ii{constructor(e){super(e||"Unsupported content type.")}}class Od extends Ii{constructor(e){super(e||"Request pending.")}}class Ok extends Ii{constructor(e){super(e||"Unspecified session description handler error.")}}class yu extends Ii{constructor(){super("The session has terminated.")}}class Xo extends Ii{constructor(e){super(e||"An error occurred during state transition.")}}class Lk{constructor(e){this.incomingAckRequest=e}get request(){return this.incomingAckRequest.message}}class Hk{constructor(e){this.incomingByeRequest=e}get request(){return this.incomingByeRequest.message}accept(e){return this.incomingByeRequest.accept(e),Promise.resolve()}reject(e){return this.incomingByeRequest.reject(e),Promise.resolve()}}class jk{constructor(e){this.incomingCancelRequest=e}get request(){return this.incomingCancelRequest}}class Hs{constructor(){this.listeners=new Array}addListener(e,n){const r=i=>{this.removeListener(r),e(i)};(n==null?void 0:n.once)===!0?this.listeners.push(r):this.listeners.push(e)}emit(e){this.listeners.slice().forEach(n=>n(e))}removeAllListeners(){this.listeners=[]}removeListener(e){this.listeners=this.listeners.filter(n=>n!==e)}on(e){return this.addListener(e)}off(e){return this.removeListener(e)}once(e){return this.addListener(e,{once:!0})}}class Fk{constructor(e){this.incomingInfoRequest=e}get request(){return this.incomingInfoRequest.message}accept(e){return this.incomingInfoRequest.accept(e),Promise.resolve()}reject(e){return this.incomingInfoRequest.reject(e),Promise.resolve()}}class Bw{constructor(e){this.parameters={};for(const n in e)e.hasOwnProperty(n)&&this.setParam(n,e[n])}setParam(e,n){e&&(this.parameters[e.toLowerCase()]=n==null?null:n.toString())}getParam(e){if(e)return this.parameters[e.toLowerCase()]}hasParam(e){return!(!e||this.parameters[e.toLowerCase()]===void 0)}deleteParam(e){if(e=e.toLowerCase(),this.hasParam(e)){const n=this.parameters[e];return delete this.parameters[e],n}}clearParams(){this.parameters={}}}class Lt extends Bw{constructor(e,n,r){super(r),this.uri=e,this._displayName=n}get friendlyName(){return this.displayName||this.uri.aor}get displayName(){return this._displayName}set displayName(e){this._displayName=e}clone(){return new Lt(this.uri.clone(),this._displayName,JSON.parse(JSON.stringify(this.parameters)))}toString(){let e=this.displayName||this.displayName==="0"?'"'+this.displayName+'" ':"";e+="<"+this.uri.toString()+">";for(const n in this.parameters)this.parameters.hasOwnProperty(n)&&(e+=";"+n,this.parameters[n]!==null&&(e+="="+this.parameters[n]));return e}}class Bn extends Bw{constructor(e="sip",n,r,i,o,s){if(super(o||{}),this.headers={},!r)throw new TypeError('missing or invalid "host" parameter');for(const a in s)s.hasOwnProperty(a)&&this.setHeader(a,s[a]);this.raw={scheme:e,user:n,host:r,port:i},this.normal={scheme:e.toLowerCase(),user:n,host:r.toLowerCase(),port:i}}get scheme(){return this.normal.scheme}set scheme(e){this.raw.scheme=e,this.normal.scheme=e.toLowerCase()}get user(){return this.normal.user}set user(e){this.normal.user=this.raw.user=e}get host(){return this.normal.host}set host(e){this.raw.host=e,this.normal.host=e.toLowerCase()}get aor(){return this.normal.user+"@"+this.normal.host}get port(){return this.normal.port}set port(e){this.normal.port=this.raw.port=e}setHeader(e,n){this.headers[this.headerize(e)]=n instanceof Array?n:[n]}getHeader(e){if(e)return this.headers[this.headerize(e)]}hasHeader(e){return!!e&&!!this.headers.hasOwnProperty(this.headerize(e))}deleteHeader(e){if(e=this.headerize(e),this.headers.hasOwnProperty(e)){const n=this.headers[e];return delete this.headers[e],n}}clearHeaders(){this.headers={}}clone(){return new Bn(this._raw.scheme,this._raw.user||"",this._raw.host,this._raw.port,JSON.parse(JSON.stringify(this.parameters)),JSON.parse(JSON.stringify(this.headers)))}toRaw(){return this._toString(this._raw)}toString(){return this._toString(this._normal)}get _normal(){return this.normal}get _raw(){return this.raw}_toString(e){let n=e.scheme+":";e.scheme.toLowerCase().match("^sips?$")||(n+="//"),e.user&&(n+=this.escapeUser(e.user)+"@"),n+=e.host,(e.port||e.port===0)&&(n+=":"+e.port);for(const i in this.parameters)this.parameters.hasOwnProperty(i)&&(n+=";"+i,this.parameters[i]!==null&&(n+="="+this.parameters[i]));const r=[];for(const i in this.headers)if(this.headers.hasOwnProperty(i))for(const o in this.headers[i])this.headers[i].hasOwnProperty(o)&&r.push(i+"="+this.headers[i][o]);return r.length>0&&(n+="?"+r.join("&")),n}escapeUser(e){let n;try{n=decodeURIComponent(e)}catch(r){throw r}return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}headerize(e){const n={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},r=e.toLowerCase().replace(/_/g,"-").split("-"),i=r.length;let o="";for(let s=0;s<i;s++)s!==0&&(o+="-"),o+=r[s].charAt(0).toUpperCase()+r[s].substring(1);return n[o]&&(o=n[o]),o}}function lm(t,e){if(t.scheme!==e.scheme||t.user!==e.user||t.host!==e.host||t.port!==e.port||!function(i,o){const s=Object.keys(i.parameters),a=Object.keys(o.parameters);return!!s.filter(l=>a.includes(l)).every(l=>i.parameters[l]===o.parameters[l])&&!!["user","ttl","method","transport"].every(l=>i.hasParam(l)&&o.hasParam(l)||!i.hasParam(l)&&!o.hasParam(l))&&!!["maddr"].every(l=>i.hasParam(l)&&o.hasParam(l)||!i.hasParam(l)&&!o.hasParam(l))}(t,e))return!1;const n=Object.keys(t.headers),r=Object.keys(e.headers);if(n.length!==0||r.length!==0){if(n.length!==r.length)return!1;const i=n.filter(o=>r.includes(o));if(i.length!==r.length||!i.every(o=>t.headers[o].length&&e.headers[o].length&&t.headers[o][0]===e.headers[o][0]))return!1}return!0}function wu(t,e,n){return n=n||" ",t.length>e?t:(e-=t.length,t+(n+=n.repeat(e)).slice(0,e))}class ao extends Error{constructor(e,n,r,i){super(),this.message=e,this.expected=n,this.found=r,this.location=i,this.name="SyntaxError",typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(this,ao.prototype):this.__proto__=ao.prototype,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ao)}static buildMessage(e,n){function r(l){return l.charCodeAt(0).toString(16).toUpperCase()}function i(l){return l.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,c=>"\\x0"+r(c)).replace(/[\x10-\x1F\x7F-\x9F]/g,c=>"\\x"+r(c))}function o(l){return l.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,c=>"\\x0"+r(c)).replace(/[\x10-\x1F\x7F-\x9F]/g,c=>"\\x"+r(c))}function s(l){switch(l.type){case"literal":return'"'+i(l.text)+'"';case"class":const c=l.parts.map(u=>Array.isArray(u)?o(u[0])+"-"+o(u[1]):o(u));return"["+(l.inverted?"^":"")+c+"]";case"any":return"any character";case"end":return"end of input";case"other":return l.description}}return"Expected "+function(l){const c=l.map(s);let u,d;if(c.sort(),c.length>0){for(u=1,d=1;u<c.length;u++)c[u-1]!==c[u]&&(c[d]=c[u],d++);c.length=d}switch(c.length){case 1:return c[0];case 2:return c[0]+" or "+c[1];default:return c.slice(0,-1).join(", ")+", or "+c[c.length-1]}}(e)+" but "+(((a=n)?'"'+i(a)+'"':"end of input")+" found.");var a}format(e){let n="Error: "+this.message;if(this.location){let r,i=null;for(r=0;r<e.length;r++)if(e[r].source===this.location.source){i=e[r].text.split(/\r\n|\n|\r/g);break}let o=this.location.start,s=this.location.source+":"+o.line+":"+o.column;if(i){let a=this.location.end,l=wu("",o.line.toString().length," "),c=i[o.line-1],u=o.line===a.line?a.column:c.length+1;n+=`
 --> `+s+`
`+l+` |
`+o.line+" | "+c+`
`+l+" | "+wu("",o.column-1," ")+wu("",u-o.column,"^")}else n+=`
 at `+s}return n}}const qk=function(t,e){const n={},r=(e=e!==void 0?e:{}).grammarSource,i={Contact:119,Name_Addr_Header:156,Record_Route:176,Request_Response:81,SIP_URI:45,Subscription_State:186,Supported:191,Require:182,Via:194,absoluteURI:84,Call_ID:118,Content_Disposition:130,Content_Length:135,Content_Type:136,CSeq:146,displayName:122,Event:149,From:151,host:52,Max_Forwards:154,Min_SE:213,Proxy_Authenticate:157,quoted_string:40,Refer_To:178,Replaces:179,Session_Expires:210,stun_URI:217,To:192,turn_URI:223,uuid:226,WWW_Authenticate:209,challenge:158,sipfrag:230,Referred_By:231};let o=119;const s=[`\r
`,f(`\r
`,!1),/^[0-9]/,m([["0","9"]],!1,!1),/^[a-zA-Z]/,m([["a","z"],["A","Z"]],!1,!1),/^[0-9a-fA-F]/,m([["0","9"],["a","f"],["A","F"]],!1,!1),/^[\0-\xFF]/,m([["\0","ÿ"]],!1,!1),/^["]/,m(['"'],!1,!1)," ",f(" ",!1),"	",f("	",!1),/^[a-zA-Z0-9]/,m([["a","z"],["A","Z"],["0","9"]],!1,!1),";",f(";",!1),"/",f("/",!1),"?",f("?",!1),":",f(":",!1),"@",f("@",!1),"&",f("&",!1),"=",f("=",!1),"+",f("+",!1),"$",f("$",!1),",",f(",",!1),"-",f("-",!1),"_",f("_",!1),".",f(".",!1),"!",f("!",!1),"~",f("~",!1),"*",f("*",!1),"'",f("'",!1),"(",f("(",!1),")",f(")",!1),"%",f("%",!1),function(){return" "},function(){return":"},/^[!-~]/,m([["!","~"]],!1,!1),/^[\x80-\uFFFF]/,m([["","￿"]],!1,!1),/^[\x80-\xBF]/,m([["","¿"]],!1,!1),/^[a-f]/,m([["a","f"]],!1,!1),"`",f("`",!1),"<",f("<",!1),">",f(">",!1),"\\",f("\\",!1),"[",f("[",!1),"]",f("]",!1),"{",f("{",!1),"}",f("}",!1),function(){return"*"},function(){return"/"},function(){return"="},function(){return"("},function(){return")"},function(){return">"},function(){return"<"},function(){return","},function(){return";"},function(){return":"},function(){return'"'},/^[!-']/,m([["!","'"]],!1,!1),/^[*-[]/,m([["*","["]],!1,!1),/^[\]-~]/,m([["]","~"]],!1,!1),function(E){return E},/^[#-[]/,m([["#","["]],!1,!1),/^[\0-\t]/,m([["\0","	"]],!1,!1),/^[\v-\f]/,m([["\v","\f"]],!1,!1),/^[\x0E-\x7F]/,m([["",""]],!1,!1),function(){(e=e||{data:{}}).data.uri=new Bn(e.data.scheme,e.data.user,e.data.host,e.data.port),delete e.data.scheme,delete e.data.user,delete e.data.host,delete e.data.host_type,delete e.data.port},function(){(e=e||{data:{}}).data.uri=new Bn(e.data.scheme,e.data.user,e.data.host,e.data.port,e.data.uri_params,e.data.uri_headers),delete e.data.scheme,delete e.data.user,delete e.data.host,delete e.data.host_type,delete e.data.port,delete e.data.uri_params,e.startRule==="SIP_URI"&&(e.data=e.data.uri)},"sips",f("sips",!0),"sip",f("sip",!0),function(E){(e=e||{data:{}}).data.scheme=E},function(){(e=e||{data:{}}).data.user=decodeURIComponent(v().slice(0,-1))},function(){(e=e||{data:{}}).data.password=v()},function(){return(e=e||{data:{}}).data.host=v(),e.data.host},function(){return(e=e||{data:{}}).data.host_type="domain",v()},/^[a-zA-Z0-9_\-]/,m([["a","z"],["A","Z"],["0","9"],"_","-"],!1,!1),/^[a-zA-Z0-9\-]/,m([["a","z"],["A","Z"],["0","9"],"-"],!1,!1),function(){return(e=e||{data:{}}).data.host_type="IPv6",v()},"::",f("::",!1),function(){return(e=e||{data:{}}).data.host_type="IPv6",v()},function(){return(e=e||{data:{}}).data.host_type="IPv4",v()},"25",f("25",!1),/^[0-5]/,m([["0","5"]],!1,!1),"2",f("2",!1),/^[0-4]/,m([["0","4"]],!1,!1),"1",f("1",!1),/^[1-9]/,m([["1","9"]],!1,!1),function(E){return e=e||{data:{}},E=parseInt(E.join("")),e.data.port=E,E},"transport=",f("transport=",!0),"udp",f("udp",!0),"tcp",f("tcp",!0),"sctp",f("sctp",!0),"tls",f("tls",!0),function(E){(e=e||{data:{}}).data.uri_params||(e.data.uri_params={}),e.data.uri_params.transport=E.toLowerCase()},"user=",f("user=",!0),"phone",f("phone",!0),"ip",f("ip",!0),function(E){(e=e||{data:{}}).data.uri_params||(e.data.uri_params={}),e.data.uri_params.user=E.toLowerCase()},"method=",f("method=",!0),function(E){(e=e||{data:{}}).data.uri_params||(e.data.uri_params={}),e.data.uri_params.method=E},"ttl=",f("ttl=",!0),function(E){(e=e||{data:{}}).data.params||(e.data.params={}),e.data.params.ttl=E},"maddr=",f("maddr=",!0),function(E){(e=e||{data:{}}).data.uri_params||(e.data.uri_params={}),e.data.uri_params.maddr=E},"lr",f("lr",!0),function(){(e=e||{data:{}}).data.uri_params||(e.data.uri_params={}),e.data.uri_params.lr=void 0},function(E,_){(e=e||{data:{}}).data.uri_params||(e.data.uri_params={}),_=_===null?void 0:_[1],e.data.uri_params[E.toLowerCase()]=_},function(E,_){E=E.join("").toLowerCase(),_=_.join(""),(e=e||{data:{}}).data.uri_headers||(e.data.uri_headers={}),e.data.uri_headers[E]?e.data.uri_headers[E].push(_):e.data.uri_headers[E]=[_]},function(){(e=e||{data:{}}).startRule==="Refer_To"&&(e.data.uri=new Bn(e.data.scheme,e.data.user,e.data.host,e.data.port,e.data.uri_params,e.data.uri_headers),delete e.data.scheme,delete e.data.user,delete e.data.host,delete e.data.host_type,delete e.data.port,delete e.data.uri_params)},"//",f("//",!1),function(){(e=e||{data:{}}).data.scheme=v()},f("SIP",!0),function(){(e=e||{data:{}}).data.sip_version=v()},"INVITE",f("INVITE",!1),"ACK",f("ACK",!1),"VXACH",f("VXACH",!1),"OPTIONS",f("OPTIONS",!1),"BYE",f("BYE",!1),"CANCEL",f("CANCEL",!1),"REGISTER",f("REGISTER",!1),"SUBSCRIBE",f("SUBSCRIBE",!1),"NOTIFY",f("NOTIFY",!1),"REFER",f("REFER",!1),"PUBLISH",f("PUBLISH",!1),function(){return(e=e||{data:{}}).data.method=v(),e.data.method},function(E){(e=e||{data:{}}).data.status_code=parseInt(E.join(""))},function(){(e=e||{data:{}}).data.reason_phrase=v()},function(){(e=e||{data:{}}).data=v()},function(){var E,_;for(_=(e=e||{data:{}}).data.multi_header.length,E=0;E<_;E++)if(e.data.multi_header[E].parsed===null){e.data=null;break}e.data!==null?e.data=e.data.multi_header:e.data=-1},function(){var E;(e=e||{data:{}}).data.multi_header||(e.data.multi_header=[]);try{E=new Lt(e.data.uri,e.data.displayName,e.data.params),delete e.data.uri,delete e.data.displayName,delete e.data.params}catch{E=null}e.data.multi_header.push({position:l,offset:b().start.offset,parsed:E})},function(E){(E=v().trim())[0]==='"'&&(E=E.substring(1,E.length-1)),(e=e||{data:{}}).data.displayName=E},"q",f("q",!0),function(E){(e=e||{data:{}}).data.params||(e.data.params={}),e.data.params.q=E},"expires",f("expires",!0),function(E){(e=e||{data:{}}).data.params||(e.data.params={}),e.data.params.expires=E},function(E){return parseInt(E.join(""))},"0",f("0",!1),function(){return parseFloat(v())},function(E,_){(e=e||{data:{}}).data.params||(e.data.params={}),_=_===null?void 0:_[1],e.data.params[E.toLowerCase()]=_},"render",f("render",!0),"session",f("session",!0),"icon",f("icon",!0),"alert",f("alert",!0),function(){(e=e||{data:{}}).startRule==="Content_Disposition"&&(e.data.type=v().toLowerCase())},"handling",f("handling",!0),"optional",f("optional",!0),"required",f("required",!0),function(E){(e=e||{data:{}}).data=parseInt(E.join(""))},function(){(e=e||{data:{}}).data=v()},"text",f("text",!0),"image",f("image",!0),"audio",f("audio",!0),"video",f("video",!0),"application",f("application",!0),"message",f("message",!0),"multipart",f("multipart",!0),"x-",f("x-",!0),function(E){(e=e||{data:{}}).data.value=parseInt(E.join(""))},function(E){(e=e||{data:{}}).data=E},function(E){(e=e||{data:{}}).data.event=E.toLowerCase()},function(){var E=(e=e||{data:{}}).data.tag;e.data=new Lt(e.data.uri,e.data.displayName,e.data.params),E&&e.data.setParam("tag",E)},"tag",f("tag",!0),function(E){(e=e||{data:{}}).data.tag=E},function(E){(e=e||{data:{}}).data=parseInt(E.join(""))},function(E){(e=e||{data:{}}).data=E},function(){(e=e||{data:{}}).data=new Lt(e.data.uri,e.data.displayName,e.data.params)},"digest",f("Digest",!0),"realm",f("realm",!0),function(E){(e=e||{data:{}}).data.realm=E},"domain",f("domain",!0),"nonce",f("nonce",!0),function(E){(e=e||{data:{}}).data.nonce=E},"opaque",f("opaque",!0),function(E){(e=e||{data:{}}).data.opaque=E},"stale",f("stale",!0),"true",f("true",!0),function(){(e=e||{data:{}}).data.stale=!0},"false",f("false",!0),function(){(e=e||{data:{}}).data.stale=!1},"algorithm",f("algorithm",!0),"md5",f("MD5",!0),"md5-sess",f("MD5-sess",!0),function(E){(e=e||{data:{}}).data.algorithm=E.toUpperCase()},"qop",f("qop",!0),"auth-int",f("auth-int",!0),"auth",f("auth",!0),function(E){(e=e||{data:{}}).data.qop||(e.data.qop=[]),e.data.qop.push(E.toLowerCase())},function(E){(e=e||{data:{}}).data.value=parseInt(E.join(""))},function(){var E,_;for(_=(e=e||{data:{}}).data.multi_header.length,E=0;E<_;E++)if(e.data.multi_header[E].parsed===null){e.data=null;break}e.data!==null?e.data=e.data.multi_header:e.data=-1},function(){var E;(e=e||{data:{}}).data.multi_header||(e.data.multi_header=[]);try{E=new Lt(e.data.uri,e.data.displayName,e.data.params),delete e.data.uri,delete e.data.displayName,delete e.data.params}catch{E=null}e.data.multi_header.push({position:l,offset:b().start.offset,parsed:E})},function(){(e=e||{data:{}}).data=new Lt(e.data.uri,e.data.displayName,e.data.params)},function(){(e=e||{data:{}}).data.replaces_from_tag&&e.data.replaces_to_tag||(e.data=-1)},function(){(e=e||{data:{}}).data={call_id:e.data}},"from-tag",f("from-tag",!0),function(E){(e=e||{data:{}}).data.replaces_from_tag=E},"to-tag",f("to-tag",!0),function(E){(e=e||{data:{}}).data.replaces_to_tag=E},"early-only",f("early-only",!0),function(){(e=e||{data:{}}).data.early_only=!0},function(E,_){return _},function(E,_){return function(P,k){return[P].concat(k)}(E,_)},function(E){(e=e||{data:{}}).startRule==="Require"&&(e.data=E||[])},function(E){(e=e||{data:{}}).data.value=parseInt(E.join(""))},"active",f("active",!0),"pending",f("pending",!0),"terminated",f("terminated",!0),function(){(e=e||{data:{}}).data.state=v()},"reason",f("reason",!0),function(E){e=e||{data:{}},E!==void 0&&(e.data.reason=E)},function(E){e=e||{data:{}},E!==void 0&&(e.data.expires=E)},"retry_after",f("retry_after",!0),function(E){e=e||{data:{}},E!==void 0&&(e.data.retry_after=E)},"deactivated",f("deactivated",!0),"probation",f("probation",!0),"rejected",f("rejected",!0),"timeout",f("timeout",!0),"giveup",f("giveup",!0),"noresource",f("noresource",!0),"invariant",f("invariant",!0),function(E){(e=e||{data:{}}).startRule==="Supported"&&(e.data=E||[])},function(){var E=(e=e||{data:{}}).data.tag;e.data=new Lt(e.data.uri,e.data.displayName,e.data.params),E&&e.data.setParam("tag",E)},"ttl",f("ttl",!0),function(E){(e=e||{data:{}}).data.ttl=E},"maddr",f("maddr",!0),function(E){(e=e||{data:{}}).data.maddr=E},"received",f("received",!0),function(E){(e=e||{data:{}}).data.received=E},"branch",f("branch",!0),function(E){(e=e||{data:{}}).data.branch=E},"rport",f("rport",!0),function(E){e=e||{data:{}},E!==void 0&&(e.data.rport=E.join(""))},function(E){(e=e||{data:{}}).data.protocol=E},f("UDP",!0),f("TCP",!0),f("TLS",!0),f("SCTP",!0),function(E){(e=e||{data:{}}).data.transport=E},function(){(e=e||{data:{}}).data.host=v()},function(E){(e=e||{data:{}}).data.port=parseInt(E.join(""))},function(E){return parseInt(E.join(""))},function(E){(e=e||{data:{}}).startRule==="Session_Expires"&&(e.data.deltaSeconds=E)},"refresher",f("refresher",!1),"uas",f("uas",!1),"uac",f("uac",!1),function(E){(e=e||{data:{}}).startRule==="Session_Expires"&&(e.data.refresher=E)},function(E){(e=e||{data:{}}).startRule==="Min_SE"&&(e.data=E)},"stuns",f("stuns",!0),"stun",f("stun",!0),function(E){(e=e||{data:{}}).data.scheme=E},function(E){(e=e||{data:{}}).data.host=E},"?transport=",f("?transport=",!1),"turns",f("turns",!0),"turn",f("turn",!0),function(E){(e=e||{data:{}}).data.transport=E},function(){(e=e||{data:{}}).data=v()},"Referred-By",f("Referred-By",!1),"b",f("b",!1),"cid",f("cid",!1)],a=[h('2 ""6 7!'),h('4"""5!7#'),h('4$""5!7%'),h(`4&""5!7'`),h(";'.# &;("),h('4(""5!7)'),h('4*""5!7+'),h('2,""6,7-'),h('2.""6.7/'),h('40""5!71'),h('22""6273. &24""6475.} &26""6677.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),h(";).# &;,"),h('2F""6F7G.} &2H""6H7I.q &2J""6J7K.e &2L""6L7M.Y &2N""6N7O.M &2P""6P7Q.A &2R""6R7S.5 &2T""6T7U.) &2V""6V7W'),h(`%%2X""6X7Y/5#;#/,$;#/#$+#)(#'#("'#&'#/"!&,)`),h(`%%$;$0#*;$&/,#; /#$+")("'#&'#." &"/=#$;$/&#0#*;$&&&#/'$8":Z" )("'#&'#`),h(';.." &"'),h(`%$;'.# &;(0)*;'.# &;(&/?#28""6879/0$;//'$8#:[# )(#'#("'#&'#`),h(`%%$;2/&#0#*;2&&&#/g#$%$;.0#*;.&/,#;2/#$+")("'#&'#0=*%$;.0#*;.&/,#;2/#$+")("'#&'#&/#$+")("'#&'#/"!&,)`),h('4\\""5!7].# &;3'),h('4^""5!7_'),h('4`""5!7a'),h(';!.) &4b""5!7c'),h('%$;). &2F""6F7G. &2J""6J7K.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O/#0*;). &2F""6F7G. &2J""6J7K.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O&&&#/"!&,)'),h('%$;). &2F""6F7G.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O/#0*;). &2F""6F7G.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O&&&#/"!&,)'),h(`2T""6T7U.ã &2V""6V7W.× &2f""6f7g.Ë &2h""6h7i.¿ &2:""6:7;.³ &2D""6D7E.§ &22""6273. &28""6879. &2j""6j7k. &;&.} &24""6475.q &2l""6l7m.e &2n""6n7o.Y &26""6677.M &2>""6>7?.A &2p""6p7q.5 &2r""6r7s.) &;'.# &;(`),h('%$;).ī &2F""6F7G.ğ &2J""6J7K.ē &2L""6L7M.ć &2X""6X7Y.û &2P""6P7Q.ï &2H""6H7I.ã &2@""6@7A.× &2d""6d7e.Ë &2R""6R7S.¿ &2N""6N7O.³ &2T""6T7U.§ &2V""6V7W. &2f""6f7g. &2h""6h7i. &28""6879.w &2j""6j7k.k &;&.e &24""6475.Y &2l""6l7m.M &2n""6n7o.A &26""6677.5 &2p""6p7q.) &2r""6r7s/Ĵ#0ı*;).ī &2F""6F7G.ğ &2J""6J7K.ē &2L""6L7M.ć &2X""6X7Y.û &2P""6P7Q.ï &2H""6H7I.ã &2@""6@7A.× &2d""6d7e.Ë &2R""6R7S.¿ &2N""6N7O.³ &2T""6T7U.§ &2V""6V7W. &2f""6f7g. &2h""6h7i. &28""6879.w &2j""6j7k.k &;&.e &24""6475.Y &2l""6l7m.M &2n""6n7o.A &26""6677.5 &2p""6p7q.) &2r""6r7s&&&#/"!&,)'),h(`%;//?#2P""6P7Q/0$;//'$8#:t# )(#'#("'#&'#`),h(`%;//?#24""6475/0$;//'$8#:u# )(#'#("'#&'#`),h(`%;//?#2>""6>7?/0$;//'$8#:v# )(#'#("'#&'#`),h(`%;//?#2T""6T7U/0$;//'$8#:w# )(#'#("'#&'#`),h(`%;//?#2V""6V7W/0$;//'$8#:x# )(#'#("'#&'#`),h(`%2h""6h7i/0#;//'$8":y" )("'#&'#`),h(`%;//6#2f""6f7g/'$8":z" )("'#&'#`),h(`%;//?#2D""6D7E/0$;//'$8#:{# )(#'#("'#&'#`),h(`%;//?#22""6273/0$;//'$8#:|# )(#'#("'#&'#`),h(`%;//?#28""6879/0$;//'$8#:}# )(#'#("'#&'#`),h(`%;//0#;&/'$8":~" )("'#&'#`),h(`%;&/0#;//'$8":~" )("'#&'#`),h(`%;=/T#$;G.) &;K.# &;F0/*;G.) &;K.# &;F&/,$;>/#$+#)(#'#("'#&'#`),h('4""5!7.A &4""5!7.5 &4""5!7.) &;3.# &;.'),h(`%%;//Q#;&/H$$;J.# &;K0)*;J.# &;K&/,$;&/#$+$)($'#(#'#("'#&'#/"!&,)`),h(`%;//]#;&/T$%$;J.# &;K0)*;J.# &;K&/"!&,)/1$;&/($8$:$!!)($'#(#'#("'#&'#`),h(';..G &2L""6L7M.; &4""5!7./ &4""5!7.# &;3'),h(`%2j""6j7k/J#4""5!7.5 &4""5!7.) &4""5!7/#$+")("'#&'#`),h(`%;N/M#28""6879/>$;O." &"/0$;S/'$8$:$ )($'#(#'#("'#&'#`),h(`%;N/d#28""6879/U$;O." &"/G$;S/>$;_/5$;l." &"/'$8&:& )(&'#(%'#($'#(#'#("'#&'#`),h(`%3""5$7.) &3""5#7/' 8!:!! )`),h(`%;P/]#%28""6879/,#;R/#$+")("'#&'#." &"/6$2:""6:7;/'$8#:# )(#'#("'#&'#`),h("$;+.) &;-.# &;Q/2#0/*;+.) &;-.# &;Q&&&#"),h('2<""6<7=.q &2>""6>7?.e &2@""6@7A.Y &2B""6B7C.M &2D""6D7E.A &22""6273.5 &26""6677.) &24""6475'),h('%$;+._ &;-.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E0e*;+._ &;-.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E&/& 8!:! )'),h(`%;T/J#%28""6879/,#;^/#$+")("'#&'#." &"/#$+")("'#&'#`),h("%;U.) &;\\.# &;X/& 8!:! )"),h(`%$%;V/2#2J""6J7K/#$+")("'#&'#0<*%;V/2#2J""6J7K/#$+")("'#&'#&/D#;W/;$2J""6J7K." &"/'$8#:# )(#'#("'#&'#`),h('$4""5!7/,#0)*4""5!7&&&#'),h(`%4$""5!7%/?#$4""5!70)*4""5!7&/#$+")("'#&'#`),h(`%2l""6l7m/?#;Y/6$2n""6n7o/'$8#:# )(#'#("'#&'#`),h(`%%;Z/³#28""6879/¤$;Z/$28""6879/$;Z/$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+-)(-'#(,'#(+'#(*'#()'#(('#(''#(&'#(%'#($'#(#'#("'#&'#.ސ &%2""67/¤#;Z/$28""6879/$;Z/$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+,)(,'#(+'#(*'#()'#(('#(''#(&'#(%'#($'#(#'#("'#&'#.۹ &%2""67/#;Z/$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+*)(*'#()'#(('#(''#(&'#(%'#($'#(#'#("'#&'#.ٺ &%2""67/t#;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+()(('#(''#(&'#(%'#($'#(#'#("'#&'#.ؓ &%2""67/\\#;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+&)(&'#(%'#($'#(#'#("'#&'#.ׄ &%2""67/D#;Z/;$28""6879/,$;[/#$+$)($'#(#'#("'#&'#.֍ &%2""67/,#;[/#$+")("'#&'#.ծ &%2""67/,#;Z/#$+")("'#&'#.Տ &%;Z/#2""67/$;Z/$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$++)(+'#(*'#()'#(('#(''#(&'#(%'#($'#(#'#("'#&'#.Ӈ &%;Z/ª#%28""6879/,#;Z/#$+")("'#&'#." &"/$2""67/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+*)(*'#()'#(('#(''#(&'#(%'#($'#(#'#("'#&'#.а &%;Z/¹#%28""6879/,#;Z/#$+")("'#&'#." &"/$%28""6879/,#;Z/#$+")("'#&'#." &"/k$2""67/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+))()'#(('#(''#(&'#(%'#($'#(#'#("'#&'#.Ί &%;Z/È#%28""6879/,#;Z/#$+")("'#&'#." &"/¡$%28""6879/,#;Z/#$+")("'#&'#." &"/z$%28""6879/,#;Z/#$+")("'#&'#." &"/S$2""67/D$;Z/;$28""6879/,$;[/#$+()(('#(''#(&'#(%'#($'#(#'#("'#&'#.˕ &%;Z/×#%28""6879/,#;Z/#$+")("'#&'#." &"/°$%28""6879/,#;Z/#$+")("'#&'#." &"/$%28""6879/,#;Z/#$+")("'#&'#." &"/b$%28""6879/,#;Z/#$+")("'#&'#." &"/;$2""67/,$;[/#$+')(''#(&'#(%'#($'#(#'#("'#&'#.ȑ &%;Z/þ#%28""6879/,#;Z/#$+")("'#&'#." &"/×$%28""6879/,#;Z/#$+")("'#&'#." &"/°$%28""6879/,#;Z/#$+")("'#&'#." &"/$%28""6879/,#;Z/#$+")("'#&'#." &"/b$%28""6879/,#;Z/#$+")("'#&'#." &"/;$2""67/,$;Z/#$+()(('#(''#(&'#(%'#($'#(#'#("'#&'#.Ħ &%;Z/Ĝ#%28""6879/,#;Z/#$+")("'#&'#." &"/õ$%28""6879/,#;Z/#$+")("'#&'#." &"/Î$%28""6879/,#;Z/#$+")("'#&'#." &"/§$%28""6879/,#;Z/#$+")("'#&'#." &"/$%28""6879/,#;Z/#$+")("'#&'#." &"/Y$%28""6879/,#;Z/#$+")("'#&'#." &"/2$2""67/#$+()(('#(''#(&'#(%'#($'#(#'#("'#&'#/& 8!: ! )`),h(`%;#/M#;#." &"/?$;#." &"/1$;#." &"/#$+$)($'#(#'#("'#&'#`),h(`%;Z/;#28""6879/,$;Z/#$+#)(#'#("'#&'#.# &;\\`),h(`%;]/o#2J""6J7K/\`$;]/W$2J""6J7K/H$;]/?$2J""6J7K/0$;]/'$8':¡' )(''#(&'#(%'#($'#(#'#("'#&'#`),h(`%2¢""6¢7£/2#4¤""5!7¥/#$+")("'#&'#. &%2¦""6¦7§/;#4¨""5!7©/,$;!/#$+#)(#'#("'#&'#.j &%2ª""6ª7«/5#;!/,$;!/#$+#)(#'#("'#&'#.B &%4¬""5!7­/,#;!/#$+")("'#&'#.# &;!`),h(`%%;!." &"/[#;!." &"/M$;!." &"/?$;!." &"/1$;!." &"/#$+%)(%'#($'#(#'#("'#&'#/' 8!:®!! )`),h(`$%22""6273/,#;\`/#$+")("'#&'#0<*%22""6273/,#;\`/#$+")("'#&'#&`),h(";a.A &;b.; &;c.5 &;d./ &;e.) &;f.# &;g"),h(`%3¯""5*7°/a#3±""5#7².G &3³""5#7´.; &3µ""5$7¶./ &3·""5#7¸.# &;6/($8":¹"! )("'#&'#`),h(`%3º""5%7»/I#3¼""5%7½./ &3¾""5"7¿.# &;6/($8":À"! )("'#&'#`),h(`%3Á""5'7Â/1#;/($8":Ã"! )("'#&'#`),h(`%3Ä""5$7Å/1#;ð/($8":Æ"! )("'#&'#`),h(`%3Ç""5&7È/1#;T/($8":É"! )("'#&'#`),h(`%3Ê""5"7Ë/N#%2>""6>7?/,#;6/#$+")("'#&'#." &"/'$8":Ì" )("'#&'#`),h(`%;h/P#%2>""6>7?/,#;i/#$+")("'#&'#." &"/)$8":Í""! )("'#&'#`),h('%$;j/&#0#*;j&&&#/"!&,)'),h('%$;j/&#0#*;j&&&#/"!&,)'),h(";k.) &;+.# &;-"),h('2l""6l7m.e &2n""6n7o.Y &24""6475.M &28""6879.A &2<""6<7=.5 &2@""6@7A.) &2B""6B7C'),h(`%26""6677/n#;m/e$$%2<""6<7=/,#;m/#$+")("'#&'#0<*%2<""6<7=/,#;m/#$+")("'#&'#&/#$+#)(#'#("'#&'#`),h(`%;n/A#2>""6>7?/2$;o/)$8#:Î#"" )(#'#("'#&'#`),h("$;p.) &;+.# &;-/2#0/*;p.) &;+.# &;-&&&#"),h("$;p.) &;+.# &;-0/*;p.) &;+.# &;-&"),h('2l""6l7m.e &2n""6n7o.Y &24""6475.M &26""6677.A &28""6879.5 &2@""6@7A.) &2B""6B7C'),h(";.# &;r"),h(`%;/G#;'/>$;s/5$;'/,$;/#$+%)(%'#($'#(#'#("'#&'#`),h(";M.# &;t"),h(`%;/E#28""6879/6$;u.# &;x/'$8#:Ï# )(#'#("'#&'#`),h(`%;v.# &;w/J#%26""6677/,#;/#$+")("'#&'#." &"/#$+")("'#&'#`),h(`%2Ð""6Ð7Ñ/:#;/1$;w." &"/#$+#)(#'#("'#&'#`),h(`%24""6475/,#;{/#$+")("'#&'#`),h(`%;z/3#$;y0#*;y&/#$+")("'#&'#`),h(";*.) &;+.# &;-"),h(';+. &;-. &22""6273.} &26""6677.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),h(`%;|/e#$%24""6475/,#;|/#$+")("'#&'#0<*%24""6475/,#;|/#$+")("'#&'#&/#$+")("'#&'#`),h(`%$;~0#*;~&/e#$%22""6273/,#;}/#$+")("'#&'#0<*%22""6273/,#;}/#$+")("'#&'#&/#$+")("'#&'#`),h("$;~0#*;~&"),h(';+.w &;-.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),h(`%%;"/#$;".G &;!.A &2@""6@7A.5 &2F""6F7G.) &2J""6J7K0M*;".G &;!.A &2@""6@7A.5 &2F""6F7G.) &2J""6J7K&/#$+")("'#&'#/& 8!:Ò! )`),h(";.# &;"),h(`%%;O/2#2:""6:7;/#$+")("'#&'#." &"/,#;S/#$+")("'#&'#." &"`),h('$;+. &;-.} &2B""6B7C.q &2D""6D7E.e &22""6273.Y &28""6879.M &2:""6:7;.A &2<""6<7=.5 &2>""6>7?.) &2@""6@7A/#0*;+. &;-.} &2B""6B7C.q &2D""6D7E.e &22""6273.Y &28""6879.M &2:""6:7;.A &2<""6<7=.5 &2>""6>7?.) &2@""6@7A&&&#'),h("$;y0#*;y&"),h(`%3""5#7Ó/q#24""6475/b$$;!/&#0#*;!&&&#/L$2J""6J7K/=$$;!/&#0#*;!&&&#/'$8%:Ô% )(%'#($'#(#'#("'#&'#`),h('2Õ""6Õ7Ö'),h('2×""6×7Ø'),h('2Ù""6Ù7Ú'),h('2Û""6Û7Ü'),h('2Ý""6Ý7Þ'),h('2ß""6ß7à'),h('2á""6á7â'),h('2ã""6ã7ä'),h('2å""6å7æ'),h('2ç""6ç7è'),h('2é""6é7ê'),h("%;.Y &;.S &;.M &;.G &;.A &;.; &;.5 &;./ &;.) &;.# &;6/& 8!:ë! )"),h(`%;/G#;'/>$;/5$;'/,$;/#$+%)(%'#($'#(#'#("'#&'#`),h("%;/' 8!:ì!! )"),h(`%;!/5#;!/,$;!/#$+#)(#'#("'#&'#`),h("%$;*.A &;+.; &;-.5 &;3./ &;4.) &;'.# &;(0G*;*.A &;+.; &;-.5 &;3./ &;4.) &;'.# &;(&/& 8!:í! )"),h(`%;¶/Y#$%;A/,#;¶/#$+")("'#&'#06*%;A/,#;¶/#$+")("'#&'#&/#$+")("'#&'#`),h(`%;9/N#%2:""6:7;/,#;9/#$+")("'#&'#." &"/'$8":î" )("'#&'#`),h(`%;:.c &%;/Y#$%;A/,#;/#$+")("'#&'#06*%;A/,#;/#$+")("'#&'#&/#$+")("'#&'#/& 8!:ï! )`),h(`%;L.# &;/]#$%;B/,#;/#$+")("'#&'#06*%;B/,#;/#$+")("'#&'#&/'$8":ð" )("'#&'#`),h(`%;." &"/>#;@/5$;M/,$;?/#$+$)($'#(#'#("'#&'#`),h(`%%;6/Y#$%;./,#;6/#$+")("'#&'#06*%;./,#;6/#$+")("'#&'#&/#$+")("'#&'#.# &;H/' 8!:ñ!! )`),h(";.) &;.# &; "),h(`%3ò""5!7ó/:#;</1$;/($8#:ô#! )(#'#("'#&'#`),h(`%3õ""5'7ö/:#;</1$;/($8#:÷#! )(#'#("'#&'#`),h("%$;!/&#0#*;!&&&#/' 8!:ø!! )"),h(`%2ù""6ù7ú/o#%2J""6J7K/M#;!." &"/?$;!." &"/1$;!." &"/#$+$)($'#(#'#("'#&'#." &"/'$8":û" )("'#&'#`),h(`%;6/J#%;</,#;¡/#$+")("'#&'#." &"/)$8":ü""! )("'#&'#`),h(";6.) &;T.# &;H"),h(`%;£/Y#$%;B/,#;¤/#$+")("'#&'#06*%;B/,#;¤/#$+")("'#&'#&/#$+")("'#&'#`),h(`%3ý""5&7þ.G &3ÿ""5'7Ā.; &3ā""5$7Ă./ &3ă""5%7Ą.# &;6/& 8!:ą! )`),h(";¥.# &; "),h(`%3Ć""5(7ć/M#;</D$3Ĉ""5(7ĉ./ &3Ċ""5(7ċ.# &;6/#$+#)(#'#("'#&'#`),h(`%;6/Y#$%;A/,#;6/#$+")("'#&'#06*%;A/,#;6/#$+")("'#&'#&/#$+")("'#&'#`),h("%$;!/&#0#*;!&&&#/' 8!:Č!! )"),h("%;©/& 8!:č! )"),h(`%;ª/k#;;/b$;¯/Y$$%;B/,#;°/#$+")("'#&'#06*%;B/,#;°/#$+")("'#&'#&/#$+$)($'#(#'#("'#&'#`),h(";«.# &;¬"),h('3Ď""5$7ď.S &3Đ""5%7đ.G &3Ē""5%7ē.; &3Ĕ""5%7ĕ./ &3Ė""5+7ė.# &;­'),h(`3Ę""5'7ę./ &3Ě""5)7ě.# &;­`),h(";6.# &;®"),h(`%3Ĝ""5"7ĝ/,#;6/#$+")("'#&'#`),h(";­.# &;6"),h(`%;6/5#;</,$;±/#$+#)(#'#("'#&'#`),h(";6.# &;H"),h(`%;³/5#;./,$;/#$+#)(#'#("'#&'#`),h("%$;!/&#0#*;!&&&#/' 8!:Ğ!! )"),h("%;/' 8!:ğ!! )"),h(`%;¶/^#$%;B/,#; /#$+")("'#&'#06*%;B/,#; /#$+")("'#&'#&/($8":Ġ"!!)("'#&'#`),h(`%%;7/e#$%2J""6J7K/,#;7/#$+")("'#&'#0<*%2J""6J7K/,#;7/#$+")("'#&'#&/#$+")("'#&'#/"!&,)`),h(`%;L.# &;/]#$%;B/,#;¸/#$+")("'#&'#06*%;B/,#;¸/#$+")("'#&'#&/'$8":ġ" )("'#&'#`),h(";¹.# &; "),h(`%3Ģ""5#7ģ/:#;</1$;6/($8#:Ĥ#! )(#'#("'#&'#`),h("%$;!/&#0#*;!&&&#/' 8!:ĥ!! )"),h("%;/' 8!:Ħ!! )"),h(`%$;0#*;&/x#;@/o$;M/f$;?/]$$%;B/,#; /#$+")("'#&'#06*%;B/,#; /#$+")("'#&'#&/'$8%:ħ% )(%'#($'#(#'#("'#&'#`),h(";¾"),h(`%3Ĩ""5&7ĩ/k#;./b$;Á/Y$$%;A/,#;Á/#$+")("'#&'#06*%;A/,#;Á/#$+")("'#&'#&/#$+$)($'#(#'#("'#&'#.# &;¿`),h(`%;6/k#;./b$;À/Y$$%;A/,#;À/#$+")("'#&'#06*%;A/,#;À/#$+")("'#&'#&/#$+$)($'#(#'#("'#&'#`),h(`%;6/;#;</2$;6.# &;H/#$+#)(#'#("'#&'#`),h(";Â.G &;Ä.A &;Æ.; &;È.5 &;É./ &;Ê.) &;Ë.# &;À"),h(`%3Ī""5%7ī/5#;</,$;Ã/#$+#)(#'#("'#&'#`),h("%;I/' 8!:Ĭ!! )"),h(`%3ĭ""5&7Į/#;</$;D/$;Å/|$$%$;'/&#0#*;'&&&#/,#;Å/#$+")("'#&'#0C*%$;'/&#0#*;'&&&#/,#;Å/#$+")("'#&'#&/,$;E/#$+&)(&'#(%'#($'#(#'#("'#&'#`),h(";t.# &;w"),h(`%3į""5%7İ/5#;</,$;Ç/#$+#)(#'#("'#&'#`),h("%;I/' 8!:ı!! )"),h(`%3Ĳ""5&7ĳ/:#;</1$;I/($8#:Ĵ#! )(#'#("'#&'#`),h(`%3ĵ""5%7Ķ/]#;</T$%3ķ""5$7ĸ/& 8!:Ĺ! ).4 &%3ĺ""5%7Ļ/& 8!:ļ! )/#$+#)(#'#("'#&'#`),h(`%3Ľ""5)7ľ/R#;</I$3Ŀ""5#7ŀ./ &3Ł""5(7ł.# &;6/($8#:Ń#! )(#'#("'#&'#`),h(`%3ń""5#7Ņ/#;</$;D/$%;Ì/e#$%2D""6D7E/,#;Ì/#$+")("'#&'#0<*%2D""6D7E/,#;Ì/#$+")("'#&'#&/#$+")("'#&'#/,$;E/#$+%)(%'#($'#(#'#("'#&'#`),h(`%3ņ""5(7Ň./ &3ň""5$7ŉ.# &;6/' 8!:Ŋ!! )`),h(`%;6/Y#$%;A/,#;6/#$+")("'#&'#06*%;A/,#;6/#$+")("'#&'#&/#$+")("'#&'#`),h(`%;Ï/G#;./>$;Ï/5$;./,$;/#$+%)(%'#($'#(#'#("'#&'#`),h("%$;!/&#0#*;!&&&#/' 8!:ŋ!! )"),h(`%;Ñ/]#$%;A/,#;Ñ/#$+")("'#&'#06*%;A/,#;Ñ/#$+")("'#&'#&/'$8":Ō" )("'#&'#`),h(`%;/]#$%;B/,#; /#$+")("'#&'#06*%;B/,#; /#$+")("'#&'#&/'$8":ō" )("'#&'#`),h(`%;L.O &;.I &%;@." &"/:#;t/1$;?." &"/#$+#)(#'#("'#&'#/]#$%;B/,#; /#$+")("'#&'#06*%;B/,#; /#$+")("'#&'#&/'$8":Ŏ" )("'#&'#`),h(`%;Ô/]#$%;B/,#;Õ/#$+")("'#&'#06*%;B/,#;Õ/#$+")("'#&'#&/'$8":ŏ" )("'#&'#`),h("%;/& 8!:Ő! )"),h(`%3ő""5(7Œ/:#;</1$;6/($8#:œ#! )(#'#("'#&'#.g &%3Ŕ""5&7ŕ/:#;</1$;6/($8#:Ŗ#! )(#'#("'#&'#.: &%3ŗ""5*7Ř/& 8!:ř! ).# &; `),h(`%%;6/k#$%;A/2#;6/)$8":Ś""$ )("'#&'#0<*%;A/2#;6/)$8":Ś""$ )("'#&'#&/)$8":ś""! )("'#&'#." &"/' 8!:Ŝ!! )`),h(`%;Ø/Y#$%;A/,#;Ø/#$+")("'#&'#06*%;A/,#;Ø/#$+")("'#&'#&/#$+")("'#&'#`),h(`%;/Y#$%;B/,#; /#$+")("'#&'#06*%;B/,#; /#$+")("'#&'#&/#$+")("'#&'#`),h("%$;!/&#0#*;!&&&#/' 8!:ŝ!! )"),h(`%;Û/Y#$%;B/,#;Ü/#$+")("'#&'#06*%;B/,#;Ü/#$+")("'#&'#&/#$+")("'#&'#`),h(`%3Ş""5&7ş.; &3Š""5'7š./ &3Ţ""5*7ţ.# &;6/& 8!:Ť! )`),h(`%3ť""5&7Ŧ/:#;</1$;Ý/($8#:ŧ#! )(#'#("'#&'#.} &%3õ""5'7ö/:#;</1$;/($8#:Ũ#! )(#'#("'#&'#.P &%3ũ""5+7Ū/:#;</1$;/($8#:ū#! )(#'#("'#&'#.# &; `),h(`3Ŭ""5+7ŭ.k &3Ů""5)7ů._ &3Ű""5(7ű.S &3Ų""5'7ų.G &3Ŵ""5&7ŵ.; &3Ŷ""5*7ŷ./ &3Ÿ""5)7Ź.# &;6`),h(';1." &"'),h(`%%;6/k#$%;A/2#;6/)$8":Ś""$ )("'#&'#0<*%;A/2#;6/)$8":Ś""$ )("'#&'#&/)$8":ś""! )("'#&'#." &"/' 8!:ź!! )`),h(`%;L.# &;/]#$%;B/,#;á/#$+")("'#&'#06*%;B/,#;á/#$+")("'#&'#&/'$8":Ż" )("'#&'#`),h(";¹.# &; "),h(`%;ã/Y#$%;A/,#;ã/#$+")("'#&'#06*%;A/,#;ã/#$+")("'#&'#&/#$+")("'#&'#`),h(`%;ê/k#;./b$;í/Y$$%;B/,#;ä/#$+")("'#&'#06*%;B/,#;ä/#$+")("'#&'#&/#$+$)($'#(#'#("'#&'#`),h(";å.; &;æ.5 &;ç./ &;è.) &;é.# &; "),h(`%3ż""5#7Ž/:#;</1$;ð/($8#:ž#! )(#'#("'#&'#`),h(`%3ſ""5%7ƀ/:#;</1$;T/($8#:Ɓ#! )(#'#("'#&'#`),h(`%3Ƃ""5(7ƃ/F#;</=$;\\.) &;Y.# &;X/($8#:Ƅ#! )(#'#("'#&'#`),h(`%3ƅ""5&7Ɔ/:#;</1$;6/($8#:Ƈ#! )(#'#("'#&'#`),h(`%3ƈ""5%7Ɖ/A#;</8$$;!0#*;!&/($8#:Ɗ#! )(#'#("'#&'#`),h(`%;ë/G#;;/>$;6/5$;;/,$;ì/#$+%)(%'#($'#(#'#("'#&'#`),h(`%3""5#7Ó.# &;6/' 8!:Ƌ!! )`),h(`%3±""5#7ƌ.G &3³""5#7ƍ.; &3·""5#7Ǝ./ &3µ""5$7Ə.# &;6/' 8!:Ɛ!! )`),h(`%;î/D#%;C/,#;ï/#$+")("'#&'#." &"/#$+")("'#&'#`),h("%;U.) &;\\.# &;X/& 8!:Ƒ! )"),h(`%%;!." &"/[#;!." &"/M$;!." &"/?$;!." &"/1$;!." &"/#$+%)(%'#($'#(#'#("'#&'#/' 8!:ƒ!! )`),h(`%%;!/?#;!." &"/1$;!." &"/#$+#)(#'#("'#&'#/' 8!:Ɠ!! )`),h(";¾"),h(`%;/^#$%;B/,#;ó/#$+")("'#&'#06*%;B/,#;ó/#$+")("'#&'#&/($8":Ɣ"!!)("'#&'#`),h(";ô.# &; "),h(`%2ƕ""6ƕ7Ɩ/L#;</C$2Ɨ""6Ɨ7Ƙ.) &2ƙ""6ƙ7ƚ/($8#:ƛ#! )(#'#("'#&'#`),h(`%;/^#$%;B/,#; /#$+")("'#&'#06*%;B/,#; /#$+")("'#&'#&/($8":Ɯ"!!)("'#&'#`),h(`%;6/5#;0/,$;÷/#$+#)(#'#("'#&'#`),h("$;2.) &;4.# &;.0/*;2.) &;4.# &;.&"),h("$;%0#*;%&"),h(`%;ú/;#28""6879/,$;û/#$+#)(#'#("'#&'#`),h(`%3Ɲ""5%7ƞ.) &3Ɵ""5$7Ơ/' 8!:ơ!! )`),h(`%;ü/J#%28""6879/,#;^/#$+")("'#&'#." &"/#$+")("'#&'#`),h("%;\\.) &;X.# &;/' 8!:Ƣ!! )"),h(';".S &;!.M &2F""6F7G.A &2J""6J7K.5 &2H""6H7I.) &2N""6N7O'),h('2L""6L7M. &2B""6B7C. &2<""6<7=.} &2R""6R7S.q &2T""6T7U.e &2V""6V7W.Y &2P""6P7Q.M &2@""6@7A.A &2D""6D7E.5 &22""6273.) &2>""6>7?'),h(`%;Ā/b#28""6879/S$;û/J$%2ƣ""6ƣ7Ƥ/,#;ì/#$+")("'#&'#." &"/#$+$)($'#(#'#("'#&'#`),h(`%3ƥ""5%7Ʀ.) &3Ƨ""5$7ƨ/' 8!:ơ!! )`),h(`%3±""5#7².6 &3³""5#7´.* &$;+0#*;+&/' 8!:Ʃ!! )`),h(`%;Ą/#2F""6F7G/x$;ă/o$2F""6F7G/\`$;ă/W$2F""6F7G/H$;ă/?$2F""6F7G/0$;ą/'$8):ƪ) )()'#(('#(''#(&'#(%'#($'#(#'#("'#&'#`),h(`%;#/>#;#/5$;#/,$;#/#$+$)($'#(#'#("'#&'#`),h(`%;ă/,#;ă/#$+")("'#&'#`),h(`%;ă/5#;ă/,$;ă/#$+#)(#'#("'#&'#`),h(`%;q/T#$;m0#*;m&/D$%; /,#;ø/#$+")("'#&'#." &"/#$+#)(#'#("'#&'#`),h(`%2ƫ""6ƫ7Ƭ.) &2ƭ""6ƭ7Ʈ/w#;0/n$;Ĉ/e$$%;B/2#;ĉ.# &; /#$+")("'#&'#0<*%;B/2#;ĉ.# &; /#$+")("'#&'#&/#$+$)($'#(#'#("'#&'#`),h(";.# &;L"),h(`%2Ư""6Ư7ư/5#;</,$;Ċ/#$+#)(#'#("'#&'#`),h(`%;D/S#;,/J$2:""6:7;/;$;,.# &;T/,$;E/#$+%)(%'#($'#(#'#("'#&'#`)];let l=0,c=0;const u=[{line:1,column:1}];let d,p=0,g=[],y=0;if(e.startRule!==void 0){if(!(e.startRule in i))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');o=i[e.startRule]}function v(){return t.substring(c,l)}function b(){return T(c,l)}function f(E,_){return{type:"literal",text:E,ignoreCase:_}}function m(E,_,P){return{type:"class",parts:E,inverted:_,ignoreCase:P}}function w(E){let _,P=u[E];if(P)return P;for(_=E-1;!u[_];)_--;for(P=u[_],P={line:P.line,column:P.column};_<E;)t.charCodeAt(_)===10?(P.line++,P.column=1):P.column++,_++;return u[E]=P,P}function T(E,_){const P=w(E),k=w(_);return{source:r,start:{offset:E,line:P.line,column:P.column},end:{offset:_,line:k.line,column:k.column}}}function x(E){l<p||(l>p&&(p=l,g=[]),g.push(E))}function h(E){return E.split("").map(_=>_.charCodeAt(0)-32)}if(e.data={},d=function E(_){const P=a[_];let k=0;const F=[];let L=P.length;const N=[],D=[];let I;for(;;){for(;k<L;)switch(P[k]){case 0:D.push(s[P[k+1]]),k+=2;break;case 1:D.push(void 0),k++;break;case 2:D.push(null),k++;break;case 3:D.push(n),k++;break;case 4:D.push([]),k++;break;case 5:D.push(l),k++;break;case 6:D.pop(),k++;break;case 7:l=D.pop(),k++;break;case 8:D.length-=P[k+1],k+=2;break;case 9:D.splice(-2,1),k++;break;case 10:D[D.length-2].push(D.pop()),k++;break;case 11:D.push(D.splice(D.length-P[k+1],P[k+1])),k+=2;break;case 12:D.push(t.substring(D.pop(),l)),k++;break;case 13:N.push(L),F.push(k+3+P[k+1]+P[k+2]),D[D.length-1]?(L=k+3+P[k+1],k+=3):(L=k+3+P[k+1]+P[k+2],k+=3+P[k+1]);break;case 14:N.push(L),F.push(k+3+P[k+1]+P[k+2]),D[D.length-1]===n?(L=k+3+P[k+1],k+=3):(L=k+3+P[k+1]+P[k+2],k+=3+P[k+1]);break;case 15:N.push(L),F.push(k+3+P[k+1]+P[k+2]),D[D.length-1]!==n?(L=k+3+P[k+1],k+=3):(L=k+3+P[k+1]+P[k+2],k+=3+P[k+1]);break;case 16:D[D.length-1]!==n?(N.push(L),F.push(k),L=k+2+P[k+1],k+=2):k+=2+P[k+1];break;case 17:N.push(L),F.push(k+3+P[k+1]+P[k+2]),t.length>l?(L=k+3+P[k+1],k+=3):(L=k+3+P[k+1]+P[k+2],k+=3+P[k+1]);break;case 18:N.push(L),F.push(k+4+P[k+2]+P[k+3]),t.substr(l,s[P[k+1]].length)===s[P[k+1]]?(L=k+4+P[k+2],k+=4):(L=k+4+P[k+2]+P[k+3],k+=4+P[k+2]);break;case 19:N.push(L),F.push(k+4+P[k+2]+P[k+3]),t.substr(l,s[P[k+1]].length).toLowerCase()===s[P[k+1]]?(L=k+4+P[k+2],k+=4):(L=k+4+P[k+2]+P[k+3],k+=4+P[k+2]);break;case 20:N.push(L),F.push(k+4+P[k+2]+P[k+3]),s[P[k+1]].test(t.charAt(l))?(L=k+4+P[k+2],k+=4):(L=k+4+P[k+2]+P[k+3],k+=4+P[k+2]);break;case 21:D.push(t.substr(l,P[k+1])),l+=P[k+1],k+=2;break;case 22:D.push(s[P[k+1]]),l+=s[P[k+1]].length,k+=2;break;case 23:D.push(n),y===0&&x(s[P[k+1]]),k+=2;break;case 24:c=D[D.length-1-P[k+1]],k+=2;break;case 25:c=l,k++;break;case 26:I=P.slice(k+4,k+4+P[k+3]).map(function(M){return D[D.length-1-M]}),D.splice(D.length-P[k+2],P[k+2],s[P[k+1]].apply(null,I)),k+=4+P[k+3];break;case 27:D.push(E(P[k+1])),k+=2;break;case 28:y++,k++;break;case 29:y--,k++;break;default:throw new Error("Invalid opcode: "+P[k]+".")}if(!(N.length>0))break;L=N.pop(),k=F.pop()}return D[0]}(o),d!==n&&l===t.length)return d;throw d!==n&&l<t.length&&x({type:"end"}),R=g,$=p<t.length?t.charAt(p):null,O=p<t.length?T(p,p+1):T(p,p),new ao(ao.buildMessage(R,$),R,$,O);var R,$,O};var ot;(function(t){t.parse=function(e,n){const r={startRule:n};try{qk(e,r)}catch{r.data=-1}return r.data},t.nameAddrHeaderParse=function(e){const n=t.parse(e,"Name_Addr_Header");return n!==-1?n:void 0},t.URIParse=function(e){const n=t.parse(e,"SIP_URI");return n!==-1?n:void 0}})(ot=ot||(ot={}));const zk={100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"};function li(t,e=32){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*e).toString(e);return n}function Cc(t){return zk[t]||""}function Tc(){return li(10)}function Ln(t){const e={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},n=t.toLowerCase().replace(/_/g,"-").split("-"),r=n.length;let i="";for(let o=0;o<r;o++)o!==0&&(i+="-"),i+=n[o].charAt(0).toUpperCase()+n[o].substring(1);return e[i]&&(i=e[i]),i}function js(t){return encodeURIComponent(t).replace(/%[A-F\d]{2}/g,"U").length}class Uw{constructor(){this.headers={}}addHeader(e,n){const r={raw:n};e=Ln(e),this.headers[e]?this.headers[e].push(r):this.headers[e]=[r]}getHeader(e){const n=this.headers[Ln(e)];if(n)return n[0]?n[0].raw:void 0}getHeaders(e){const n=this.headers[Ln(e)],r=[];if(!n)return[];for(const i of n)r.push(i.raw);return r}hasHeader(e){return!!this.headers[Ln(e)]}parseHeader(e,n=0){if(e=Ln(e),!this.headers[e]||n>=this.headers[e].length)return;const r=this.headers[e][n],i=r.raw;if(r.parsed)return r.parsed;const o=ot.parse(i,e.replace(/-/g,"_"));return o===-1?void this.headers[e].splice(n,1):(r.parsed=o,o)}s(e,n=0){return this.parseHeader(e,n)}setHeader(e,n){this.headers[Ln(e)]=[{raw:n}]}toString(){return this.data}}class lo extends Uw{constructor(){super()}}class Vr extends Uw{constructor(){super()}}class fi{constructor(e,n,r,i,o,s,a){this.headers={},this.extraHeaders=[],this.options=fi.getDefaultOptions(),o&&(this.options=Object.assign(Object.assign({},this.options),o),this.options.optionTags&&this.options.optionTags.length&&(this.options.optionTags=this.options.optionTags.slice()),this.options.routeSet&&this.options.routeSet.length&&(this.options.routeSet=this.options.routeSet.slice())),s&&s.length&&(this.extraHeaders=s.slice()),a&&(this.body={body:a.content,contentType:a.contentType}),this.method=e,this.ruri=n.clone(),this.fromURI=r.clone(),this.fromTag=this.options.fromTag?this.options.fromTag:Tc(),this.from=fi.makeNameAddrHeader(this.fromURI,this.options.fromDisplayName,this.fromTag),this.toURI=i.clone(),this.toTag=this.options.toTag,this.to=fi.makeNameAddrHeader(this.toURI,this.options.toDisplayName,this.toTag),this.callId=this.options.callId?this.options.callId:this.options.callIdPrefix+li(15),this.cseq=this.options.cseq,this.setHeader("route",this.options.routeSet),this.setHeader("via",""),this.setHeader("to",this.to.toString()),this.setHeader("from",this.from.toString()),this.setHeader("cseq",this.cseq+" "+this.method),this.setHeader("call-id",this.callId),this.setHeader("max-forwards","70")}static getDefaultOptions(){return{callId:"",callIdPrefix:"",cseq:1,toDisplayName:"",toTag:"",fromDisplayName:"",fromTag:"",forceRport:!1,hackViaTcp:!1,optionTags:["outbound"],routeSet:[],userAgentString:"sip.js",viaHost:""}}static makeNameAddrHeader(e,n,r){const i={};return r&&(i.tag=r),new Lt(e,n,i)}getHeader(e){const n=this.headers[Ln(e)];if(n){if(n[0])return n[0]}else{const r=new RegExp("^\\s*"+e+"\\s*:","i");for(const i of this.extraHeaders)if(r.test(i))return i.substring(i.indexOf(":")+1).trim()}}getHeaders(e){const n=[],r=this.headers[Ln(e)];if(r)for(const i of r)n.push(i);else{const i=new RegExp("^\\s*"+e+"\\s*:","i");for(const o of this.extraHeaders)i.test(o)&&n.push(o.substring(o.indexOf(":")+1).trim())}return n}hasHeader(e){if(this.headers[Ln(e)])return!0;{const n=new RegExp("^\\s*"+e+"\\s*:","i");for(const r of this.extraHeaders)if(n.test(r))return!0}return!1}setHeader(e,n){this.headers[Ln(e)]=n instanceof Array?n:[n]}setViaHeader(e,n){this.options.hackViaTcp&&(n="TCP");let r="SIP/2.0/"+n;r+=" "+this.options.viaHost+";branch="+e,this.options.forceRport&&(r+=";rport"),this.setHeader("via",r),this.branch=e}toString(){let e="";e+=this.method+" "+this.ruri.toRaw()+` SIP/2.0\r
`;for(const n in this.headers)if(this.headers[n])for(const r of this.headers[n])e+=n+": "+r+`\r
`;for(const n of this.extraHeaders)e+=n.trim()+`\r
`;return e+="Supported: "+this.options.optionTags.join(", ")+`\r
`,e+="User-Agent: "+this.options.userAgentString+`\r
`,this.body?typeof this.body=="string"?(e+="Content-Length: "+js(this.body)+`\r
\r
`,e+=this.body):this.body.body&&this.body.contentType?(e+="Content-Type: "+this.body.contentType+`\r
`,e+="Content-Length: "+js(this.body.body)+`\r
\r
`,e+=this.body.body):e+=`Content-Length: 0\r
\r
`:e+=`Content-Length: 0\r
\r
`,e}}function Vw(t){return t==="application/sdp"?"session":"render"}function Dl(t){const e=typeof t=="string"?t:t.body,n=typeof t=="string"?"application/sdp":t.contentType;return{contentDisposition:Vw(n),contentType:n,content:e}}function Ww(t){return!(!t||typeof t.content!="string"||typeof t.contentType!="string"||t.contentDisposition!==void 0)||typeof t.contentDisposition=="string"}function ms(t){let e,n,r;if(t instanceof lo&&t.body){const i=t.parseHeader("Content-Disposition");e=i?i.type:void 0,n=t.parseHeader("Content-Type"),r=t.body}if(t instanceof Vr&&t.body){const i=t.parseHeader("Content-Disposition");e=i?i.type:void 0,n=t.parseHeader("Content-Type"),r=t.body}if(t instanceof fi&&t.body)if(e=t.getHeader("Content-Disposition"),n=t.getHeader("Content-Type"),typeof t.body=="string"){if(!n)throw new Error("Header content type header does not equal body content type.");r=t.body}else{if(n&&n!==t.body.contentType)throw new Error("Header content type header does not equal body content type.");n=t.body.contentType,r=t.body.body}if(Ww(t)&&(e=t.contentDisposition,n=t.contentType,r=t.content),r){if(n&&!e&&(e=Vw(n)),!e)throw new Error("Content disposition undefined.");if(!n)throw new Error("Content type undefined.");return{contentDisposition:e,contentType:n,content:r}}}var cn,Z;(function(t){t.Initial="Initial",t.Early="Early",t.AckWait="AckWait",t.Confirmed="Confirmed",t.Terminated="Terminated"})(cn=cn||(cn={})),function(t){t.Initial="Initial",t.HaveLocalOffer="HaveLocalOffer",t.HaveRemoteOffer="HaveRemoteOffer",t.Stable="Stable",t.Closed="Closed"}(Z=Z||(Z={}));const Bk=500,Uk=5e3,dt={T1:Bk,T2:4e3,T4:Uk,TIMER_B:32e3,TIMER_D:0,TIMER_F:32e3,TIMER_H:32e3,TIMER_I:0,TIMER_J:0,TIMER_K:0,TIMER_L:32e3,TIMER_M:32e3,TIMER_N:32e3,PROVISIONAL_RESPONSE_INTERVAL:6e4};class xr extends Ii{constructor(e){super(e||"Transaction state error.")}}var ee;(function(t){t.ACK="ACK",t.BYE="BYE",t.CANCEL="CANCEL",t.INFO="INFO",t.INVITE="INVITE",t.MESSAGE="MESSAGE",t.NOTIFY="NOTIFY",t.OPTIONS="OPTIONS",t.REGISTER="REGISTER",t.UPDATE="UPDATE",t.SUBSCRIBE="SUBSCRIBE",t.PUBLISH="PUBLISH",t.REFER="REFER",t.PRACK="PRACK"})(ee=ee||(ee={}));const kr=[ee.ACK,ee.BYE,ee.CANCEL,ee.INFO,ee.INVITE,ee.MESSAGE,ee.NOTIFY,ee.OPTIONS,ee.PRACK,ee.REFER,ee.REGISTER,ee.SUBSCRIBE];class Gw{constructor(e){this.incomingMessageRequest=e}get request(){return this.incomingMessageRequest.message}accept(e){return this.incomingMessageRequest.accept(e),Promise.resolve()}reject(e){return this.incomingMessageRequest.reject(e),Promise.resolve()}}class Ld{constructor(e){this.incomingNotifyRequest=e}get request(){return this.incomingNotifyRequest.message}accept(e){return this.incomingNotifyRequest.accept(e),Promise.resolve()}reject(e){return this.incomingNotifyRequest.reject(e),Promise.resolve()}}class Vk{constructor(e,n){this.incomingReferRequest=e,this.session=n}get referTo(){const e=this.incomingReferRequest.message.parseHeader("refer-to");if(!(e instanceof Lt))throw new Error("Failed to parse Refer-To header.");return e}get referredBy(){return this.incomingReferRequest.message.getHeader("referred-by")}get replaces(){const e=this.referTo.uri.getHeader("replaces");return e instanceof Array?e[0]:e}get request(){return this.incomingReferRequest.message}accept(e={statusCode:202}){return this.incomingReferRequest.accept(e),Promise.resolve()}reject(e){return this.incomingReferRequest.reject(e),Promise.resolve()}makeInviter(e){if(this.inviter)return this.inviter;const n=this.referTo.uri.clone();n.clearHeaders();const r=((e=e||{}).extraHeaders||[]).slice(),i=this.replaces;i&&r.push("Replaces: "+decodeURIComponent(i));const o=this.referredBy;return o&&r.push("Referred-By: "+o),e.extraHeaders=r,this.inviter=this.session.userAgent._makeInviter(n,e),this.inviter._referred=this.session,this.session._referral=this.inviter,this.inviter}}var q,un;(function(t){t.Initial="Initial",t.Establishing="Establishing",t.Established="Established",t.Terminating="Terminating",t.Terminated="Terminated"})(q=q||(q={}));class Fs{constructor(e,n={}){this.pendingReinvite=!1,this.pendingReinviteAck=!1,this._state=q.Initial,this.delegate=n.delegate,this._stateEventEmitter=new Hs,this._userAgent=e}dispose(){switch(this.logger.log(`Session ${this.id} in state ${this._state} is being disposed`),delete this.userAgent._sessions[this.id],this._sessionDescriptionHandler&&this._sessionDescriptionHandler.close(),this.state){case q.Initial:case q.Establishing:break;case q.Established:return new Promise(e=>{this._bye({onAccept:()=>e(),onRedirect:()=>e(),onReject:()=>e()})});case q.Terminating:case q.Terminated:break;default:throw new Error("Unknown state.")}return Promise.resolve()}get assertedIdentity(){return this._assertedIdentity}get dialog(){return this._dialog}get id(){return this._id}get replacee(){return this._replacee}get sessionDescriptionHandler(){return this._sessionDescriptionHandler}get sessionDescriptionHandlerFactory(){return this.userAgent.configuration.sessionDescriptionHandlerFactory}get sessionDescriptionHandlerModifiers(){return this._sessionDescriptionHandlerModifiers||[]}set sessionDescriptionHandlerModifiers(e){this._sessionDescriptionHandlerModifiers=e.slice()}get sessionDescriptionHandlerOptions(){return this._sessionDescriptionHandlerOptions||{}}set sessionDescriptionHandlerOptions(e){this._sessionDescriptionHandlerOptions=Object.assign({},e)}get sessionDescriptionHandlerModifiersReInvite(){return this._sessionDescriptionHandlerModifiersReInvite||[]}set sessionDescriptionHandlerModifiersReInvite(e){this._sessionDescriptionHandlerModifiersReInvite=e.slice()}get sessionDescriptionHandlerOptionsReInvite(){return this._sessionDescriptionHandlerOptionsReInvite||{}}set sessionDescriptionHandlerOptionsReInvite(e){this._sessionDescriptionHandlerOptionsReInvite=Object.assign({},e)}get state(){return this._state}get stateChange(){return this._stateEventEmitter}get userAgent(){return this._userAgent}bye(e={}){let n="Session.bye() may only be called if established session.";switch(this.state){case q.Initial:typeof this.cancel=="function"?(n+=" However Inviter.invite() has not yet been called.",n+=" Perhaps you should have called Inviter.cancel()?"):typeof this.reject=="function"&&(n+=" However Invitation.accept() has not yet been called.",n+=" Perhaps you should have called Invitation.reject()?");break;case q.Establishing:typeof this.cancel=="function"?(n+=" However a dialog does not yet exist.",n+=" Perhaps you should have called Inviter.cancel()?"):typeof this.reject=="function"&&(n+=" However Invitation.accept() has not yet been called (or not yet resolved).",n+=" Perhaps you should have called Invitation.reject()?");break;case q.Established:{const r=e.requestDelegate,i=this.copyRequestOptions(e.requestOptions);return this._bye(r,i)}case q.Terminating:n+=" However this session is already terminating.",typeof this.cancel=="function"?n+=" Perhaps you have already called Inviter.cancel()?":typeof this.reject=="function"&&(n+=" Perhaps you have already called Session.bye()?");break;case q.Terminated:n+=" However this session is already terminated.";break;default:throw new Error("Unknown state")}return this.logger.error(n),Promise.reject(new Error(`Invalid session state ${this.state}`))}info(e={}){if(this.state!==q.Established){const i="Session.info() may only be called if established session.";return this.logger.error(i),Promise.reject(new Error(`Invalid session state ${this.state}`))}const n=e.requestDelegate,r=this.copyRequestOptions(e.requestOptions);return this._info(n,r)}invite(e={}){if(this.logger.log("Session.invite"),this.state!==q.Established)return Promise.reject(new Error(`Invalid session state ${this.state}`));if(this.pendingReinvite)return Promise.reject(new Od("Reinvite in progress. Please wait until complete, then try again."));this.pendingReinvite=!0,e.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiersReInvite=e.sessionDescriptionHandlerModifiers),e.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptionsReInvite=e.sessionDescriptionHandlerOptions);const n={onAccept:o=>{const s=ms(o.message);if(!s)return this.logger.error("Received 2xx response to re-INVITE without a session description"),this.ackAndBye(o,400,"Missing session description"),this.stateTransition(q.Terminated),void(this.pendingReinvite=!1);if(e.withoutSdp){const a={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptionsReInvite,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiersReInvite};this.setOfferAndGetAnswer(s,a).then(l=>{o.ack({body:l})}).catch(l=>{this.logger.error("Failed to handle offer in 2xx response to re-INVITE"),this.logger.error(l.message),this.state===q.Terminated?o.ack():(this.ackAndBye(o,488,"Bad Media Description"),this.stateTransition(q.Terminated))}).then(()=>{this.pendingReinvite=!1,e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(o)})}else{const a={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptionsReInvite,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiersReInvite};this.setAnswer(s,a).then(()=>{o.ack()}).catch(l=>{this.logger.error("Failed to handle answer in 2xx response to re-INVITE"),this.logger.error(l.message),this.state!==q.Terminated?(this.ackAndBye(o,488,"Bad Media Description"),this.stateTransition(q.Terminated)):o.ack()}).then(()=>{this.pendingReinvite=!1,e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(o)})}},onProgress:o=>{},onRedirect:o=>{},onReject:o=>{this.logger.warn("Received a non-2xx response to re-INVITE"),this.pendingReinvite=!1,e.withoutSdp?e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(o):this.rollbackOffer().catch(s=>{if(this.logger.error("Failed to rollback offer on non-2xx response to re-INVITE"),this.logger.error(s.message),this.state!==q.Terminated){if(!this.dialog)throw new Error("Dialog undefined.");const a=[];a.push("Reason: "+this.getReasonHeaderValue(500,"Internal Server Error")),this.dialog.bye(void 0,{extraHeaders:a}),this.stateTransition(q.Terminated)}}).then(()=>{e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(o)})},onTrying:o=>{}},r=e.requestOptions||{};if(r.extraHeaders=(r.extraHeaders||[]).slice(),r.extraHeaders.push("Allow: "+kr.toString()),r.extraHeaders.push("Contact: "+this._contact),e.withoutSdp){if(!this.dialog)throw this.pendingReinvite=!1,new Error("Dialog undefined.");return Promise.resolve(this.dialog.invite(n,r))}const i={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptionsReInvite,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiersReInvite};return this.getOffer(i).then(o=>{if(!this.dialog)throw this.pendingReinvite=!1,new Error("Dialog undefined.");return r.body=o,this.dialog.invite(n,r)}).catch(o=>{throw this.logger.error(o.message),this.logger.error("Failed to send re-INVITE"),this.pendingReinvite=!1,o})}message(e={}){if(this.state!==q.Established){const i="Session.message() may only be called if established session.";return this.logger.error(i),Promise.reject(new Error(`Invalid session state ${this.state}`))}const n=e.requestDelegate,r=this.copyRequestOptions(e.requestOptions);return this._message(n,r)}refer(e,n={}){if(this.state!==q.Established){const o="Session.refer() may only be called if established session.";return this.logger.error(o),Promise.reject(new Error(`Invalid session state ${this.state}`))}if(e instanceof Fs&&!e.dialog){const o="Session.refer() may only be called with session which is established. You are perhaps attempting to attended transfer to a target for which there is not dialog yet established. Perhaps you are attempting a 'semi-attended' tansfer? Regardless, this is not supported. The recommended approached is to check to see if the target Session is in the Established state before calling refer(); if the state is not Established you may proceed by falling back using a URI as the target (blind transfer).";return this.logger.error(o),Promise.reject(new Error(`Invalid session state ${this.state}`))}const r=n.requestDelegate,i=this.copyRequestOptions(n.requestOptions);return i.extraHeaders=i.extraHeaders?i.extraHeaders.concat(this.referExtraHeaders(this.referToString(e))):this.referExtraHeaders(this.referToString(e)),this._refer(n.onNotify,r,i)}_bye(e,n){if(!this.dialog)return Promise.reject(new Error("Session dialog undefined."));const r=this.dialog;switch(r.sessionState){case cn.Initial:case cn.Early:throw new Error(`Invalid dialog state ${r.sessionState}`);case cn.AckWait:return this.stateTransition(q.Terminating),new Promise(i=>{r.delegate={onAck:()=>{const o=r.bye(e,n);return this.stateTransition(q.Terminated),i(o),Promise.resolve()},onAckTimeout:()=>{const o=r.bye(e,n);this.stateTransition(q.Terminated),i(o)}}});case cn.Confirmed:{const i=r.bye(e,n);return this.stateTransition(q.Terminated),Promise.resolve(i)}case cn.Terminated:throw new Error(`Invalid dialog state ${r.sessionState}`);default:throw new Error("Unrecognized state.")}}_info(e,n){return this.dialog?Promise.resolve(this.dialog.info(e,n)):Promise.reject(new Error("Session dialog undefined."))}_message(e,n){return this.dialog?Promise.resolve(this.dialog.message(e,n)):Promise.reject(new Error("Session dialog undefined."))}_refer(e,n,r){return this.dialog?(this.onNotify=e,Promise.resolve(this.dialog.refer(n,r))):Promise.reject(new Error("Session dialog undefined."))}ackAndBye(e,n,r){e.ack();const i=[];n&&i.push("Reason: "+this.getReasonHeaderValue(n,r)),e.session.bye(void 0,{extraHeaders:i})}onAckRequest(e){if(this.logger.log("Session.onAckRequest"),this.state!==q.Established&&this.state!==q.Terminating)return this.logger.error(`ACK received while in state ${this.state}, dropping request`),Promise.resolve();const n=this.dialog;if(!n)throw new Error("Dialog undefined.");const r={sessionDescriptionHandlerOptions:this.pendingReinviteAck?this.sessionDescriptionHandlerOptionsReInvite:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.pendingReinviteAck?this._sessionDescriptionHandlerModifiersReInvite:this._sessionDescriptionHandlerModifiers};if(this.delegate&&this.delegate.onAck){const i=new Lk(e);this.delegate.onAck(i)}switch(this.pendingReinviteAck=!1,n.signalingState){case Z.Initial:{this.logger.error(`Invalid signaling state ${n.signalingState}.`);const i=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];return n.bye(void 0,{extraHeaders:i}),this.stateTransition(q.Terminated),Promise.resolve()}case Z.Stable:{const i=ms(e.message);return i?i.contentDisposition==="render"?(this._renderbody=i.content,this._rendertype=i.contentType,Promise.resolve()):i.contentDisposition!=="session"?Promise.resolve():this.setAnswer(i,r).catch(o=>{this.logger.error(o.message);const s=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];n.bye(void 0,{extraHeaders:s}),this.stateTransition(q.Terminated)}):Promise.resolve()}case Z.HaveLocalOffer:{this.logger.error(`Invalid signaling state ${n.signalingState}.`);const i=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];return n.bye(void 0,{extraHeaders:i}),this.stateTransition(q.Terminated),Promise.resolve()}case Z.HaveRemoteOffer:{this.logger.error(`Invalid signaling state ${n.signalingState}.`);const i=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];return n.bye(void 0,{extraHeaders:i}),this.stateTransition(q.Terminated),Promise.resolve()}case Z.Closed:default:throw new Error(`Invalid signaling state ${n.signalingState}.`)}}onByeRequest(e){if(this.logger.log("Session.onByeRequest"),this.state===q.Established){if(this.delegate&&this.delegate.onBye){const n=new Hk(e);this.delegate.onBye(n)}else e.accept();this.stateTransition(q.Terminated)}else this.logger.error(`BYE received while in state ${this.state}, dropping request`)}onInfoRequest(e){if(this.logger.log("Session.onInfoRequest"),this.state===q.Established)if(this.delegate&&this.delegate.onInfo){const n=new Fk(e);this.delegate.onInfo(n)}else e.accept();else this.logger.error(`INFO received while in state ${this.state}, dropping request`)}onInviteRequest(e){if(this.logger.log("Session.onInviteRequest"),this.state!==q.Established)return void this.logger.error(`INVITE received while in state ${this.state}, dropping request`);this.pendingReinviteAck=!0;const n=["Contact: "+this._contact];if(e.message.hasHeader("P-Asserted-Identity")){const i=e.message.getHeader("P-Asserted-Identity");if(!i)throw new Error("Header undefined.");this._assertedIdentity=ot.nameAddrHeaderParse(i)}const r={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptionsReInvite,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiersReInvite};this.generateResponseOfferAnswerInDialog(r).then(i=>{const o=e.accept({statusCode:200,extraHeaders:n,body:i});this.delegate&&this.delegate.onInvite&&this.delegate.onInvite(e.message,o.message,200)}).catch(i=>{if(this.logger.error(i.message),this.logger.error("Failed to handle to re-INVITE request"),!this.dialog)throw new Error("Dialog undefined.");if(this.logger.error(this.dialog.signalingState),this.dialog.signalingState!==Z.Stable)this.rollbackOffer().then(()=>{const o=e.reject({statusCode:488});this.delegate&&this.delegate.onInvite&&this.delegate.onInvite(e.message,o.message,488)}).catch(o=>{this.logger.error(o.message),this.logger.error("Failed to rollback offer on re-INVITE request");const s=e.reject({statusCode:488});if(this.state!==q.Terminated){if(!this.dialog)throw new Error("Dialog undefined.");const a=[];a.push("Reason: "+this.getReasonHeaderValue(500,"Internal Server Error")),this.dialog.bye(void 0,{extraHeaders:a}),this.stateTransition(q.Terminated)}this.delegate&&this.delegate.onInvite&&this.delegate.onInvite(e.message,s.message,488)});else{const o=e.reject({statusCode:488});this.delegate&&this.delegate.onInvite&&this.delegate.onInvite(e.message,o.message,488)}})}onMessageRequest(e){if(this.logger.log("Session.onMessageRequest"),this.state===q.Established)if(this.delegate&&this.delegate.onMessage){const n=new Gw(e);this.delegate.onMessage(n)}else e.accept();else this.logger.error(`MESSAGE received while in state ${this.state}, dropping request`)}onNotifyRequest(e){if(this.logger.log("Session.onNotifyRequest"),this.state===q.Established)if(this.onNotify){const n=new Ld(e);this.onNotify(n)}else if(this.delegate&&this.delegate.onNotify){const n=new Ld(e);this.delegate.onNotify(n)}else e.accept();else this.logger.error(`NOTIFY received while in state ${this.state}, dropping request`)}onPrackRequest(e){if(this.logger.log("Session.onPrackRequest"),this.state===q.Established)throw new Error("Unimplemented.");this.logger.error(`PRACK received while in state ${this.state}, dropping request`)}onReferRequest(e){if(this.logger.log("Session.onReferRequest"),this.state!==q.Established)return void this.logger.error(`REFER received while in state ${this.state}, dropping request`);if(!e.message.hasHeader("refer-to"))return this.logger.warn("Invalid REFER packet. A refer-to header is required. Rejecting."),void e.reject();const n=new Vk(e,this);this.delegate&&this.delegate.onRefer?this.delegate.onRefer(n):(this.logger.log("No delegate available to handle REFER, automatically accepting and following."),n.accept().then(()=>n.makeInviter(this._referralInviterOptions).invite()).catch(r=>{this.logger.error(r.message)}))}generateResponseOfferAnswer(e,n){if(this.dialog)return this.generateResponseOfferAnswerInDialog(n);const r=ms(e.message);return r&&r.contentDisposition==="session"?this.setOfferAndGetAnswer(r,n):this.getOffer(n)}generateResponseOfferAnswerInDialog(e){if(!this.dialog)throw new Error("Dialog undefined.");switch(this.dialog.signalingState){case Z.Initial:return this.getOffer(e);case Z.HaveLocalOffer:return Promise.resolve(void 0);case Z.HaveRemoteOffer:if(!this.dialog.offer)throw new Error(`Session offer undefined in signaling state ${this.dialog.signalingState}.`);return this.setOfferAndGetAnswer(this.dialog.offer,e);case Z.Stable:return this.state!==q.Established?Promise.resolve(void 0):this.getOffer(e);case Z.Closed:default:throw new Error(`Invalid signaling state ${this.dialog.signalingState}.`)}}getOffer(e){const n=this.setupSessionDescriptionHandler(),r=e.sessionDescriptionHandlerOptions,i=e.sessionDescriptionHandlerModifiers;try{return n.getDescription(r,i).then(o=>Dl(o)).catch(o=>{this.logger.error("Session.getOffer: SDH getDescription rejected...");const s=o instanceof Error?o:new Error("Session.getOffer unknown error.");throw this.logger.error(s.message),s})}catch(o){this.logger.error("Session.getOffer: SDH getDescription threw...");const s=o instanceof Error?o:new Error(o);return this.logger.error(s.message),Promise.reject(s)}}rollbackOffer(){const e=this.setupSessionDescriptionHandler();if(e.rollbackDescription===void 0)return Promise.resolve();try{return e.rollbackDescription().catch(n=>{this.logger.error("Session.rollbackOffer: SDH rollbackDescription rejected...");const r=n instanceof Error?n:new Error("Session.rollbackOffer unknown error.");throw this.logger.error(r.message),r})}catch(n){this.logger.error("Session.rollbackOffer: SDH rollbackDescription threw...");const r=n instanceof Error?n:new Error(n);return this.logger.error(r.message),Promise.reject(r)}}setAnswer(e,n){const r=this.setupSessionDescriptionHandler(),i=n.sessionDescriptionHandlerOptions,o=n.sessionDescriptionHandlerModifiers;try{if(!r.hasDescription(e.contentType))return Promise.reject(new Md)}catch(s){this.logger.error("Session.setAnswer: SDH hasDescription threw...");const a=s instanceof Error?s:new Error(s);return this.logger.error(a.message),Promise.reject(a)}try{return r.setDescription(e.content,i,o).catch(s=>{this.logger.error("Session.setAnswer: SDH setDescription rejected...");const a=s instanceof Error?s:new Error("Session.setAnswer unknown error.");throw this.logger.error(a.message),a})}catch(s){this.logger.error("Session.setAnswer: SDH setDescription threw...");const a=s instanceof Error?s:new Error(s);return this.logger.error(a.message),Promise.reject(a)}}setOfferAndGetAnswer(e,n){const r=this.setupSessionDescriptionHandler(),i=n.sessionDescriptionHandlerOptions,o=n.sessionDescriptionHandlerModifiers;try{if(!r.hasDescription(e.contentType))return Promise.reject(new Md)}catch(s){this.logger.error("Session.setOfferAndGetAnswer: SDH hasDescription threw...");const a=s instanceof Error?s:new Error(s);return this.logger.error(a.message),Promise.reject(a)}try{return r.setDescription(e.content,i,o).then(()=>r.getDescription(i,o)).then(s=>Dl(s)).catch(s=>{this.logger.error("Session.setOfferAndGetAnswer: SDH setDescription or getDescription rejected...");const a=s instanceof Error?s:new Error("Session.setOfferAndGetAnswer unknown error.");throw this.logger.error(a.message),a})}catch(s){this.logger.error("Session.setOfferAndGetAnswer: SDH setDescription or getDescription threw...");const a=s instanceof Error?s:new Error(s);return this.logger.error(a.message),Promise.reject(a)}}setSessionDescriptionHandler(e){if(this._sessionDescriptionHandler)throw new Error("Session description handler defined.");this._sessionDescriptionHandler=e}setupSessionDescriptionHandler(){var e;return this._sessionDescriptionHandler||(this._sessionDescriptionHandler=this.sessionDescriptionHandlerFactory(this,this.userAgent.configuration.sessionDescriptionHandlerFactoryOptions),!((e=this.delegate)===null||e===void 0)&&e.onSessionDescriptionHandler&&this.delegate.onSessionDescriptionHandler(this._sessionDescriptionHandler,!1)),this._sessionDescriptionHandler}stateTransition(e){const n=()=>{throw new Error(`Invalid state transition from ${this._state} to ${e}`)};switch(this._state){case q.Initial:e!==q.Establishing&&e!==q.Established&&e!==q.Terminating&&e!==q.Terminated&&n();break;case q.Establishing:e!==q.Established&&e!==q.Terminating&&e!==q.Terminated&&n();break;case q.Established:e!==q.Terminating&&e!==q.Terminated&&n();break;case q.Terminating:e!==q.Terminated&&n();break;case q.Terminated:n();break;default:throw new Error("Unrecognized state.")}this._state=e,this.logger.log(`Session ${this.id} transitioned to state ${this._state}`),this._stateEventEmitter.emit(this._state),e===q.Terminated&&this.dispose()}copyRequestOptions(e={}){return{extraHeaders:e.extraHeaders?e.extraHeaders.slice():void 0,body:e.body?{contentDisposition:e.body.contentDisposition||"render",contentType:e.body.contentType||"text/plain",content:e.body.content||""}:void 0}}getReasonHeaderValue(e,n){const r=e;let i=Cc(e);return!i&&n&&(i=n),"SIP;cause="+r+';text="'+i+'"'}referExtraHeaders(e){const n=[];return n.push("Referred-By: <"+this.userAgent.configuration.uri+">"),n.push("Contact: "+this._contact),n.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),n.push("Refer-To: "+e),n}referToString(e){let n;if(e instanceof Bn)n=e.toString();else{if(!e.dialog)throw new Error("Dialog undefined.");const r=e.remoteIdentity.friendlyName,i=e.dialog.remoteTarget.toString(),o=e.dialog.callId,s=e.dialog.remoteTag,a=e.dialog.localTag;n=`"${r}" <${i}?Replaces=${encodeURIComponent(`${o};to-tag=${s};from-tag=${a}`)}>`}return n}}(function(t){t.Required="Required",t.Supported="Supported",t.Unsupported="Unsupported"})(un=un||(un={}));const Wk={"100rel":!0,199:!0,answermode:!0,"early-session":!0,eventlist:!0,explicitsub:!0,"from-change":!0,"geolocation-http":!0,"geolocation-sip":!0,gin:!0,gruu:!0,histinfo:!0,ice:!0,join:!0,"multiple-refer":!0,norefersub:!0,nosub:!0,outbound:!0,path:!0,policy:!0,precondition:!0,pref:!0,privacy:!0,"recipient-list-invite":!0,"recipient-list-message":!0,"recipient-list-subscribe":!0,replaces:!0,"resource-priority":!0,"sdp-anat":!0,"sec-agree":!0,tdialog:!0,timer:!0,uui:!0};let Gk=class extends Fs{constructor(t,e){super(t),this.incomingInviteRequest=e,this.disposed=!1,this.expiresTimer=void 0,this.isCanceled=!1,this.rel100="none",this.rseq=Math.floor(1e4*Math.random()),this.userNoAnswerTimer=void 0,this.waitingForPrack=!1,this.logger=t.getLogger("sip.Invitation");const n=this.incomingInviteRequest.message,r=n.getHeader("require");r&&r.toLowerCase().includes("100rel")&&(this.rel100="required");const i=n.getHeader("supported");if(i&&i.toLowerCase().includes("100rel")&&(this.rel100="supported"),n.toTag=e.toTag,typeof n.toTag!="string")throw new TypeError("toTag should have been a string.");if(this.userNoAnswerTimer=setTimeout(()=>{e.reject({statusCode:480}),this.stateTransition(q.Terminated)},this.userAgent.configuration.noAnswerTimeout?1e3*this.userAgent.configuration.noAnswerTimeout:6e4),n.hasHeader("expires")){const a=1e3*Number(n.getHeader("expires")||0);this.expiresTimer=setTimeout(()=>{this.state===q.Initial&&(e.reject({statusCode:487}),this.stateTransition(q.Terminated))},a)}const o=this.request.getHeader("P-Asserted-Identity");o&&(this._assertedIdentity=ot.nameAddrHeaderParse(o)),this._contact=this.userAgent.contact.toString();const s=n.parseHeader("Content-Disposition");s&&s.type==="render"&&(this._renderbody=n.body,this._rendertype=n.getHeader("Content-Type")),this._id=n.callId+n.fromTag,this.userAgent._sessions[this._id]=this}dispose(){if(this.disposed)return Promise.resolve();switch(this.disposed=!0,this.expiresTimer&&(clearTimeout(this.expiresTimer),this.expiresTimer=void 0),this.userNoAnswerTimer&&(clearTimeout(this.userNoAnswerTimer),this.userNoAnswerTimer=void 0),this.prackNeverArrived(),this.state){case q.Initial:case q.Establishing:return this.reject().then(()=>super.dispose());case q.Established:case q.Terminating:case q.Terminated:return super.dispose();default:throw new Error("Unknown state.")}}get autoSendAnInitialProvisionalResponse(){return this.rel100!=="required"&&this.userAgent.configuration.sendInitialProvisionalResponse}get body(){return this.incomingInviteRequest.message.body}get localIdentity(){return this.request.to}get remoteIdentity(){return this.request.from}get request(){return this.incomingInviteRequest.message}accept(t={}){if(this.logger.log("Invitation.accept"),this.state!==q.Initial){const e=new Error(`Invalid session state ${this.state}`);return this.logger.error(e.message),Promise.reject(e)}return t.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiers=t.sessionDescriptionHandlerModifiers),t.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptions=t.sessionDescriptionHandlerOptions),this.stateTransition(q.Establishing),this.sendAccept(t).then(({message:e,session:n})=>{n.delegate={onAck:r=>this.onAckRequest(r),onAckTimeout:()=>this.onAckTimeout(),onBye:r=>this.onByeRequest(r),onInfo:r=>this.onInfoRequest(r),onInvite:r=>this.onInviteRequest(r),onMessage:r=>this.onMessageRequest(r),onNotify:r=>this.onNotifyRequest(r),onPrack:r=>this.onPrackRequest(r),onRefer:r=>this.onReferRequest(r)},this._dialog=n,this.stateTransition(q.Established),this._replacee&&this._replacee._bye()}).catch(e=>this.handleResponseError(e))}progress(t={}){if(this.logger.log("Invitation.progress"),this.state!==q.Initial){const n=new Error(`Invalid session state ${this.state}`);return this.logger.error(n.message),Promise.reject(n)}const e=t.statusCode||180;if(e<100||e>199)throw new TypeError("Invalid statusCode: "+e);return t.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiers=t.sessionDescriptionHandlerModifiers),t.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptions=t.sessionDescriptionHandlerOptions),this.waitingForPrack?(this.logger.warn("Unexpected call for progress while waiting for prack, ignoring"),Promise.resolve()):t.statusCode===100?this.sendProgressTrying().then(()=>{}).catch(n=>this.handleResponseError(n)):this.rel100==="required"||this.rel100==="supported"&&t.rel100||this.rel100==="supported"&&this.userAgent.configuration.sipExtension100rel===un.Required?this.sendProgressReliableWaitForPrack(t).then(()=>{}).catch(n=>this.handleResponseError(n)):this.sendProgress(t).then(()=>{}).catch(n=>this.handleResponseError(n))}reject(t={}){if(this.logger.log("Invitation.reject"),this.state!==q.Initial&&this.state!==q.Establishing){const o=new Error(`Invalid session state ${this.state}`);return this.logger.error(o.message),Promise.reject(o)}const e=t.statusCode||480,n=t.reasonPhrase?t.reasonPhrase:Cc(e),r=t.extraHeaders||[];if(e<300||e>699)throw new TypeError("Invalid statusCode: "+e);const i=t.body?Dl(t.body):void 0;return e<400?this.incomingInviteRequest.redirect([],{statusCode:e,reasonPhrase:n,extraHeaders:r,body:i}):this.incomingInviteRequest.reject({statusCode:e,reasonPhrase:n,extraHeaders:r,body:i}),this.stateTransition(q.Terminated),Promise.resolve()}_onCancel(t){if(this.logger.log("Invitation._onCancel"),this.state===q.Initial||this.state===q.Establishing){if(this.delegate&&this.delegate.onCancel){const e=new jk(t);this.delegate.onCancel(e)}this.isCanceled=!0,this.incomingInviteRequest.reject({statusCode:487}),this.stateTransition(q.Terminated)}else this.logger.error(`CANCEL received while in state ${this.state}, dropping request`)}handlePrackOfferAnswer(t){if(!this.dialog)throw new Error("Dialog undefined.");const e=ms(t.message);if(!e||e.contentDisposition!=="session")return Promise.resolve(void 0);const n={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers};switch(this.dialog.signalingState){case Z.Initial:throw new Error(`Invalid signaling state ${this.dialog.signalingState}.`);case Z.Stable:return this.setAnswer(e,n).then(()=>{});case Z.HaveLocalOffer:throw new Error(`Invalid signaling state ${this.dialog.signalingState}.`);case Z.HaveRemoteOffer:return this.setOfferAndGetAnswer(e,n);case Z.Closed:default:throw new Error(`Invalid signaling state ${this.dialog.signalingState}.`)}}handleResponseError(t){let e=480;if(t instanceof Error?this.logger.error(t.message):this.logger.error(t),t instanceof Md?(this.logger.error("A session description handler occurred while sending response (content type unsupported"),e=415):t instanceof Ok?this.logger.error("A session description handler occurred while sending response"):t instanceof yu?this.logger.error("Session ended before response could be formulated and sent (while waiting for PRACK)"):t instanceof xr&&this.logger.error("Session changed state before response could be formulated and sent"),this.state===q.Initial||this.state===q.Establishing)try{this.incomingInviteRequest.reject({statusCode:e}),this.stateTransition(q.Terminated)}catch(n){throw this.logger.error("An error occurred attempting to reject the request while handling another error"),n}if(!this.isCanceled)throw t;this.logger.warn("An error occurred while attempting to formulate and send a response to an incoming INVITE. However a CANCEL was received and processed while doing so which can (and often does) result in errors occurring as the session terminates in the meantime. Said error is being ignored.")}onAckTimeout(){if(this.logger.log("Invitation.onAckTimeout"),!this.dialog)throw new Error("Dialog undefined.");this.logger.log("No ACK received for an extended period of time, terminating session"),this.dialog.bye(),this.stateTransition(q.Terminated)}sendAccept(t={}){const e={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers},n=t.extraHeaders||[];return this.waitingForPrack?this.waitForArrivalOfPrack().then(()=>clearTimeout(this.userNoAnswerTimer)).then(()=>this.generateResponseOfferAnswer(this.incomingInviteRequest,e)).then(r=>this.incomingInviteRequest.accept({statusCode:200,body:r,extraHeaders:n})):(clearTimeout(this.userNoAnswerTimer),this.generateResponseOfferAnswer(this.incomingInviteRequest,e).then(r=>this.incomingInviteRequest.accept({statusCode:200,body:r,extraHeaders:n})))}sendProgress(t={}){const e=t.statusCode||180,n=t.reasonPhrase,r=(t.extraHeaders||[]).slice(),i=t.body?Dl(t.body):void 0;if(e===183&&!i)return this.sendProgressWithSDP(t);try{const o=this.incomingInviteRequest.progress({statusCode:e,reasonPhrase:n,extraHeaders:r,body:i});return this._dialog=o.session,Promise.resolve(o)}catch(o){return Promise.reject(o)}}sendProgressWithSDP(t={}){const e={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers},n=t.statusCode||183,r=t.reasonPhrase,i=(t.extraHeaders||[]).slice();return this.generateResponseOfferAnswer(this.incomingInviteRequest,e).then(o=>this.incomingInviteRequest.progress({statusCode:n,reasonPhrase:r,extraHeaders:i,body:o})).then(o=>(this._dialog=o.session,o))}sendProgressReliable(t={}){return t.extraHeaders=(t.extraHeaders||[]).slice(),t.extraHeaders.push("Require: 100rel"),t.extraHeaders.push("RSeq: "+Math.floor(1e4*Math.random())),this.sendProgressWithSDP(t)}sendProgressReliableWaitForPrack(t={}){const e={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers},n=t.statusCode||183,r=t.reasonPhrase,i=(t.extraHeaders||[]).slice();let o;return i.push("Require: 100rel"),i.push("RSeq: "+this.rseq++),new Promise((s,a)=>{this.waitingForPrack=!0,this.generateResponseOfferAnswer(this.incomingInviteRequest,e).then(l=>(o=l,this.incomingInviteRequest.progress({statusCode:n,reasonPhrase:r,extraHeaders:i,body:o}))).then(l=>{let c,u;this._dialog=l.session,l.session.delegate={onPrack:v=>{c=v,clearTimeout(d),clearTimeout(y),this.waitingForPrack&&(this.waitingForPrack=!1,this.handlePrackOfferAnswer(c).then(b=>{try{u=c.accept({statusCode:200,body:b}),this.prackArrived(),s({prackRequest:c,prackResponse:u,progressResponse:l})}catch(f){a(f)}}).catch(b=>a(b)))}};const d=setTimeout(()=>{this.waitingForPrack&&(this.waitingForPrack=!1,this.logger.warn("No PRACK received, rejecting INVITE."),clearTimeout(y),this.reject({statusCode:504}).then(()=>a(new yu)).catch(v=>a(v)))},64*dt.T1),p=()=>{try{this.incomingInviteRequest.progress({statusCode:n,reasonPhrase:r,extraHeaders:i,body:o})}catch(v){return this.waitingForPrack=!1,void a(v)}y=setTimeout(p,g*=2)};let g=dt.T1,y=setTimeout(p,g)}).catch(l=>{this.waitingForPrack=!1,a(l)})})}sendProgressTrying(){try{const t=this.incomingInviteRequest.trying();return Promise.resolve(t)}catch(t){return Promise.reject(t)}}waitForArrivalOfPrack(){if(this.waitingForPrackPromise)throw new Error("Already waiting for PRACK");return this.waitingForPrackPromise=new Promise((t,e)=>{this.waitingForPrackResolve=t,this.waitingForPrackReject=e}),this.waitingForPrackPromise}prackArrived(){this.waitingForPrackResolve&&this.waitingForPrackResolve(),this.waitingForPrackPromise=void 0,this.waitingForPrackResolve=void 0,this.waitingForPrackReject=void 0}prackNeverArrived(){this.waitingForPrackReject&&this.waitingForPrackReject(new yu),this.waitingForPrackPromise=void 0,this.waitingForPrackResolve=void 0,this.waitingForPrackReject=void 0}},Yw=class extends Fs{constructor(t,e,n={}){super(t,n),this.disposed=!1,this.earlyMedia=!1,this.earlyMediaSessionDescriptionHandlers=new Map,this.isCanceled=!1,this.inviteWithoutSdp=!1,this.logger=t.getLogger("sip.Inviter"),this.earlyMedia=n.earlyMedia!==void 0?n.earlyMedia:this.earlyMedia,this.fromTag=Tc(),this.inviteWithoutSdp=n.inviteWithoutSdp!==void 0?n.inviteWithoutSdp:this.inviteWithoutSdp;const r=Object.assign({},n);r.params=Object.assign({},n.params);const i=n.anonymous||!1,o=t.contact.toString({anonymous:i,outbound:i?!t.contact.tempGruu:!t.contact.pubGruu});i&&t.configuration.uri&&(r.params.fromDisplayName="Anonymous",r.params.fromUri="sip:anonymous@anonymous.invalid");let s=t.userAgentCore.configuration.aor;if(r.params.fromUri&&(s=typeof r.params.fromUri=="string"?ot.URIParse(r.params.fromUri):r.params.fromUri),!s)throw new TypeError("Invalid from URI: "+r.params.fromUri);let a=e;if(r.params.toUri&&(a=typeof r.params.toUri=="string"?ot.URIParse(r.params.toUri):r.params.toUri),!a)throw new TypeError("Invalid to URI: "+r.params.toUri);const l=Object.assign({},r.params);l.fromTag=this.fromTag;const c=(r.extraHeaders||[]).slice();i&&t.configuration.uri&&(c.push("P-Preferred-Identity: "+t.configuration.uri.toString()),c.push("Privacy: id")),c.push("Contact: "+o),c.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),t.configuration.sipExtension100rel===un.Required&&c.push("Require: 100rel"),t.configuration.sipExtensionReplaces===un.Required&&c.push("Require: replaces"),r.extraHeaders=c,this.outgoingRequestMessage=t.userAgentCore.makeOutgoingRequestMessage(ee.INVITE,e,s,a,l,c,void 0),this._contact=o,this._referralInviterOptions=r,this._renderbody=n.renderbody,this._rendertype=n.rendertype,n.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiers=n.sessionDescriptionHandlerModifiers),n.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptions=n.sessionDescriptionHandlerOptions),n.sessionDescriptionHandlerModifiersReInvite&&(this.sessionDescriptionHandlerModifiersReInvite=n.sessionDescriptionHandlerModifiersReInvite),n.sessionDescriptionHandlerOptionsReInvite&&(this.sessionDescriptionHandlerOptionsReInvite=n.sessionDescriptionHandlerOptionsReInvite),this._id=this.outgoingRequestMessage.callId+this.fromTag,this.userAgent._sessions[this._id]=this}dispose(){if(this.disposed)return Promise.resolve();switch(this.disposed=!0,this.disposeEarlyMedia(),this.state){case q.Initial:case q.Establishing:return this.cancel().then(()=>super.dispose());case q.Established:case q.Terminating:case q.Terminated:return super.dispose();default:throw new Error("Unknown state.")}}get body(){return this.outgoingRequestMessage.body}get localIdentity(){return this.outgoingRequestMessage.from}get remoteIdentity(){return this.outgoingRequestMessage.to}get request(){return this.outgoingRequestMessage}cancel(t={}){if(this.logger.log("Inviter.cancel"),this.state!==q.Initial&&this.state!==q.Establishing){const e=new Error(`Invalid session state ${this.state}`);return this.logger.error(e.message),Promise.reject(e)}if(this.isCanceled=!0,this.stateTransition(q.Terminating),this.outgoingInviteRequest){let e;t.statusCode&&t.reasonPhrase&&(e=function(n,r){if(n&&n<200||n>699)throw new TypeError("Invalid statusCode: "+n);if(n)return"SIP;cause="+n+';text="'+(Cc(n)||r)+'"'}(t.statusCode,t.reasonPhrase)),this.outgoingInviteRequest.cancel(e,t)}else this.logger.warn("Canceled session before INVITE was sent"),this.stateTransition(q.Terminated);return Promise.resolve()}invite(t={}){if(this.logger.log("Inviter.invite"),this.state!==q.Initial)return super.invite(t);if(t.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiers=t.sessionDescriptionHandlerModifiers),t.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptions=t.sessionDescriptionHandlerOptions),t.withoutSdp||this.inviteWithoutSdp)return this._renderbody&&this._rendertype&&(this.outgoingRequestMessage.body={contentType:this._rendertype,body:this._renderbody}),this.stateTransition(q.Establishing),Promise.resolve(this.sendInvite(t));const e={sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers,sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions};return this.getOffer(e).then(n=>(this.outgoingRequestMessage.body={body:n.content,contentType:n.contentType},this.stateTransition(q.Establishing),this.sendInvite(t))).catch(n=>{throw this.logger.log(n.message),this.state!==q.Terminated&&this.stateTransition(q.Terminated),n})}sendInvite(t={}){return this.outgoingInviteRequest=this.userAgent.userAgentCore.invite(this.outgoingRequestMessage,{onAccept:e=>this.dialog?(this.logger.log("Additional confirmed dialog, sending ACK and BYE"),void this.ackAndBye(e)):this.isCanceled?(this.logger.log("Canceled session accepted, sending ACK and BYE"),this.ackAndBye(e),void this.stateTransition(q.Terminated)):(this.notifyReferer(e),void this.onAccept(e).then(()=>{this.disposeEarlyMedia()}).catch(()=>{this.disposeEarlyMedia()}).then(()=>{t.requestDelegate&&t.requestDelegate.onAccept&&t.requestDelegate.onAccept(e)})),onProgress:e=>{this.isCanceled||(this.notifyReferer(e),this.onProgress(e).catch(()=>{this.disposeEarlyMedia()}).then(()=>{t.requestDelegate&&t.requestDelegate.onProgress&&t.requestDelegate.onProgress(e)}))},onRedirect:e=>{this.notifyReferer(e),this.onRedirect(e),t.requestDelegate&&t.requestDelegate.onRedirect&&t.requestDelegate.onRedirect(e)},onReject:e=>{this.notifyReferer(e),this.onReject(e),t.requestDelegate&&t.requestDelegate.onReject&&t.requestDelegate.onReject(e)},onTrying:e=>{this.notifyReferer(e),this.onTrying(e),t.requestDelegate&&t.requestDelegate.onTrying&&t.requestDelegate.onTrying(e)}}),this.outgoingInviteRequest}disposeEarlyMedia(){this.earlyMediaSessionDescriptionHandlers.forEach(t=>{t.close()}),this.earlyMediaSessionDescriptionHandlers.clear()}notifyReferer(t){if(!this._referred)return;if(!(this._referred instanceof Fs))throw new Error("Referred session not instance of session");if(!this._referred.dialog)return;if(!t.message.statusCode)throw new Error("Status code undefined.");if(!t.message.reasonPhrase)throw new Error("Reason phrase undefined.");const e=`SIP/2.0 ${t.message.statusCode} ${t.message.reasonPhrase}`.trim();this._referred.dialog.notify(void 0,{extraHeaders:["Event: refer","Subscription-State: terminated"],body:{contentDisposition:"render",contentType:"message/sipfrag",content:e}}).delegate={onReject:()=>{this._referred=void 0}}}onAccept(t){if(this.logger.log("Inviter.onAccept"),this.state!==q.Establishing)return this.logger.error(`Accept received while in state ${this.state}, dropping response`),Promise.reject(new Error(`Invalid session state ${this.state}`));const e=t.message,n=t.session;switch(e.hasHeader("P-Asserted-Identity")&&(this._assertedIdentity=ot.nameAddrHeaderParse(e.getHeader("P-Asserted-Identity"))),n.delegate={onAck:r=>this.onAckRequest(r),onBye:r=>this.onByeRequest(r),onInfo:r=>this.onInfoRequest(r),onInvite:r=>this.onInviteRequest(r),onMessage:r=>this.onMessageRequest(r),onNotify:r=>this.onNotifyRequest(r),onPrack:r=>this.onPrackRequest(r),onRefer:r=>this.onReferRequest(r)},this._dialog=n,n.signalingState){case Z.Initial:case Z.HaveLocalOffer:return this.logger.error("Received 2xx response to INVITE without a session description"),this.ackAndBye(t,400,"Missing session description"),this.stateTransition(q.Terminated),Promise.reject(new Error("Bad Media Description"));case Z.HaveRemoteOffer:{if(!this._dialog.offer)throw new Error(`Session offer undefined in signaling state ${this._dialog.signalingState}.`);const r={sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers,sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions};return this.setOfferAndGetAnswer(this._dialog.offer,r).then(i=>{t.ack({body:i}),this.stateTransition(q.Established)}).catch(i=>{throw this.ackAndBye(t,488,"Invalid session description"),this.stateTransition(q.Terminated),i})}case Z.Stable:{if(this.earlyMediaSessionDescriptionHandlers.size>0){const o=this.earlyMediaSessionDescriptionHandlers.get(n.id);if(!o)throw new Error("Session description handler undefined.");return this.setSessionDescriptionHandler(o),this.earlyMediaSessionDescriptionHandlers.delete(n.id),t.ack(),this.stateTransition(q.Established),Promise.resolve()}if(this.earlyMediaDialog){if(this.earlyMediaDialog!==n){if(this.earlyMedia){const s="You have set the 'earlyMedia' option to 'true' which requires that your INVITE requests do not fork and yet this INVITE request did in fact fork. Consequentially and not surprisingly the end point which accepted the INVITE (confirmed dialog) does not match the end point with which early media has been setup (early dialog) and thus this session is unable to proceed. In accordance with the SIP specifications, the SIP servers your end point is connected to determine if an INVITE forks and the forking behavior of those servers cannot be controlled by this library. If you wish to use early media with this library you must configure those servers accordingly. Alternatively you may set the 'earlyMedia' to 'false' which will allow this library to function with any INVITE requests which do fork.";this.logger.error(s)}const o=new Error("Early media dialog does not equal confirmed dialog, terminating session");return this.logger.error(o.message),this.ackAndBye(t,488,"Not Acceptable Here"),this.stateTransition(q.Terminated),Promise.reject(o)}return t.ack(),this.stateTransition(q.Established),Promise.resolve()}const r=n.answer;if(!r)throw new Error("Answer is undefined.");const i={sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers,sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions};return this.setAnswer(r,i).then(()=>{let o;this._renderbody&&this._rendertype&&(o={body:{contentDisposition:"render",contentType:this._rendertype,content:this._renderbody}}),t.ack(o),this.stateTransition(q.Established)}).catch(o=>{throw this.logger.error(o.message),this.ackAndBye(t,488,"Not Acceptable Here"),this.stateTransition(q.Terminated),o})}case Z.Closed:return Promise.reject(new Error("Terminated."));default:throw new Error("Unknown session signaling state.")}}onProgress(t){var e;if(this.logger.log("Inviter.onProgress"),this.state!==q.Establishing)return this.logger.error(`Progress received while in state ${this.state}, dropping response`),Promise.reject(new Error(`Invalid session state ${this.state}`));if(!this.outgoingInviteRequest)throw new Error("Outgoing INVITE request undefined.");const n=t.message,r=t.session;n.hasHeader("P-Asserted-Identity")&&(this._assertedIdentity=ot.nameAddrHeaderParse(n.getHeader("P-Asserted-Identity")));const i=n.getHeader("require"),o=n.getHeader("rseq"),s=!!(i&&i.includes("100rel")&&o&&Number(o)),a=[];switch(s&&a.push("RAck: "+n.getHeader("rseq")+" "+n.getHeader("cseq")),r.signalingState){case Z.Initial:return s&&(this.logger.warn("First reliable provisional response received MUST contain an offer when INVITE does not contain an offer."),t.prack({extraHeaders:a})),Promise.resolve();case Z.HaveLocalOffer:return s&&t.prack({extraHeaders:a}),Promise.resolve();case Z.HaveRemoteOffer:if(!s)return this.logger.warn("Non-reliable provisional response MUST NOT contain an initial offer, discarding response."),Promise.resolve();{const l=this.sessionDescriptionHandlerFactory(this,this.userAgent.configuration.sessionDescriptionHandlerFactoryOptions||{});return!((e=this.delegate)===null||e===void 0)&&e.onSessionDescriptionHandler&&this.delegate.onSessionDescriptionHandler(l,!0),this.earlyMediaSessionDescriptionHandlers.set(r.id,l),l.setDescription(n.body,this.sessionDescriptionHandlerOptions,this.sessionDescriptionHandlerModifiers).then(()=>l.getDescription(this.sessionDescriptionHandlerOptions,this.sessionDescriptionHandlerModifiers)).then(c=>{const u={contentDisposition:"session",contentType:c.contentType,content:c.body};t.prack({extraHeaders:a,body:u})}).catch(c=>{throw this.stateTransition(q.Terminated),c})}case Z.Stable:if(s&&t.prack({extraHeaders:a}),this.earlyMedia&&!this.earlyMediaDialog){this.earlyMediaDialog=r;const l=r.answer;if(!l)throw new Error("Answer is undefined.");const c={sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers,sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions};return this.setAnswer(l,c).catch(u=>{throw this.stateTransition(q.Terminated),u})}return Promise.resolve();case Z.Closed:return Promise.reject(new Error("Terminated."));default:throw new Error("Unknown session signaling state.")}}onRedirect(t){this.logger.log("Inviter.onRedirect"),this.state===q.Establishing||this.state===q.Terminating?this.stateTransition(q.Terminated):this.logger.error(`Redirect received while in state ${this.state}, dropping response`)}onReject(t){this.logger.log("Inviter.onReject"),this.state===q.Establishing||this.state===q.Terminating?this.stateTransition(q.Terminated):this.logger.error(`Reject received while in state ${this.state}, dropping response`)}onTrying(t){this.logger.log("Inviter.onTrying"),this.state===q.Establishing||this.logger.error(`Trying received while in state ${this.state}, dropping response`)}};var xe,Ie,ce,vt,ut;(function(t){t.Initial="Initial",t.Registered="Registered",t.Unregistered="Unregistered",t.Terminated="Terminated"})(xe=xe||(xe={}));class Hn{constructor(e,n={}){this.disposed=!1,this._contacts=[],this._retryAfter=void 0,this._state=xe.Initial,this._waiting=!1,this._stateEventEmitter=new Hs,this._waitingEventEmitter=new Hs,this.userAgent=e;const r=e.configuration.uri.clone();if(r.user=void 0,this.options=Object.assign(Object.assign(Object.assign({},Hn.defaultOptions()),{registrar:r}),Hn.stripUndefinedProperties(n)),this.options.extraContactHeaderParams=(this.options.extraContactHeaderParams||[]).slice(),this.options.extraHeaders=(this.options.extraHeaders||[]).slice(),!this.options.registrar)throw new Error("Registrar undefined.");if(this.options.registrar=this.options.registrar.clone(),this.options.regId&&!this.options.instanceId?this.options.instanceId=this.userAgent.instanceId:!this.options.regId&&this.options.instanceId&&(this.options.regId=1),this.options.instanceId&&ot.parse(this.options.instanceId,"uuid")===-1)throw new Error("Invalid instanceId.");if(this.options.regId&&this.options.regId<0)throw new Error("Invalid regId.");const i=this.options.registrar,o=this.options.params&&this.options.params.fromUri||e.userAgentCore.configuration.aor,s=this.options.params&&this.options.params.toUri||e.configuration.uri,a=this.options.params||{},l=(n.extraHeaders||[]).slice();if(this.request=e.userAgentCore.makeOutgoingRequestMessage(ee.REGISTER,i,o,s,a,l,void 0),this.expires=this.options.expires||Hn.defaultExpires,this.expires<0)throw new Error("Invalid expires.");if(this.refreshFrequency=this.options.refreshFrequency||Hn.defaultRefreshFrequency,this.refreshFrequency<50||this.refreshFrequency>99)throw new Error("Invalid refresh frequency. The value represents a percentage of the expiration time and should be between 50 and 99.");this.logger=e.getLogger("sip.Registerer"),this.options.logConfiguration&&(this.logger.log("Configuration:"),Object.keys(this.options).forEach(c=>{const u=this.options[c];c==="registrar"?this.logger.log("· "+c+": "+u):this.logger.log("· "+c+": "+JSON.stringify(u))})),this.id=this.request.callId+this.request.from.parameters.tag,this.userAgent._registerers[this.id]=this}static defaultOptions(){return{expires:Hn.defaultExpires,extraContactHeaderParams:[],extraHeaders:[],logConfiguration:!0,instanceId:"",params:{},regId:0,registrar:new Bn("sip","anonymous","anonymous.invalid"),refreshFrequency:Hn.defaultRefreshFrequency}}static stripUndefinedProperties(e){return Object.keys(e).reduce((n,r)=>(e[r]!==void 0&&(n[r]=e[r]),n),{})}get contacts(){return this._contacts.slice()}get retryAfter(){return this._retryAfter}get state(){return this._state}get stateChange(){return this._stateEventEmitter}dispose(){return this.disposed?Promise.resolve():(this.disposed=!0,this.logger.log(`Registerer ${this.id} in state ${this.state} is being disposed`),delete this.userAgent._registerers[this.id],new Promise(e=>{const n=()=>{if(!this.waiting&&this._state===xe.Registered)return this.stateChange.addListener(()=>{this.terminated(),e()},{once:!0}),void this.unregister();this.terminated(),e()};this.waiting?this.waitingChange.addListener(()=>{n()},{once:!0}):n()}))}register(e={}){if(this.state===xe.Terminated)throw this.stateError(),new Error("Registerer terminated. Unable to register.");if(this.disposed)throw this.stateError(),new Error("Registerer disposed. Unable to register.");if(this.waiting){this.waitingWarning();const i=new Od("REGISTER request already in progress, waiting for final response");return Promise.reject(i)}e.requestOptions&&(this.options=Object.assign(Object.assign({},this.options),e.requestOptions));const n=(this.options.extraHeaders||[]).slice();n.push("Contact: "+this.generateContactHeader(this.expires)),n.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),this.request.cseq++,this.request.setHeader("cseq",this.request.cseq+" REGISTER"),this.request.extraHeaders=n,this.waitingToggle(!0);const r=this.userAgent.userAgentCore.register(this.request,{onAccept:i=>{let o;i.message.hasHeader("expires")&&(o=Number(i.message.getHeader("expires"))),this._contacts=i.message.getHeaders("contact");let s,a=this._contacts.length;if(!a)return this.logger.error("No Contact header in response to REGISTER, dropping response."),void this.unregistered();for(;a--;){if(s=i.message.parseHeader("contact",a),!s)throw new Error("Contact undefined");if(this.userAgent.contact.pubGruu&&lm(s.uri,this.userAgent.contact.pubGruu)){o=Number(s.getParam("expires"));break}if(this.userAgent.configuration.contactName===""){if(s.uri.user===this.userAgent.contact.uri.user){o=Number(s.getParam("expires"));break}}else if(lm(s.uri,this.userAgent.contact.uri)){o=Number(s.getParam("expires"));break}s=void 0}if(s===void 0)return this.logger.error("No Contact header pointing to us, dropping response"),this.unregistered(),void this.waitingToggle(!1);if(o===void 0)return this.logger.error("Contact pointing to us is missing expires parameter, dropping response"),this.unregistered(),void this.waitingToggle(!1);if(s.hasParam("temp-gruu")){const l=s.getParam("temp-gruu");l&&(this.userAgent.contact.tempGruu=ot.URIParse(l.replace(/"/g,"")))}if(s.hasParam("pub-gruu")){const l=s.getParam("pub-gruu");l&&(this.userAgent.contact.pubGruu=ot.URIParse(l.replace(/"/g,"")))}this.registered(o),e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(i),this.waitingToggle(!1)},onProgress:i=>{e.requestDelegate&&e.requestDelegate.onProgress&&e.requestDelegate.onProgress(i)},onRedirect:i=>{this.logger.error("Redirect received. Not supported."),this.unregistered(),e.requestDelegate&&e.requestDelegate.onRedirect&&e.requestDelegate.onRedirect(i),this.waitingToggle(!1)},onReject:i=>{if(i.message.statusCode===423)return i.message.hasHeader("min-expires")?(this.expires=Number(i.message.getHeader("min-expires")),this.waitingToggle(!1),void this.register()):(this.logger.error("423 response received for REGISTER without Min-Expires, dropping response"),this.unregistered(),void this.waitingToggle(!1));this.logger.warn(`Failed to register, status code ${i.message.statusCode}`);let o=NaN;if(i.message.statusCode===500||i.message.statusCode===503){const s=i.message.getHeader("retry-after");s&&(o=Number.parseInt(s,void 0))}this._retryAfter=isNaN(o)?void 0:o,this.unregistered(),e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(i),this._retryAfter=void 0,this.waitingToggle(!1)},onTrying:i=>{e.requestDelegate&&e.requestDelegate.onTrying&&e.requestDelegate.onTrying(i)}});return Promise.resolve(r)}unregister(e={}){if(this.state===xe.Terminated)throw this.stateError(),new Error("Registerer terminated. Unable to register.");if(this.disposed&&this.state!==xe.Registered)throw this.stateError(),new Error("Registerer disposed. Unable to register.");if(this.waiting){this.waitingWarning();const i=new Od("REGISTER request already in progress, waiting for final response");return Promise.reject(i)}this._state===xe.Registered||e.all||this.logger.warn("Not currently registered, but sending an unregister anyway.");const n=(e.requestOptions&&e.requestOptions.extraHeaders||[]).slice();this.request.extraHeaders=n,e.all?(n.push("Contact: *"),n.push("Expires: 0")):n.push("Contact: "+this.generateContactHeader(0)),this.request.cseq++,this.request.setHeader("cseq",this.request.cseq+" REGISTER"),this.registrationTimer!==void 0&&(clearTimeout(this.registrationTimer),this.registrationTimer=void 0),this.waitingToggle(!0);const r=this.userAgent.userAgentCore.register(this.request,{onAccept:i=>{this._contacts=i.message.getHeaders("contact"),this.unregistered(),e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(i),this.waitingToggle(!1)},onProgress:i=>{e.requestDelegate&&e.requestDelegate.onProgress&&e.requestDelegate.onProgress(i)},onRedirect:i=>{this.logger.error("Unregister redirected. Not currently supported."),this.unregistered(),e.requestDelegate&&e.requestDelegate.onRedirect&&e.requestDelegate.onRedirect(i),this.waitingToggle(!1)},onReject:i=>{this.logger.error(`Unregister rejected with status code ${i.message.statusCode}`),this.unregistered(),e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(i),this.waitingToggle(!1)},onTrying:i=>{e.requestDelegate&&e.requestDelegate.onTrying&&e.requestDelegate.onTrying(i)}});return Promise.resolve(r)}clearTimers(){this.registrationTimer!==void 0&&(clearTimeout(this.registrationTimer),this.registrationTimer=void 0),this.registrationExpiredTimer!==void 0&&(clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=void 0)}generateContactHeader(e){let n=this.userAgent.contact.toString({register:!0});return this.options.regId&&this.options.instanceId&&(n+=";reg-id="+this.options.regId,n+=';+sip.instance="<urn:uuid:'+this.options.instanceId+'>"'),this.options.extraContactHeaderParams&&this.options.extraContactHeaderParams.forEach(r=>{n+=";"+r}),n+=";expires="+e,n}registered(e){this.clearTimers(),this.registrationTimer=setTimeout(()=>{this.registrationTimer=void 0,this.register()},this.refreshFrequency/100*e*1e3),this.registrationExpiredTimer=setTimeout(()=>{this.logger.warn("Registration expired"),this.unregistered()},1e3*e),this._state!==xe.Registered&&this.stateTransition(xe.Registered)}unregistered(){this.clearTimers(),this._state!==xe.Unregistered&&this.stateTransition(xe.Unregistered)}terminated(){this.clearTimers(),this._state!==xe.Terminated&&this.stateTransition(xe.Terminated)}stateTransition(e){const n=()=>{throw new Error(`Invalid state transition from ${this._state} to ${e}`)};switch(this._state){case xe.Initial:e!==xe.Registered&&e!==xe.Unregistered&&e!==xe.Terminated&&n();break;case xe.Registered:e!==xe.Unregistered&&e!==xe.Terminated&&n();break;case xe.Unregistered:e!==xe.Registered&&e!==xe.Terminated&&n();break;case xe.Terminated:n();break;default:throw new Error("Unrecognized state.")}this._state=e,this.logger.log(`Registration transitioned to state ${this._state}`),this._stateEventEmitter.emit(this._state),e===xe.Terminated&&this.dispose()}get waiting(){return this._waiting}get waitingChange(){return this._waitingEventEmitter}waitingToggle(e){if(this._waiting===e)throw new Error(`Invalid waiting transition from ${this._waiting} to ${e}`);this._waiting=e,this.logger.log(`Waiting toggled to ${this._waiting}`),this._waitingEventEmitter.emit(this._waiting)}waitingWarning(){this.logger.warn("An attempt was made to send a REGISTER request while a prior one was still in progress. RFC 3261 requires UAs MUST NOT send a new registration until they have received a final response from the registrar for the previous one or the previous REGISTER request has timed out. Note that if the transport disconnects, you still must wait for the prior request to time out before sending a new REGISTER request or alternatively dispose of the current Registerer and create a new Registerer.")}stateError(){let e=`An attempt was made to send a REGISTER request when the Registerer ${this.state===xe.Terminated?"is in 'Terminated' state":"has been disposed"}.`;e+=" The Registerer transitions to 'Terminated' when Registerer.dispose() is called.",e+=" Perhaps you called UserAgent.stop() which dipsoses of all Registerers?",this.logger.error(e)}}Hn.defaultExpires=600,Hn.defaultRefreshFrequency=99,function(t){t.Initial="Initial",t.NotifyWait="NotifyWait",t.Pending="Pending",t.Active="Active",t.Terminated="Terminated"}(Ie=Ie||(Ie={})),function(t){t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Disconnected="Disconnected"}(ce=ce||(ce={})),function(t){t.Started="Started",t.Stopped="Stopped"}(vt=vt||(vt={}));class tt{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(e,n=!1){return this.onePassHasher.start().appendStr(e).end(n)}static hashAsciiStr(e,n=!1){return this.onePassHasher.start().appendAsciiStr(e).end(n)}static _hex(e){const n=tt.hexChars,r=tt.hexOut;let i,o,s,a;for(a=0;a<4;a+=1)for(o=8*a,i=e[a],s=0;s<8;s+=2)r[o+1+s]=n.charAt(15&i),i>>>=4,r[o+0+s]=n.charAt(15&i),i>>>=4;return r.join("")}static _md5cycle(e,n){let r=e[0],i=e[1],o=e[2],s=e[3];r+=(i&o|~i&s)+n[0]-680876936|0,r=(r<<7|r>>>25)+i|0,s+=(r&i|~r&o)+n[1]-389564586|0,s=(s<<12|s>>>20)+r|0,o+=(s&r|~s&i)+n[2]+606105819|0,o=(o<<17|o>>>15)+s|0,i+=(o&s|~o&r)+n[3]-1044525330|0,i=(i<<22|i>>>10)+o|0,r+=(i&o|~i&s)+n[4]-176418897|0,r=(r<<7|r>>>25)+i|0,s+=(r&i|~r&o)+n[5]+1200080426|0,s=(s<<12|s>>>20)+r|0,o+=(s&r|~s&i)+n[6]-1473231341|0,o=(o<<17|o>>>15)+s|0,i+=(o&s|~o&r)+n[7]-45705983|0,i=(i<<22|i>>>10)+o|0,r+=(i&o|~i&s)+n[8]+1770035416|0,r=(r<<7|r>>>25)+i|0,s+=(r&i|~r&o)+n[9]-1958414417|0,s=(s<<12|s>>>20)+r|0,o+=(s&r|~s&i)+n[10]-42063|0,o=(o<<17|o>>>15)+s|0,i+=(o&s|~o&r)+n[11]-1990404162|0,i=(i<<22|i>>>10)+o|0,r+=(i&o|~i&s)+n[12]+1804603682|0,r=(r<<7|r>>>25)+i|0,s+=(r&i|~r&o)+n[13]-40341101|0,s=(s<<12|s>>>20)+r|0,o+=(s&r|~s&i)+n[14]-1502002290|0,o=(o<<17|o>>>15)+s|0,i+=(o&s|~o&r)+n[15]+1236535329|0,i=(i<<22|i>>>10)+o|0,r+=(i&s|o&~s)+n[1]-165796510|0,r=(r<<5|r>>>27)+i|0,s+=(r&o|i&~o)+n[6]-1069501632|0,s=(s<<9|s>>>23)+r|0,o+=(s&i|r&~i)+n[11]+643717713|0,o=(o<<14|o>>>18)+s|0,i+=(o&r|s&~r)+n[0]-373897302|0,i=(i<<20|i>>>12)+o|0,r+=(i&s|o&~s)+n[5]-701558691|0,r=(r<<5|r>>>27)+i|0,s+=(r&o|i&~o)+n[10]+38016083|0,s=(s<<9|s>>>23)+r|0,o+=(s&i|r&~i)+n[15]-660478335|0,o=(o<<14|o>>>18)+s|0,i+=(o&r|s&~r)+n[4]-405537848|0,i=(i<<20|i>>>12)+o|0,r+=(i&s|o&~s)+n[9]+568446438|0,r=(r<<5|r>>>27)+i|0,s+=(r&o|i&~o)+n[14]-1019803690|0,s=(s<<9|s>>>23)+r|0,o+=(s&i|r&~i)+n[3]-187363961|0,o=(o<<14|o>>>18)+s|0,i+=(o&r|s&~r)+n[8]+1163531501|0,i=(i<<20|i>>>12)+o|0,r+=(i&s|o&~s)+n[13]-1444681467|0,r=(r<<5|r>>>27)+i|0,s+=(r&o|i&~o)+n[2]-51403784|0,s=(s<<9|s>>>23)+r|0,o+=(s&i|r&~i)+n[7]+1735328473|0,o=(o<<14|o>>>18)+s|0,i+=(o&r|s&~r)+n[12]-1926607734|0,i=(i<<20|i>>>12)+o|0,r+=(i^o^s)+n[5]-378558|0,r=(r<<4|r>>>28)+i|0,s+=(r^i^o)+n[8]-2022574463|0,s=(s<<11|s>>>21)+r|0,o+=(s^r^i)+n[11]+1839030562|0,o=(o<<16|o>>>16)+s|0,i+=(o^s^r)+n[14]-35309556|0,i=(i<<23|i>>>9)+o|0,r+=(i^o^s)+n[1]-1530992060|0,r=(r<<4|r>>>28)+i|0,s+=(r^i^o)+n[4]+1272893353|0,s=(s<<11|s>>>21)+r|0,o+=(s^r^i)+n[7]-155497632|0,o=(o<<16|o>>>16)+s|0,i+=(o^s^r)+n[10]-1094730640|0,i=(i<<23|i>>>9)+o|0,r+=(i^o^s)+n[13]+681279174|0,r=(r<<4|r>>>28)+i|0,s+=(r^i^o)+n[0]-358537222|0,s=(s<<11|s>>>21)+r|0,o+=(s^r^i)+n[3]-722521979|0,o=(o<<16|o>>>16)+s|0,i+=(o^s^r)+n[6]+76029189|0,i=(i<<23|i>>>9)+o|0,r+=(i^o^s)+n[9]-640364487|0,r=(r<<4|r>>>28)+i|0,s+=(r^i^o)+n[12]-421815835|0,s=(s<<11|s>>>21)+r|0,o+=(s^r^i)+n[15]+530742520|0,o=(o<<16|o>>>16)+s|0,i+=(o^s^r)+n[2]-995338651|0,i=(i<<23|i>>>9)+o|0,r+=(o^(i|~s))+n[0]-198630844|0,r=(r<<6|r>>>26)+i|0,s+=(i^(r|~o))+n[7]+1126891415|0,s=(s<<10|s>>>22)+r|0,o+=(r^(s|~i))+n[14]-1416354905|0,o=(o<<15|o>>>17)+s|0,i+=(s^(o|~r))+n[5]-57434055|0,i=(i<<21|i>>>11)+o|0,r+=(o^(i|~s))+n[12]+1700485571|0,r=(r<<6|r>>>26)+i|0,s+=(i^(r|~o))+n[3]-1894986606|0,s=(s<<10|s>>>22)+r|0,o+=(r^(s|~i))+n[10]-1051523|0,o=(o<<15|o>>>17)+s|0,i+=(s^(o|~r))+n[1]-2054922799|0,i=(i<<21|i>>>11)+o|0,r+=(o^(i|~s))+n[8]+1873313359|0,r=(r<<6|r>>>26)+i|0,s+=(i^(r|~o))+n[15]-30611744|0,s=(s<<10|s>>>22)+r|0,o+=(r^(s|~i))+n[6]-1560198380|0,o=(o<<15|o>>>17)+s|0,i+=(s^(o|~r))+n[13]+1309151649|0,i=(i<<21|i>>>11)+o|0,r+=(o^(i|~s))+n[4]-145523070|0,r=(r<<6|r>>>26)+i|0,s+=(i^(r|~o))+n[11]-1120210379|0,s=(s<<10|s>>>22)+r|0,o+=(r^(s|~i))+n[2]+718787259|0,o=(o<<15|o>>>17)+s|0,i+=(s^(o|~r))+n[9]-343485551|0,i=(i<<21|i>>>11)+o|0,e[0]=r+e[0]|0,e[1]=i+e[1]|0,e[2]=o+e[2]|0,e[3]=s+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(tt.stateIdentity),this}appendStr(e){const n=this._buffer8,r=this._buffer32;let i,o,s=this._bufferLength;for(o=0;o<e.length;o+=1){if(i=e.charCodeAt(o),i<128)n[s++]=i;else if(i<2048)n[s++]=192+(i>>>6),n[s++]=63&i|128;else if(i<55296||i>56319)n[s++]=224+(i>>>12),n[s++]=i>>>6&63|128,n[s++]=63&i|128;else{if(i=1024*(i-55296)+(e.charCodeAt(++o)-56320)+65536,i>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[s++]=240+(i>>>18),n[s++]=i>>>12&63|128,n[s++]=i>>>6&63|128,n[s++]=63&i|128}s>=64&&(this._dataLength+=64,tt._md5cycle(this._state,r),s-=64,r[0]=r[16])}return this._bufferLength=s,this}appendAsciiStr(e){const n=this._buffer8,r=this._buffer32;let i,o=this._bufferLength,s=0;for(;;){for(i=Math.min(e.length-s,64-o);i--;)n[o++]=e.charCodeAt(s++);if(o<64)break;this._dataLength+=64,tt._md5cycle(this._state,r),o=0}return this._bufferLength=o,this}appendByteArray(e){const n=this._buffer8,r=this._buffer32;let i,o=this._bufferLength,s=0;for(;;){for(i=Math.min(e.length-s,64-o);i--;)n[o++]=e[s++];if(o<64)break;this._dataLength+=64,tt._md5cycle(this._state,r),o=0}return this._bufferLength=o,this}getState(){const e=this,n=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[n[0],n[1],n[2],n[3]]}}setState(e){const n=e.buffer,r=e.state,i=this._state;let o;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],o=0;o<n.length;o+=1)this._buffer8[o]=n.charCodeAt(o)}end(e=!1){const n=this._bufferLength,r=this._buffer8,i=this._buffer32,o=1+(n>>2);let s;if(this._dataLength+=n,r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,i.set(tt.buffer32Identity.subarray(o),o),n>55&&(tt._md5cycle(this._state,i),i.set(tt.buffer32Identity)),s=8*this._dataLength,s<=4294967295)i[14]=s;else{const a=s.toString(16).match(/(.*?)(.{0,8})$/);if(a===null)return;const l=parseInt(a[2],16),c=parseInt(a[1],16)||0;i[14]=l,i[15]=c}return tt._md5cycle(this._state,i),e?this._state:tt._hex(this._state)}}function yr(t){return tt.hashStr(t)}tt.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),tt.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),tt.hexChars="0123456789abcdef",tt.hexOut=[],tt.onePassHasher=new tt,tt.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592"&&console.error("Md5 self test failed.");class Yk{constructor(e,n,r,i){this.logger=e.getLogger("sipjs.digestauthentication"),this.username=r,this.password=i,this.ha1=n,this.nc=0,this.ncHex="00000000"}authenticate(e,n,r){if(this.algorithm=n.algorithm,this.realm=n.realm,this.nonce=n.nonce,this.opaque=n.opaque,this.stale=n.stale,this.algorithm){if(this.algorithm!=="MD5")return this.logger.warn("challenge with Digest algorithm different than 'MD5', authentication aborted"),!1}else this.algorithm="MD5";if(!this.realm)return this.logger.warn("challenge without Digest realm, authentication aborted"),!1;if(!this.nonce)return this.logger.warn("challenge without Digest nonce, authentication aborted"),!1;if(n.qop)if(n.qop.indexOf("auth")>-1)this.qop="auth";else{if(!(n.qop.indexOf("auth-int")>-1))return this.logger.warn("challenge without Digest qop different than 'auth' or 'auth-int', authentication aborted"),!1;this.qop="auth-int"}else this.qop=void 0;return this.method=e.method,this.uri=e.ruri,this.cnonce=li(12),this.nc+=1,this.updateNcHex(),this.nc===4294967296&&(this.nc=1,this.ncHex="00000001"),this.calculateResponse(r),!0}toString(){const e=[];if(!this.response)throw new Error("response field does not exist, cannot generate Authorization header");return e.push("algorithm="+this.algorithm),e.push('username="'+this.username+'"'),e.push('realm="'+this.realm+'"'),e.push('nonce="'+this.nonce+'"'),e.push('uri="'+this.uri+'"'),e.push('response="'+this.response+'"'),this.opaque&&e.push('opaque="'+this.opaque+'"'),this.qop&&(e.push("qop="+this.qop),e.push('cnonce="'+this.cnonce+'"'),e.push("nc="+this.ncHex)),"Digest "+e.join(", ")}updateNcHex(){const e=Number(this.nc).toString(16);this.ncHex="00000000".substr(0,8-e.length)+e}calculateResponse(e){let n,r;n=this.ha1,n!==""&&n!==void 0||(n=yr(this.username+":"+this.realm+":"+this.password)),this.qop==="auth"?(r=yr(this.method+":"+this.uri),this.response=yr(n+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth:"+r)):this.qop==="auth-int"?(r=yr(this.method+":"+this.uri+":"+yr(e||"")),this.response=yr(n+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth-int:"+r)):this.qop===void 0&&(r=yr(this.method+":"+this.uri),this.response=yr(n+":"+this.nonce+":"+r))}}(function(t){t[t.error=0]="error",t[t.warn=1]="warn",t[t.log=2]="log",t[t.debug=3]="debug"})(ut=ut||(ut={}));let cm=class{constructor(t,e,n){this.logger=t,this.category=e,this.label=n}error(t){this.genericLog(ut.error,t)}warn(t){this.genericLog(ut.warn,t)}log(t){this.genericLog(ut.log,t)}debug(t){this.genericLog(ut.debug,t)}genericLog(t,e){this.logger.genericLog(t,this.category,this.label,e)}get level(){return this.logger.level}set level(t){this.logger.level=t}};class Kk{constructor(){this.builtinEnabled=!0,this._level=ut.log,this.loggers={},this.logger=this.getLogger("sip:loggerfactory")}get level(){return this._level}set level(e){e>=0&&e<=3?this._level=e:e>3?this._level=3:ut.hasOwnProperty(e)?this._level=e:this.logger.error("invalid 'level' parameter value: "+JSON.stringify(e))}get connector(){return this._connector}set connector(e){e?typeof e=="function"?this._connector=e:this.logger.error("invalid 'connector' parameter value: "+JSON.stringify(e)):this._connector=void 0}getLogger(e,n){if(n&&this.level===3)return new cm(this,e,n);if(this.loggers[e])return this.loggers[e];{const r=new cm(this,e);return this.loggers[e]=r,r}}genericLog(e,n,r,i){this.level>=e&&this.builtinEnabled&&this.print(e,n,r,i),this.connector&&this.connector(ut[e],n,r,i)}print(e,n,r,i){if(typeof i=="string"){const o=[new Date,n];r&&o.push(r),i=o.concat(i).join(" | ")}switch(e){case ut.error:console.error(i);break;case ut.warn:console.warn(i);break;case ut.log:console.log(i);break;case ut.debug:console.debug(i)}}}var Za,j;function Kw(t,e){const n=`\r
`;if(e.statusCode<100||e.statusCode>699)throw new TypeError("Invalid statusCode: "+e.statusCode);const r=e.reasonPhrase?e.reasonPhrase:Cc(e.statusCode);let i="SIP/2.0 "+e.statusCode+" "+r+n;e.statusCode>=100&&e.statusCode,e.statusCode;const o="From: "+t.getHeader("From")+n,s="Call-ID: "+t.callId+n,a="CSeq: "+t.cseq+" "+t.method+n,l=t.getHeaders("via").reduce((g,y)=>g+"Via: "+y+n,"");let c="To: "+t.getHeader("to");if(e.statusCode>100&&!t.parseHeader("to").hasParam("tag")){let g=e.toTag;g||(g=Tc()),c+=";tag="+g}c+=n;let u="";e.supported&&(u="Supported: "+e.supported.join(", ")+n);let d="";e.userAgent&&(d="User-Agent: "+e.userAgent+n);let p="";return e.extraHeaders&&(p=e.extraHeaders.reduce((g,y)=>g+y.trim()+n,"")),i+=l,i+=o,i+=c,i+=a,i+=s,i+=u,i+=d,i+=p,e.body?(i+="Content-Type: "+e.body.contentType+n,i+="Content-Length: "+js(e.body.content)+n+n,i+=e.body.content):i+=`Content-Length: 0\r
\r
`,{message:i}}(function(t){function e(r,i){let o=i,s=0,a=0;if(r.substring(o,o+2).match(/(^\r\n)/))return-2;for(;s===0;){if(a=r.indexOf(`\r
`,o),a===-1)return a;!r.substring(a+2,a+4).match(/(^\r\n)/)&&r.charAt(a+2).match(/(^\s+)/)?o=a+2:s=a}return s}function n(r,i,o,s){const a=i.indexOf(":",o),l=i.substring(o,a).trim(),c=i.substring(a+1,s).trim();let u;switch(l.toLowerCase()){case"via":case"v":r.addHeader("via",c),r.getHeaders("via").length===1?(u=r.parseHeader("Via"),u&&(r.via=u,r.viaBranch=u.branch)):u=0;break;case"from":case"f":r.setHeader("from",c),u=r.parseHeader("from"),u&&(r.from=u,r.fromTag=u.getParam("tag"));break;case"to":case"t":r.setHeader("to",c),u=r.parseHeader("to"),u&&(r.to=u,r.toTag=u.getParam("tag"));break;case"record-route":if(u=ot.parse(c,"Record_Route"),u===-1){u=void 0;break}if(!(u instanceof Array)){u=void 0;break}u.forEach(d=>{r.addHeader("record-route",c.substring(d.position,d.offset)),r.headers["Record-Route"][r.getHeaders("record-route").length-1].parsed=d.parsed});break;case"call-id":case"i":r.setHeader("call-id",c),u=r.parseHeader("call-id"),u&&(r.callId=c);break;case"contact":case"m":if(u=ot.parse(c,"Contact"),u===-1){u=void 0;break}if(!(u instanceof Array)){u=void 0;break}u.forEach(d=>{r.addHeader("contact",c.substring(d.position,d.offset)),r.headers.Contact[r.getHeaders("contact").length-1].parsed=d.parsed});break;case"content-length":case"l":r.setHeader("content-length",c),u=r.parseHeader("content-length");break;case"content-type":case"c":r.setHeader("content-type",c),u=r.parseHeader("content-type");break;case"cseq":r.setHeader("cseq",c),u=r.parseHeader("cseq"),u&&(r.cseq=u.value),r instanceof Vr&&(r.method=u.method);break;case"max-forwards":r.setHeader("max-forwards",c),u=r.parseHeader("max-forwards");break;case"www-authenticate":r.setHeader("www-authenticate",c),u=r.parseHeader("www-authenticate");break;case"proxy-authenticate":r.setHeader("proxy-authenticate",c),u=r.parseHeader("proxy-authenticate");break;case"refer-to":case"r":r.setHeader("refer-to",c),u=r.parseHeader("refer-to"),u&&(r.referTo=u);break;default:r.addHeader(l.toLowerCase(),c),u=0}return u!==void 0||{error:"error parsing header '"+l+"'"}}t.getHeader=e,t.parseHeader=n,t.parseMessage=function(r,i){let o=0,s=r.indexOf(`\r
`);if(s===-1)return void i.warn("no CRLF found, not a SIP message, discarded");const a=r.substring(0,s),l=ot.parse(a,"Request_Response");let c,u;if(l!==-1){for(l.status_code?(c=new Vr,c.statusCode=l.status_code,c.reasonPhrase=l.reason_phrase):(c=new lo,c.method=l.method,c.ruri=l.uri),c.data=r,o=s+2;;){if(s=e(r,o),s===-2){u=o+2;break}if(s===-1)return void i.error("malformed message");const d=n(c,r,o,s);if(d&&d!==!0)return void i.error(d.error);o=s+2}return c.hasHeader("content-length")?c.body=r.substr(u,Number(c.getHeader("content-length"))):c.body=r.substring(u),c}i.warn('error parsing first line of SIP message: "'+a+'"')}})(Za=Za||(Za={}));class Su extends Ii{constructor(e){super(e||"Unspecified transport error.")}}class Zw{constructor(e,n,r,i,o){this._transport=e,this._user=n,this._id=r,this._state=i,this.listeners=new Array,this.logger=n.loggerFactory.getLogger(o,r),this.logger.debug(`Constructing ${this.typeToString()} with id ${this.id}.`)}dispose(){this.logger.debug(`Destroyed ${this.typeToString()} with id ${this.id}.`)}get id(){return this._id}get kind(){throw new Error("Invalid kind.")}get state(){return this._state}get transport(){return this._transport}addStateChangeListener(e,n){const r=()=>{this.removeStateChangeListener(r),e()};(n==null?void 0:n.once)===!0?this.listeners.push(r):this.listeners.push(e)}notifyStateChangeListeners(){this.listeners.slice().forEach(e=>e())}removeStateChangeListener(e){this.listeners=this.listeners.filter(n=>n!==e)}logTransportError(e,n){this.logger.error(e.message),this.logger.error(`Transport error occurred in ${this.typeToString()} with id ${this.id}.`),this.logger.error(n)}send(e){return this.transport.send(e).catch(n=>{if(n instanceof Su)throw this.onTransportError(n),n;let r;throw r=n&&typeof n.message=="string"?new Su(n.message):new Su,this.onTransportError(r),r})}setState(e){this.logger.debug(`State change to "${e}" on ${this.typeToString()} with id ${this.id}.`),this._state=e,this._user.onStateChange&&this._user.onStateChange(e),this.notifyStateChangeListeners()}typeToString(){return"UnknownType"}}class Xw extends Zw{constructor(e,n,r,i,o){super(n,r,e.viaBranch,i,o),this._request=e,this.user=r}get request(){return this._request}}(function(t){t.Accepted="Accepted",t.Calling="Calling",t.Completed="Completed",t.Confirmed="Confirmed",t.Proceeding="Proceeding",t.Terminated="Terminated",t.Trying="Trying"})(j=j||(j={}));class Ht extends Xw{constructor(e,n,r){super(e,n,r,j.Proceeding,"sip.transaction.ist")}dispose(){this.stopProgressExtensionTimer(),this.H&&(clearTimeout(this.H),this.H=void 0),this.I&&(clearTimeout(this.I),this.I=void 0),this.L&&(clearTimeout(this.L),this.L=void 0),super.dispose()}get kind(){return"ist"}receiveRequest(e){switch(this.state){case j.Proceeding:if(e.method===ee.INVITE)return void(this.lastProvisionalResponse&&this.send(this.lastProvisionalResponse).catch(r=>{this.logTransportError(r,"Failed to send retransmission of provisional response.")}));break;case j.Accepted:if(e.method===ee.INVITE)return;break;case j.Completed:if(e.method===ee.INVITE){if(!this.lastFinalResponse)throw new Error("Last final response undefined.");return void this.send(this.lastFinalResponse).catch(r=>{this.logTransportError(r,"Failed to send retransmission of final response.")})}if(e.method===ee.ACK)return void this.stateTransition(j.Confirmed);break;case j.Confirmed:case j.Terminated:if(e.method===ee.INVITE||e.method===ee.ACK)return;break;default:throw new Error(`Invalid state ${this.state}`)}const n=`INVITE server transaction received unexpected ${e.method} request while in state ${this.state}.`;this.logger.warn(n)}receiveResponse(e,n){if(e<100||e>699)throw new Error(`Invalid status code ${e}`);switch(this.state){case j.Proceeding:if(e>=100&&e<=199)return this.lastProvisionalResponse=n,e>100&&this.startProgressExtensionTimer(),void this.send(n).catch(i=>{this.logTransportError(i,"Failed to send 1xx response.")});if(e>=200&&e<=299)return this.lastFinalResponse=n,this.stateTransition(j.Accepted),void this.send(n).catch(i=>{this.logTransportError(i,"Failed to send 2xx response.")});if(e>=300&&e<=699)return this.lastFinalResponse=n,this.stateTransition(j.Completed),void this.send(n).catch(i=>{this.logTransportError(i,"Failed to send non-2xx final response.")});break;case j.Accepted:if(e>=200&&e<=299)return void this.send(n).catch(i=>{this.logTransportError(i,"Failed to send 2xx response.")});break;case j.Completed:case j.Confirmed:case j.Terminated:break;default:throw new Error(`Invalid state ${this.state}`)}const r=`INVITE server transaction received unexpected ${e} response from TU while in state ${this.state}.`;throw this.logger.error(r),new Error(r)}retransmitAcceptedResponse(){this.state===j.Accepted&&this.lastFinalResponse&&this.send(this.lastFinalResponse).catch(e=>{this.logTransportError(e,"Failed to send 2xx response.")})}onTransportError(e){this.user.onTransportError&&this.user.onTransportError(e)}typeToString(){return"INVITE server transaction"}stateTransition(e){const n=()=>{throw new Error(`Invalid state transition from ${this.state} to ${e}`)};switch(e){case j.Proceeding:n();break;case j.Accepted:case j.Completed:this.state!==j.Proceeding&&n();break;case j.Confirmed:this.state!==j.Completed&&n();break;case j.Terminated:this.state!==j.Accepted&&this.state!==j.Completed&&this.state!==j.Confirmed&&n();break;default:n()}this.stopProgressExtensionTimer(),e===j.Accepted&&(this.L=setTimeout(()=>this.timerL(),dt.TIMER_L)),e===j.Completed&&(this.H=setTimeout(()=>this.timerH(),dt.TIMER_H)),e===j.Confirmed&&(this.I=setTimeout(()=>this.timerI(),dt.TIMER_I)),e===j.Terminated&&this.dispose(),this.setState(e)}startProgressExtensionTimer(){this.progressExtensionTimer===void 0&&(this.progressExtensionTimer=setInterval(()=>{if(this.logger.debug(`Progress extension timer expired for INVITE server transaction ${this.id}.`),!this.lastProvisionalResponse)throw new Error("Last provisional response undefined.");this.send(this.lastProvisionalResponse).catch(e=>{this.logTransportError(e,"Failed to send retransmission of provisional response.")})},dt.PROVISIONAL_RESPONSE_INTERVAL))}stopProgressExtensionTimer(){this.progressExtensionTimer!==void 0&&(clearInterval(this.progressExtensionTimer),this.progressExtensionTimer=void 0)}timerG(){}timerH(){this.logger.debug(`Timer H expired for INVITE server transaction ${this.id}.`),this.state===j.Completed&&(this.logger.warn("ACK to negative final response was never received, terminating transaction."),this.stateTransition(j.Terminated))}timerI(){this.logger.debug(`Timer I expired for INVITE server transaction ${this.id}.`),this.stateTransition(j.Terminated)}timerL(){this.logger.debug(`Timer L expired for INVITE server transaction ${this.id}.`),this.state===j.Accepted&&this.stateTransition(j.Terminated)}}class xc extends Zw{constructor(e,n,r,i,o){super(n,r,xc.makeId(e),i,o),this._request=e,this.user=r,e.setViaHeader(this.id,n.protocol)}static makeId(e){if(e.method==="CANCEL"){if(!e.branch)throw new Error("Outgoing CANCEL request without a branch.");return e.branch}return"z9hG4bK"+Math.floor(1e7*Math.random())}get request(){return this._request}onRequestTimeout(){this.user.onRequestTimeout&&this.user.onRequestTimeout()}}class Jt extends xc{constructor(e,n,r){super(e,n,r,j.Trying,"sip.transaction.nict"),this.F=setTimeout(()=>this.timerF(),dt.TIMER_F),this.send(e.toString()).catch(i=>{this.logTransportError(i,"Failed to send initial outgoing request.")})}dispose(){this.F&&(clearTimeout(this.F),this.F=void 0),this.K&&(clearTimeout(this.K),this.K=void 0),super.dispose()}get kind(){return"nict"}receiveResponse(e){const n=e.statusCode;if(!n||n<100||n>699)throw new Error(`Invalid status code ${n}`);switch(this.state){case j.Trying:if(n>=100&&n<=199)return this.stateTransition(j.Proceeding),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(n>=200&&n<=699)return this.stateTransition(j.Completed),n===408?void this.onRequestTimeout():void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case j.Proceeding:if(n>=100&&n<=199&&this.user.receiveResponse)return this.user.receiveResponse(e);if(n>=200&&n<=699)return this.stateTransition(j.Completed),n===408?void this.onRequestTimeout():void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case j.Completed:case j.Terminated:return;default:throw new Error(`Invalid state ${this.state}`)}const r=`Non-INVITE client transaction received unexpected ${n} response while in state ${this.state}.`;this.logger.warn(r)}onTransportError(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(j.Terminated,!0)}typeToString(){return"non-INVITE client transaction"}stateTransition(e,n=!1){const r=()=>{throw new Error(`Invalid state transition from ${this.state} to ${e}`)};switch(e){case j.Trying:r();break;case j.Proceeding:this.state!==j.Trying&&r();break;case j.Completed:this.state!==j.Trying&&this.state!==j.Proceeding&&r();break;case j.Terminated:this.state!==j.Trying&&this.state!==j.Proceeding&&this.state!==j.Completed&&(n||r());break;default:r()}e===j.Completed&&(this.F&&(clearTimeout(this.F),this.F=void 0),this.K=setTimeout(()=>this.timerK(),dt.TIMER_K)),e===j.Terminated&&this.dispose(),this.setState(e)}timerF(){this.logger.debug(`Timer F expired for non-INVITE client transaction ${this.id}.`),this.state!==j.Trying&&this.state!==j.Proceeding||(this.onRequestTimeout(),this.stateTransition(j.Terminated))}timerK(){this.state===j.Completed&&this.stateTransition(j.Terminated)}}class To{constructor(e,n){this.core=e,this.dialogState=n,this.core.dialogs.set(this.id,this)}static initialDialogStateForUserAgentClient(e,n){const r=n.getHeaders("record-route").reverse(),i=n.parseHeader("contact");if(!i)throw new Error("Contact undefined.");if(!(i instanceof Lt))throw new Error("Contact not instance of NameAddrHeader.");const o=i.uri,s=e.cseq,a=e.callId,l=e.fromTag,c=n.toTag;if(!a)throw new Error("Call id undefined.");if(!l)throw new Error("From tag undefined.");if(!c)throw new Error("To tag undefined.");if(!e.from)throw new Error("From undefined.");if(!e.to)throw new Error("To undefined.");const u=e.from.uri,d=e.to.uri;if(!n.statusCode)throw new Error("Incoming response status code undefined.");return{id:a+l+c,early:n.statusCode<200,callId:a,localTag:l,remoteTag:c,localSequenceNumber:s,remoteSequenceNumber:void 0,localURI:u,remoteURI:d,remoteTarget:o,routeSet:r,secure:!1}}static initialDialogStateForUserAgentServer(e,n,r=!1){const i=e.getHeaders("record-route"),o=e.parseHeader("contact");if(!o)throw new Error("Contact undefined.");if(!(o instanceof Lt))throw new Error("Contact not instance of NameAddrHeader.");const s=o.uri,a=e.cseq,l=e.callId,c=n,u=e.fromTag,d=e.from.uri;return{id:l+c+u,early:r,callId:l,localTag:c,remoteTag:u,localSequenceNumber:void 0,remoteSequenceNumber:a,localURI:e.to.uri,remoteURI:d,remoteTarget:s,routeSet:i,secure:!1}}dispose(){this.core.dialogs.delete(this.id)}get id(){return this.dialogState.id}get early(){return this.dialogState.early}get callId(){return this.dialogState.callId}get localTag(){return this.dialogState.localTag}get remoteTag(){return this.dialogState.remoteTag}get localSequenceNumber(){return this.dialogState.localSequenceNumber}get remoteSequenceNumber(){return this.dialogState.remoteSequenceNumber}get localURI(){return this.dialogState.localURI}get remoteURI(){return this.dialogState.remoteURI}get remoteTarget(){return this.dialogState.remoteTarget}get routeSet(){return this.dialogState.routeSet}get secure(){return this.dialogState.secure}get userAgentCore(){return this.core}confirm(){this.dialogState.early=!1}receiveRequest(e){if(e.method!==ee.ACK){if(this.remoteSequenceNumber){if(e.cseq<=this.remoteSequenceNumber)throw new Error("Out of sequence in dialog request. Did you forget to call sequenceGuard()?");this.dialogState.remoteSequenceNumber=e.cseq}this.remoteSequenceNumber||(this.dialogState.remoteSequenceNumber=e.cseq)}}recomputeRouteSet(e){this.dialogState.routeSet=e.getHeaders("record-route").reverse()}createOutgoingRequestMessage(e,n){const r=this.remoteURI,i=this.remoteTag,o=this.localURI,s=this.localTag,a=this.callId;let l;l=n&&n.cseq?n.cseq:this.dialogState.localSequenceNumber?this.dialogState.localSequenceNumber+=1:this.dialogState.localSequenceNumber=1;const c=this.remoteTarget,u=this.routeSet,d=n&&n.extraHeaders,p=n&&n.body;return this.userAgentCore.makeOutgoingRequestMessage(e,c,o,r,{callId:a,cseq:l,fromTag:s,toTag:i,routeSet:u},d,p)}incrementLocalSequenceNumber(){if(!this.dialogState.localSequenceNumber)throw new Error("Local sequence number undefined.");this.dialogState.localSequenceNumber+=1}sequenceGuard(e){return e.method===ee.ACK||!(this.remoteSequenceNumber&&e.cseq<=this.remoteSequenceNumber)||(this.core.replyStateless(e,{statusCode:500}),!1)}}class Ir extends xc{constructor(e,n,r){super(e,n,r,j.Calling,"sip.transaction.ict"),this.ackRetransmissionCache=new Map,this.B=setTimeout(()=>this.timerB(),dt.TIMER_B),this.send(e.toString()).catch(i=>{this.logTransportError(i,"Failed to send initial outgoing request.")})}dispose(){this.B&&(clearTimeout(this.B),this.B=void 0),this.D&&(clearTimeout(this.D),this.D=void 0),this.M&&(clearTimeout(this.M),this.M=void 0),super.dispose()}get kind(){return"ict"}ackResponse(e){const n=e.toTag;if(!n)throw new Error("To tag undefined.");const r="z9hG4bK"+Math.floor(1e7*Math.random());e.setViaHeader(r,this.transport.protocol),this.ackRetransmissionCache.set(n,e),this.send(e.toString()).catch(i=>{this.logTransportError(i,"Failed to send ACK to 2xx response.")})}receiveResponse(e){const n=e.statusCode;if(!n||n<100||n>699)throw new Error(`Invalid status code ${n}`);switch(this.state){case j.Calling:if(n>=100&&n<=199)return this.stateTransition(j.Proceeding),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(n>=200&&n<=299)return this.ackRetransmissionCache.set(e.toTag,void 0),this.stateTransition(j.Accepted),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(n>=300&&n<=699)return this.stateTransition(j.Completed),this.ack(e),void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case j.Proceeding:if(n>=100&&n<=199)return void(this.user.receiveResponse&&this.user.receiveResponse(e));if(n>=200&&n<=299)return this.ackRetransmissionCache.set(e.toTag,void 0),this.stateTransition(j.Accepted),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(n>=300&&n<=699)return this.stateTransition(j.Completed),this.ack(e),void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case j.Accepted:if(n>=200&&n<=299){if(!this.ackRetransmissionCache.has(e.toTag))return this.ackRetransmissionCache.set(e.toTag,void 0),void(this.user.receiveResponse&&this.user.receiveResponse(e));const i=this.ackRetransmissionCache.get(e.toTag);return i?void this.send(i.toString()).catch(o=>{this.logTransportError(o,"Failed to send retransmission of ACK to 2xx response.")}):void 0}break;case j.Completed:if(n>=300&&n<=699)return void this.ack(e);break;case j.Terminated:break;default:throw new Error(`Invalid state ${this.state}`)}const r=`Received unexpected ${n} response while in state ${this.state}.`;this.logger.warn(r)}onTransportError(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(j.Terminated,!0)}typeToString(){return"INVITE client transaction"}ack(e){const n=this.request.ruri,r=this.request.callId,i=this.request.cseq,o=this.request.getHeader("from"),s=e.getHeader("to"),a=this.request.getHeader("via"),l=this.request.getHeader("route");if(!o)throw new Error("From undefined.");if(!s)throw new Error("To undefined.");if(!a)throw new Error("Via undefined.");let c=`ACK ${n} SIP/2.0\r
`;l&&(c+=`Route: ${l}\r
`),c+=`Via: ${a}\r
`,c+=`To: ${s}\r
`,c+=`From: ${o}\r
`,c+=`Call-ID: ${r}\r
`,c+=`CSeq: ${i} ACK\r
`,c+=`Max-Forwards: 70\r
`,c+=`Content-Length: 0\r
\r
`,this.send(c).catch(u=>{this.logTransportError(u,"Failed to send ACK to non-2xx response.")})}stateTransition(e,n=!1){const r=()=>{throw new Error(`Invalid state transition from ${this.state} to ${e}`)};switch(e){case j.Calling:r();break;case j.Proceeding:this.state!==j.Calling&&r();break;case j.Accepted:case j.Completed:this.state!==j.Calling&&this.state!==j.Proceeding&&r();break;case j.Terminated:this.state!==j.Calling&&this.state!==j.Accepted&&this.state!==j.Completed&&(n||r());break;default:r()}this.B&&(clearTimeout(this.B),this.B=void 0),j.Proceeding,e===j.Completed&&(this.D=setTimeout(()=>this.timerD(),dt.TIMER_D)),e===j.Accepted&&(this.M=setTimeout(()=>this.timerM(),dt.TIMER_M)),e===j.Terminated&&this.dispose(),this.setState(e)}timerA(){}timerB(){this.logger.debug(`Timer B expired for INVITE client transaction ${this.id}.`),this.state===j.Calling&&(this.onRequestTimeout(),this.stateTransition(j.Terminated))}timerD(){this.logger.debug(`Timer D expired for INVITE client transaction ${this.id}.`),this.state===j.Completed&&this.stateTransition(j.Terminated)}timerM(){this.logger.debug(`Timer M expired for INVITE client transaction ${this.id}.`),this.state===j.Accepted&&this.stateTransition(j.Terminated)}}class It{constructor(e,n,r,i){this.transactionConstructor=e,this.core=n,this.message=r,this.delegate=i,this.challenged=!1,this.stale=!1,this.logger=this.loggerFactory.getLogger("sip.user-agent-client"),this.init()}dispose(){this.transaction.dispose()}get loggerFactory(){return this.core.loggerFactory}get transaction(){if(!this._transaction)throw new Error("Transaction undefined.");return this._transaction}cancel(e,n={}){if(!this.transaction)throw new Error("Transaction undefined.");if(!this.message.to)throw new Error("To undefined.");if(!this.message.from)throw new Error("From undefined.");const r=this.core.makeOutgoingRequestMessage(ee.CANCEL,this.message.ruri,this.message.from.uri,this.message.to.uri,{toTag:this.message.toTag,fromTag:this.message.fromTag,callId:this.message.callId,cseq:this.message.cseq},n.extraHeaders);return r.branch=this.message.branch,this.message.headers.Route&&(r.headers.Route=this.message.headers.Route),e&&r.setHeader("Reason",e),this.transaction.state===j.Proceeding?new It(Jt,this.core,r):this.transaction.addStateChangeListener(()=>{this.transaction&&this.transaction.state===j.Proceeding&&new It(Jt,this.core,r)},{once:!0}),r}authenticationGuard(e,n){const r=e.statusCode;if(!r)throw new Error("Response status code undefined.");if(r!==401&&r!==407)return!0;let i,o;if(r===401?(i=e.parseHeader("www-authenticate"),o="authorization"):(i=e.parseHeader("proxy-authenticate"),o="proxy-authorization"),!i)return this.logger.warn(r+" with wrong or missing challenge, cannot authenticate"),!0;if(this.challenged&&(this.stale||i.stale!==!0))return this.logger.warn(r+" apparently in authentication loop, cannot authenticate"),!0;if(!this.credentials&&(this.credentials=this.core.configuration.authenticationFactory(),!this.credentials))return this.logger.warn("Unable to obtain credentials, cannot authenticate"),!0;if(!this.credentials.authenticate(this.message,i))return!0;this.challenged=!0,i.stale&&(this.stale=!0);let s=this.message.cseq+=1;return n&&n.localSequenceNumber&&(n.incrementLocalSequenceNumber(),s=this.message.cseq=n.localSequenceNumber),this.message.setHeader("cseq",s+" "+this.message.method),this.message.setHeader(o,this.credentials.toString()),this.init(),!1}onRequestTimeout(){this.logger.warn("User agent client request timed out. Generating internal 408 Request Timeout.");const e=new Vr;e.statusCode=408,e.reasonPhrase="Request Timeout",this.receiveResponse(e)}onTransportError(e){this.logger.error(e.message),this.logger.error("User agent client request transport error. Generating internal 503 Service Unavailable.");const n=new Vr;n.statusCode=503,n.reasonPhrase="Service Unavailable",this.receiveResponse(n)}receiveResponse(e){if(!this.authenticationGuard(e))return;const n=e.statusCode?e.statusCode.toString():"";if(!n)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(n):this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e});break;case/^1[0-9]{2}$/.test(n):this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e});break;case/^2[0-9]{2}$/.test(n):this.delegate&&this.delegate.onAccept&&this.delegate.onAccept({message:e});break;case/^3[0-9]{2}$/.test(n):this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e});break;case/^[4-6][0-9]{2}$/.test(n):this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e});break;default:throw new Error(`Invalid status code ${n}`)}}init(){const e={loggerFactory:this.loggerFactory,onRequestTimeout:()=>this.onRequestTimeout(),onStateChange:i=>{i===j.Terminated&&(this.core.userAgentClients.delete(r),n===this._transaction&&this.dispose())},onTransportError:i=>this.onTransportError(i),receiveResponse:i=>this.receiveResponse(i)},n=new this.transactionConstructor(this.message,this.core.transport,e);this._transaction=n;const r=n.id+n.request.method;this.core.userAgentClients.set(r,this)}}class Zk extends It{constructor(e,n,r){const i=e.createOutgoingRequestMessage(ee.BYE,r);super(Jt,e.userAgentCore,i,n),e.dispose()}}class Wt extends Xw{constructor(e,n,r){super(e,n,r,j.Trying,"sip.transaction.nist")}dispose(){this.J&&(clearTimeout(this.J),this.J=void 0),super.dispose()}get kind(){return"nist"}receiveRequest(e){switch(this.state){case j.Trying:break;case j.Proceeding:if(!this.lastResponse)throw new Error("Last response undefined.");this.send(this.lastResponse).catch(n=>{this.logTransportError(n,"Failed to send retransmission of provisional response.")});break;case j.Completed:if(!this.lastResponse)throw new Error("Last response undefined.");this.send(this.lastResponse).catch(n=>{this.logTransportError(n,"Failed to send retransmission of final response.")});break;case j.Terminated:break;default:throw new Error(`Invalid state ${this.state}`)}}receiveResponse(e,n){if(e<100||e>699)throw new Error(`Invalid status code ${e}`);if(e>100&&e<=199)throw new Error("Provisional response other than 100 not allowed.");switch(this.state){case j.Trying:if(this.lastResponse=n,e>=100&&e<200)return this.stateTransition(j.Proceeding),void this.send(n).catch(i=>{this.logTransportError(i,"Failed to send provisional response.")});if(e>=200&&e<=699)return this.stateTransition(j.Completed),void this.send(n).catch(i=>{this.logTransportError(i,"Failed to send final response.")});break;case j.Proceeding:if(this.lastResponse=n,e>=200&&e<=699)return this.stateTransition(j.Completed),void this.send(n).catch(i=>{this.logTransportError(i,"Failed to send final response.")});break;case j.Completed:return;case j.Terminated:break;default:throw new Error(`Invalid state ${this.state}`)}const r=`Non-INVITE server transaction received unexpected ${e} response from TU while in state ${this.state}.`;throw this.logger.error(r),new Error(r)}onTransportError(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(j.Terminated,!0)}typeToString(){return"non-INVITE server transaction"}stateTransition(e,n=!1){const r=()=>{throw new Error(`Invalid state transition from ${this.state} to ${e}`)};switch(e){case j.Trying:r();break;case j.Proceeding:this.state!==j.Trying&&r();break;case j.Completed:this.state!==j.Trying&&this.state!==j.Proceeding&&r();break;case j.Terminated:this.state!==j.Proceeding&&this.state!==j.Completed&&(n||r());break;default:r()}e===j.Completed&&(this.J=setTimeout(()=>this.timerJ(),dt.TIMER_J)),e===j.Terminated&&this.dispose(),this.setState(e)}timerJ(){this.logger.debug(`Timer J expired for NON-INVITE server transaction ${this.id}.`),this.state===j.Completed&&this.stateTransition(j.Terminated)}}class Yn{constructor(e,n,r,i){this.transactionConstructor=e,this.core=n,this.message=r,this.delegate=i,this.logger=this.loggerFactory.getLogger("sip.user-agent-server"),this.toTag=r.toTag?r.toTag:Tc(),this.init()}dispose(){this.transaction.dispose()}get loggerFactory(){return this.core.loggerFactory}get transaction(){if(!this._transaction)throw new Error("Transaction undefined.");return this._transaction}accept(e={statusCode:200}){if(!this.acceptable)throw new xr(`${this.message.method} not acceptable in state ${this.transaction.state}.`);const n=e.statusCode;if(n<200||n>299)throw new TypeError(`Invalid statusCode: ${n}`);return this.reply(e)}progress(e={statusCode:180}){if(!this.progressable)throw new xr(`${this.message.method} not progressable in state ${this.transaction.state}.`);const n=e.statusCode;if(n<101||n>199)throw new TypeError(`Invalid statusCode: ${n}`);return this.reply(e)}redirect(e,n={statusCode:302}){if(!this.redirectable)throw new xr(`${this.message.method} not redirectable in state ${this.transaction.state}.`);const r=n.statusCode;if(r<300||r>399)throw new TypeError(`Invalid statusCode: ${r}`);const i=new Array;return e.forEach(o=>i.push(`Contact: ${o.toString()}`)),n.extraHeaders=(n.extraHeaders||[]).concat(i),this.reply(n)}reject(e={statusCode:480}){if(!this.rejectable)throw new xr(`${this.message.method} not rejectable in state ${this.transaction.state}.`);const n=e.statusCode;if(n<400||n>699)throw new TypeError(`Invalid statusCode: ${n}`);return this.reply(e)}trying(e){if(!this.tryingable)throw new xr(`${this.message.method} not tryingable in state ${this.transaction.state}.`);return this.reply({statusCode:100})}receiveCancel(e){this.delegate&&this.delegate.onCancel&&this.delegate.onCancel(e)}get acceptable(){if(this.transaction instanceof Ht)return this.transaction.state===j.Proceeding||this.transaction.state===j.Accepted;if(this.transaction instanceof Wt)return this.transaction.state===j.Trying||this.transaction.state===j.Proceeding;throw new Error("Unknown transaction type.")}get progressable(){if(this.transaction instanceof Ht)return this.transaction.state===j.Proceeding;if(this.transaction instanceof Wt)return!1;throw new Error("Unknown transaction type.")}get redirectable(){if(this.transaction instanceof Ht)return this.transaction.state===j.Proceeding;if(this.transaction instanceof Wt)return this.transaction.state===j.Trying||this.transaction.state===j.Proceeding;throw new Error("Unknown transaction type.")}get rejectable(){if(this.transaction instanceof Ht)return this.transaction.state===j.Proceeding;if(this.transaction instanceof Wt)return this.transaction.state===j.Trying||this.transaction.state===j.Proceeding;throw new Error("Unknown transaction type.")}get tryingable(){if(this.transaction instanceof Ht)return this.transaction.state===j.Proceeding;if(this.transaction instanceof Wt)return this.transaction.state===j.Trying;throw new Error("Unknown transaction type.")}reply(e){e.toTag||e.statusCode===100||(e.toTag=this.toTag),e.userAgent=e.userAgent||this.core.configuration.userAgentHeaderFieldValue,e.supported=e.supported||this.core.configuration.supportedOptionTagsResponse;const n=Kw(this.message,e);return this.transaction.receiveResponse(e.statusCode,n.message),n}init(){const e={loggerFactory:this.loggerFactory,onStateChange:i=>{i===j.Terminated&&(this.core.userAgentServers.delete(r),this.dispose())},onTransportError:i=>{this.logger.error(i.message),this.delegate&&this.delegate.onTransportError?this.delegate.onTransportError(i):this.logger.error("User agent server response transport error.")}},n=new this.transactionConstructor(this.message,this.core.transport,e);this._transaction=n;const r=n.id;this.core.userAgentServers.set(n.id,this)}}class Xk extends Yn{constructor(e,n,r){super(Wt,e.userAgentCore,n,r)}}class Qk extends It{constructor(e,n,r){const i=e.createOutgoingRequestMessage(ee.INFO,r);super(Jt,e.userAgentCore,i,n)}}class Jk extends Yn{constructor(e,n,r){super(Wt,e.userAgentCore,n,r)}}class Qw extends It{constructor(e,n,r){super(Jt,e,n,r)}}class Jw extends Yn{constructor(e,n,r){super(Wt,e,n,r)}}class eI extends It{constructor(e,n,r){const i=e.createOutgoingRequestMessage(ee.NOTIFY,r);super(Jt,e.userAgentCore,i,n)}}class _l extends Yn{constructor(e,n,r){const i=e.userAgentCore!==void 0?e.userAgentCore:e;super(Wt,i,n,r)}}class tI extends It{constructor(e,n,r){const i=e.createOutgoingRequestMessage(ee.PRACK,r);super(Jt,e.userAgentCore,i,n),e.signalingStateTransition(i)}}class nI extends Yn{constructor(e,n,r){super(Wt,e.userAgentCore,n,r),e.signalingStateTransition(n),this.dialog=e}accept(e={statusCode:200}){return e.body&&this.dialog.signalingStateTransition(e.body),super.accept(e)}}class rI extends It{constructor(e,n,r){const i=e.createOutgoingRequestMessage(ee.INVITE,r);super(Ir,e.userAgentCore,i,n),this.delegate=n,e.signalingStateTransition(i),e.reinviteUserAgentClient=this,this.dialog=e}receiveResponse(e){if(!this.authenticationGuard(e,this.dialog))return;const n=e.statusCode?e.statusCode.toString():"";if(!n)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(n):this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e});break;case/^1[0-9]{2}$/.test(n):this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e,session:this.dialog,prack:r=>{throw new Error("Unimplemented.")}});break;case/^2[0-9]{2}$/.test(n):this.dialog.signalingStateTransition(e),this.delegate&&this.delegate.onAccept&&this.delegate.onAccept({message:e,session:this.dialog,ack:r=>this.dialog.ack(r)});break;case/^3[0-9]{2}$/.test(n):this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentClient=void 0,this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e});break;case/^[4-6][0-9]{2}$/.test(n):this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentClient=void 0,this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e});break;default:throw new Error(`Invalid status code ${n}`)}}}class iI extends Yn{constructor(e,n,r){super(Ht,e.userAgentCore,n,r),e.reinviteUserAgentServer=this,this.dialog=e}accept(e={statusCode:200}){e.extraHeaders=e.extraHeaders||[],e.extraHeaders=e.extraHeaders.concat(this.dialog.routeSet.map(o=>`Record-Route: ${o}`));const n=super.accept(e),r=this.dialog,i=Object.assign(Object.assign({},n),{session:r});return e.body&&this.dialog.signalingStateTransition(e.body),this.dialog.reConfirm(),i}progress(e={statusCode:180}){const n=super.progress(e),r=this.dialog,i=Object.assign(Object.assign({},n),{session:r});return e.body&&this.dialog.signalingStateTransition(e.body),i}redirect(e,n={statusCode:302}){throw this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentServer=void 0,new Error("Unimplemented.")}reject(e={statusCode:488}){return this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentServer=void 0,super.reject(e)}}class oI extends It{constructor(e,n,r){const i=e.createOutgoingRequestMessage(ee.REFER,r);super(Jt,e.userAgentCore,i,n)}}class e1 extends Yn{constructor(e,n,r){const i=e.userAgentCore!==void 0?e.userAgentCore:e;super(Wt,i,n,r)}}class Al extends To{constructor(e,n,r,i){super(n,r),this.initialTransaction=e,this._signalingState=Z.Initial,this.ackWait=!1,this.ackProcessing=!1,this.delegate=i,e instanceof Ht&&(this.ackWait=!0),this.early||this.start2xxRetransmissionTimer(),this.signalingStateTransition(e.request),this.logger=n.loggerFactory.getLogger("sip.invite-dialog"),this.logger.log(`INVITE dialog ${this.id} constructed`)}dispose(){super.dispose(),this._signalingState=Z.Closed,this._offer=void 0,this._answer=void 0,this.invite2xxTimer&&(clearTimeout(this.invite2xxTimer),this.invite2xxTimer=void 0),this.logger.log(`INVITE dialog ${this.id} destroyed`)}get sessionState(){return this.early?cn.Early:this.ackWait?cn.AckWait:this._signalingState===Z.Closed?cn.Terminated:cn.Confirmed}get signalingState(){return this._signalingState}get offer(){return this._offer}get answer(){return this._answer}confirm(){this.early&&this.start2xxRetransmissionTimer(),super.confirm()}reConfirm(){this.reinviteUserAgentServer&&this.startReInvite2xxRetransmissionTimer()}ack(e={}){let n;if(this.logger.log(`INVITE dialog ${this.id} sending ACK request`),this.reinviteUserAgentClient){if(!(this.reinviteUserAgentClient.transaction instanceof Ir))throw new Error("Transaction not instance of InviteClientTransaction.");n=this.reinviteUserAgentClient.transaction,this.reinviteUserAgentClient=void 0}else{if(!(this.initialTransaction instanceof Ir))throw new Error("Initial transaction not instance of InviteClientTransaction.");n=this.initialTransaction}const r=this.createOutgoingRequestMessage(ee.ACK,{cseq:n.request.cseq,extraHeaders:e.extraHeaders,body:e.body});return n.ackResponse(r),this.signalingStateTransition(r),{message:r}}bye(e,n){if(this.logger.log(`INVITE dialog ${this.id} sending BYE request`),this.initialTransaction instanceof Ht){if(this.early)throw new Error("UAS MUST NOT send a BYE on early dialogs.");if(this.ackWait&&this.initialTransaction.state!==j.Terminated)throw new Error("UAS MUST NOT send a BYE on a confirmed dialog until it has received an ACK for its 2xx response or until the server transaction times out.")}return new Zk(this,e,n)}info(e,n){if(this.logger.log(`INVITE dialog ${this.id} sending INFO request`),this.early)throw new Error("Dialog not confirmed.");return new Qk(this,e,n)}invite(e,n){if(this.logger.log(`INVITE dialog ${this.id} sending INVITE request`),this.early)throw new Error("Dialog not confirmed.");if(this.reinviteUserAgentClient)throw new Error("There is an ongoing re-INVITE client transaction.");if(this.reinviteUserAgentServer)throw new Error("There is an ongoing re-INVITE server transaction.");return new rI(this,e,n)}message(e,n){if(this.logger.log(`INVITE dialog ${this.id} sending MESSAGE request`),this.early)throw new Error("Dialog not confirmed.");const r=this.createOutgoingRequestMessage(ee.MESSAGE,n);return new Qw(this.core,r,e)}notify(e,n){if(this.logger.log(`INVITE dialog ${this.id} sending NOTIFY request`),this.early)throw new Error("Dialog not confirmed.");return new eI(this,e,n)}prack(e,n){return this.logger.log(`INVITE dialog ${this.id} sending PRACK request`),new tI(this,e,n)}refer(e,n){if(this.logger.log(`INVITE dialog ${this.id} sending REFER request`),this.early)throw new Error("Dialog not confirmed.");return new oI(this,e,n)}receiveRequest(e){if(this.logger.log(`INVITE dialog ${this.id} received ${e.method} request`),e.method!==ee.ACK)if(this.sequenceGuard(e)){if(super.receiveRequest(e),e.method===ee.INVITE){const n=()=>{const i=this.ackWait?"waiting for initial ACK":"processing initial ACK";this.logger.warn(`INVITE dialog ${this.id} received re-INVITE while ${i}`),this.logger.warn("RFC 5407 suggests the following to avoid this race condition...  Note: Implementation issues are outside the scope of this document, but the following tip is provided for avoiding race conditions of this type.  The caller can delay sending re-INVITE F6 for some period of time (2 seconds, perhaps), after which the caller can reasonably assume that its ACK has been received.  Implementors can decouple the actions of the user (e.g., pressing the hold button) from the actions of the protocol (the sending of re-INVITE F6), so that the UA can behave like this.  In this case, it is the implementor's choice as to how long to wait.  In most cases, such an implementation may be useful to prevent the type of race condition shown in this section. This document expresses no preference about whether or not they should wait for an ACK to be delivered.  After considering the impact on user experience, implementors should decide whether or not to wait for a while, because the user experience depends on the implementation and has no direct bearing on protocol behavior.")},r=[`Retry-After: ${Math.floor(10*Math.random())+1}`];if(this.ackProcessing)return this.core.replyStateless(e,{statusCode:500,extraHeaders:r}),void n();if(this.ackWait&&this.signalingState!==Z.Stable)return this.core.replyStateless(e,{statusCode:500,extraHeaders:r}),void n();if(this.reinviteUserAgentServer)return void this.core.replyStateless(e,{statusCode:500,extraHeaders:r});if(this.reinviteUserAgentClient)return void this.core.replyStateless(e,{statusCode:491})}if(e.method===ee.INVITE){const n=e.parseHeader("contact");if(!n)throw new Error("Contact undefined.");if(!(n instanceof Lt))throw new Error("Contact not instance of NameAddrHeader.");this.dialogState.remoteTarget=n.uri}switch(e.method){case ee.BYE:{const n=new Xk(this,e);this.delegate&&this.delegate.onBye?this.delegate.onBye(n):n.accept(),this.dispose()}break;case ee.INFO:{const n=new Jk(this,e);this.delegate&&this.delegate.onInfo?this.delegate.onInfo(n):n.reject({statusCode:469,extraHeaders:["Recv-Info:"]})}break;case ee.INVITE:{const n=new iI(this,e);this.signalingStateTransition(e),this.delegate&&this.delegate.onInvite?this.delegate.onInvite(n):n.reject({statusCode:488})}break;case ee.MESSAGE:{const n=new Jw(this.core,e);this.delegate&&this.delegate.onMessage?this.delegate.onMessage(n):n.accept()}break;case ee.NOTIFY:{const n=new _l(this,e);this.delegate&&this.delegate.onNotify?this.delegate.onNotify(n):n.accept()}break;case ee.PRACK:{const n=new nI(this,e);this.delegate&&this.delegate.onPrack?this.delegate.onPrack(n):n.accept()}break;case ee.REFER:{const n=new e1(this,e);this.delegate&&this.delegate.onRefer?this.delegate.onRefer(n):n.reject()}break;default:this.logger.log(`INVITE dialog ${this.id} received unimplemented ${e.method} request`),this.core.replyStateless(e,{statusCode:501})}}else this.logger.log(`INVITE dialog ${this.id} rejected out of order ${e.method} request.`);else{if(this.ackWait){if(this.initialTransaction instanceof Ir)return void this.logger.warn(`INVITE dialog ${this.id} received unexpected ${e.method} request, dropping.`);if(this.initialTransaction.request.cseq!==e.cseq)return void this.logger.warn(`INVITE dialog ${this.id} received unexpected ${e.method} request, dropping.`);this.ackWait=!1}else{if(!this.reinviteUserAgentServer)return void this.logger.warn(`INVITE dialog ${this.id} received unexpected ${e.method} request, dropping.`);if(this.reinviteUserAgentServer.transaction.request.cseq!==e.cseq)return void this.logger.warn(`INVITE dialog ${this.id} received unexpected ${e.method} request, dropping.`);this.reinviteUserAgentServer=void 0}if(this.signalingStateTransition(e),this.delegate&&this.delegate.onAck){const n=this.delegate.onAck({message:e});n instanceof Promise&&(this.ackProcessing=!0,n.then(()=>this.ackProcessing=!1).catch(()=>this.ackProcessing=!1))}}}reliableSequenceGuard(e){const n=e.statusCode;if(!n)throw new Error("Status code undefined");if(n>100&&n<200){const r=e.getHeader("require"),i=e.getHeader("rseq"),o=r&&r.includes("100rel")&&i?Number(i):void 0;if(o){if(this.rseq&&this.rseq+1!==o)return!1;this.rseq=this.rseq?this.rseq+1:o}}return!0}signalingStateRollback(){this._signalingState!==Z.HaveLocalOffer&&this.signalingState!==Z.HaveRemoteOffer||this._rollbackOffer&&this._rollbackAnswer&&(this._signalingState=Z.Stable,this._offer=this._rollbackOffer,this._answer=this._rollbackAnswer)}signalingStateTransition(e){const n=ms(e);if(n&&n.contentDisposition==="session"){if(this._signalingState===Z.Stable&&(this._rollbackOffer=this._offer,this._rollbackAnswer=this._answer),e instanceof lo)switch(this._signalingState){case Z.Initial:case Z.Stable:this._signalingState=Z.HaveRemoteOffer,this._offer=n,this._answer=void 0;break;case Z.HaveLocalOffer:this._signalingState=Z.Stable,this._answer=n;break;case Z.HaveRemoteOffer:case Z.Closed:break;default:throw new Error("Unexpected signaling state.")}if(e instanceof Vr)switch(this._signalingState){case Z.Initial:case Z.Stable:this._signalingState=Z.HaveRemoteOffer,this._offer=n,this._answer=void 0;break;case Z.HaveLocalOffer:this._signalingState=Z.Stable,this._answer=n;break;case Z.HaveRemoteOffer:case Z.Closed:break;default:throw new Error("Unexpected signaling state.")}if(e instanceof fi)switch(this._signalingState){case Z.Initial:case Z.Stable:this._signalingState=Z.HaveLocalOffer,this._offer=n,this._answer=void 0;break;case Z.HaveLocalOffer:break;case Z.HaveRemoteOffer:this._signalingState=Z.Stable,this._answer=n;break;case Z.Closed:break;default:throw new Error("Unexpected signaling state.")}if(Ww(e))switch(this._signalingState){case Z.Initial:case Z.Stable:this._signalingState=Z.HaveLocalOffer,this._offer=n,this._answer=void 0;break;case Z.HaveLocalOffer:break;case Z.HaveRemoteOffer:this._signalingState=Z.Stable,this._answer=n;break;case Z.Closed:break;default:throw new Error("Unexpected signaling state.")}}}start2xxRetransmissionTimer(){if(this.initialTransaction instanceof Ht){const e=this.initialTransaction;let n=dt.T1;const r=()=>{this.ackWait?(this.logger.log("No ACK for 2xx response received, attempting retransmission"),e.retransmitAcceptedResponse(),n=Math.min(2*n,dt.T2),this.invite2xxTimer=setTimeout(r,n)):this.invite2xxTimer=void 0};this.invite2xxTimer=setTimeout(r,n);const i=()=>{e.state===j.Terminated&&(e.removeStateChangeListener(i),this.invite2xxTimer&&(clearTimeout(this.invite2xxTimer),this.invite2xxTimer=void 0),this.ackWait&&(this.delegate&&this.delegate.onAckTimeout?this.delegate.onAckTimeout():this.bye()))};e.addStateChangeListener(i)}}startReInvite2xxRetransmissionTimer(){if(this.reinviteUserAgentServer&&this.reinviteUserAgentServer.transaction instanceof Ht){const e=this.reinviteUserAgentServer.transaction;let n=dt.T1;const r=()=>{this.reinviteUserAgentServer?(this.logger.log("No ACK for 2xx response received, attempting retransmission"),e.retransmitAcceptedResponse(),n=Math.min(2*n,dt.T2),this.invite2xxTimer=setTimeout(r,n)):this.invite2xxTimer=void 0};this.invite2xxTimer=setTimeout(r,n);const i=()=>{e.state===j.Terminated&&(e.removeStateChangeListener(i),this.invite2xxTimer&&(clearTimeout(this.invite2xxTimer),this.invite2xxTimer=void 0),this.reinviteUserAgentServer)};e.addStateChangeListener(i)}}}class sI extends It{constructor(e,n,r){super(Ir,e,n,r),this.confirmedDialogAcks=new Map,this.confirmedDialogs=new Map,this.earlyDialogs=new Map,this.delegate=r}dispose(){this.earlyDialogs.forEach(e=>e.dispose()),this.earlyDialogs.clear(),super.dispose()}onTransportError(e){if(this.transaction.state===j.Calling)return super.onTransportError(e);this.logger.error(e.message),this.logger.error("User agent client request transport error while sending ACK.")}receiveResponse(e){if(!this.authenticationGuard(e))return;const n=e.statusCode?e.statusCode.toString():"";if(!n)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(n):return void(this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e}));case/^1[0-9]{2}$/.test(n):{if(!e.toTag)return void this.logger.warn("Non-100 1xx INVITE response received without a to tag, dropping.");if(!e.parseHeader("contact"))return void this.logger.error("Non-100 1xx INVITE response received without a Contact header field, dropping.");const r=To.initialDialogStateForUserAgentClient(this.message,e);let i=this.earlyDialogs.get(r.id);if(!i){const s=this.transaction;if(!(s instanceof Ir))throw new Error("Transaction not instance of InviteClientTransaction.");i=new Al(s,this.core,r),this.earlyDialogs.set(i.id,i)}if(!i.reliableSequenceGuard(e))return void this.logger.warn("1xx INVITE reliable response received out of order or is a retransmission, dropping.");i.signalingState!==Z.Initial&&i.signalingState!==Z.HaveLocalOffer||i.signalingStateTransition(e);const o=i;this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e,session:o,prack:s=>o.prack(void 0,s)})}return;case/^2[0-9]{2}$/.test(n):{if(!e.toTag)return void this.logger.error("2xx INVITE response received without a to tag, dropping.");if(!e.parseHeader("contact"))return void this.logger.error("2xx INVITE response received without a Contact header field, dropping.");const r=To.initialDialogStateForUserAgentClient(this.message,e);let i=this.confirmedDialogs.get(r.id);if(i){const s=this.confirmedDialogAcks.get(r.id);if(s){const a=this.transaction;if(!(a instanceof Ir))throw new Error("Client transaction not instance of InviteClientTransaction.");a.ackResponse(s.message)}return}if(i=this.earlyDialogs.get(r.id),i)i.confirm(),i.recomputeRouteSet(e),this.earlyDialogs.delete(i.id),this.confirmedDialogs.set(i.id,i);else{const s=this.transaction;if(!(s instanceof Ir))throw new Error("Transaction not instance of InviteClientTransaction.");i=new Al(s,this.core,r),this.confirmedDialogs.set(i.id,i)}i.signalingState!==Z.Initial&&i.signalingState!==Z.HaveLocalOffer||i.signalingStateTransition(e);const o=i;if(this.delegate&&this.delegate.onAccept)this.delegate.onAccept({message:e,session:o,ack:s=>{const a=o.ack(s);return this.confirmedDialogAcks.set(o.id,a),a}});else{const s=o.ack();this.confirmedDialogAcks.set(o.id,s)}}return;case/^3[0-9]{2}$/.test(n):return this.earlyDialogs.forEach(r=>r.dispose()),this.earlyDialogs.clear(),void(this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e}));case/^[4-6][0-9]{2}$/.test(n):return this.earlyDialogs.forEach(r=>r.dispose()),this.earlyDialogs.clear(),void(this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e}));default:throw new Error(`Invalid status code ${n}`)}}}class bu extends Yn{constructor(e,n,r){super(Ht,e,n,r),this.core=e}dispose(){this.earlyDialog&&this.earlyDialog.dispose(),super.dispose()}accept(e={statusCode:200}){if(!this.acceptable)throw new xr(`${this.message.method} not acceptable in state ${this.transaction.state}.`);if(!this.confirmedDialog)if(this.earlyDialog)this.earlyDialog.confirm(),this.confirmedDialog=this.earlyDialog,this.earlyDialog=void 0;else{const l=this.transaction;if(!(l instanceof Ht))throw new Error("Transaction not instance of InviteClientTransaction.");const c=To.initialDialogStateForUserAgentServer(this.message,this.toTag);this.confirmedDialog=new Al(l,this.core,c)}const n=this.message.getHeaders("record-route").map(l=>`Record-Route: ${l}`),r=`Contact: ${this.core.configuration.contact.toString()}`,i="Allow: "+kr.toString();if(!e.body){if(this.confirmedDialog.signalingState===Z.Stable)e.body=this.confirmedDialog.answer;else if(this.confirmedDialog.signalingState===Z.Initial||this.confirmedDialog.signalingState===Z.HaveRemoteOffer)throw new Error("Response must have a body.")}e.statusCode=e.statusCode||200,e.extraHeaders=e.extraHeaders||[],e.extraHeaders=e.extraHeaders.concat(n),e.extraHeaders.push(i),e.extraHeaders.push(r);const o=super.accept(e),s=this.confirmedDialog,a=Object.assign(Object.assign({},o),{session:s});return e.body&&this.confirmedDialog.signalingState!==Z.Stable&&this.confirmedDialog.signalingStateTransition(e.body),a}progress(e={statusCode:180}){if(!this.progressable)throw new xr(`${this.message.method} not progressable in state ${this.transaction.state}.`);if(!this.earlyDialog){const a=this.transaction;if(!(a instanceof Ht))throw new Error("Transaction not instance of InviteClientTransaction.");const l=To.initialDialogStateForUserAgentServer(this.message,this.toTag,!0);this.earlyDialog=new Al(a,this.core,l)}const n=this.message.getHeaders("record-route").map(a=>`Record-Route: ${a}`),r=`Contact: ${this.core.configuration.contact}`;e.extraHeaders=e.extraHeaders||[],e.extraHeaders=e.extraHeaders.concat(n),e.extraHeaders.push(r);const i=super.progress(e),o=this.earlyDialog,s=Object.assign(Object.assign({},i),{session:o});return e.body&&this.earlyDialog.signalingState!==Z.Stable&&this.earlyDialog.signalingStateTransition(e.body),s}redirect(e,n={statusCode:302}){return super.redirect(e,n)}reject(e={statusCode:486}){return super.reject(e)}}class aI extends It{constructor(e,n,r){super(Jt,e,n,r)}}class lI extends It{constructor(e,n,r){super(Jt,e,n,r)}}class cI extends Yn{constructor(e,n,r){super(Wt,e,n,r),this.core=e}}class uI extends It{constructor(e,n,r){const i=e.createOutgoingRequestMessage(ee.SUBSCRIBE,r);super(Jt,e.userAgentCore,i,n),this.dialog=e}waitNotifyStop(){}receiveResponse(e){if(e.statusCode&&e.statusCode>=200&&e.statusCode<300){const n=e.getHeader("Expires");if(n){const r=Number(n);this.dialog.subscriptionExpires>r&&(this.dialog.subscriptionExpires=r)}else this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE")}e.statusCode&&e.statusCode>=400&&e.statusCode<700&&[404,405,410,416,480,481,482,483,484,485,489,501,604].includes(e.statusCode)&&this.dialog.terminate(),super.receiveResponse(e)}}class um extends To{constructor(e,n,r,i,o,s){super(i,o),this.delegate=s,this._autoRefresh=!1,this._subscriptionEvent=e,this._subscriptionExpires=n,this._subscriptionExpiresInitial=n,this._subscriptionExpiresLastSet=Math.floor(Date.now()/1e3),this._subscriptionRefresh=void 0,this._subscriptionRefreshLastSet=void 0,this._subscriptionState=r,this.logger=i.loggerFactory.getLogger("sip.subscribe-dialog"),this.logger.log(`SUBSCRIBE dialog ${this.id} constructed`)}static initialDialogStateForSubscription(e,n){const r=n.getHeaders("record-route"),i=n.parseHeader("contact");if(!i)throw new Error("Contact undefined.");if(!(i instanceof Lt))throw new Error("Contact not instance of NameAddrHeader.");const o=i.uri,s=e.cseq,a=e.callId,l=e.fromTag,c=n.fromTag;if(!a)throw new Error("Call id undefined.");if(!l)throw new Error("From tag undefined.");if(!c)throw new Error("To tag undefined.");if(!e.from)throw new Error("From undefined.");if(!e.to)throw new Error("To undefined.");return{id:a+l+c,early:!1,callId:a,localTag:l,remoteTag:c,localSequenceNumber:s,remoteSequenceNumber:void 0,localURI:e.from.uri,remoteURI:e.to.uri,remoteTarget:o,routeSet:r,secure:!1}}dispose(){super.dispose(),this.N&&(clearTimeout(this.N),this.N=void 0),this.refreshTimerClear(),this.logger.log(`SUBSCRIBE dialog ${this.id} destroyed`)}get autoRefresh(){return this._autoRefresh}set autoRefresh(e){this._autoRefresh=!0,this.refreshTimerSet()}get subscriptionEvent(){return this._subscriptionEvent}get subscriptionExpires(){const e=Math.floor(Date.now()/1e3)-this._subscriptionExpiresLastSet,n=this._subscriptionExpires-e;return Math.max(n,0)}set subscriptionExpires(e){if(e<0)throw new Error("Expires must be greater than or equal to zero.");if(this._subscriptionExpires=e,this._subscriptionExpiresLastSet=Math.floor(Date.now()/1e3),this.autoRefresh){const n=this.subscriptionRefresh;(n===void 0||n>=e)&&this.refreshTimerSet()}}get subscriptionExpiresInitial(){return this._subscriptionExpiresInitial}get subscriptionRefresh(){if(this._subscriptionRefresh===void 0||this._subscriptionRefreshLastSet===void 0)return;const e=Math.floor(Date.now()/1e3)-this._subscriptionRefreshLastSet,n=this._subscriptionRefresh-e;return Math.max(n,0)}get subscriptionState(){return this._subscriptionState}receiveRequest(e){this.logger.log(`SUBSCRIBE dialog ${this.id} received ${e.method} request`),this.sequenceGuard(e)?(super.receiveRequest(e),e.method===ee.NOTIFY?this.onNotify(e):(this.logger.log(`SUBSCRIBE dialog ${this.id} received unimplemented ${e.method} request`),this.core.replyStateless(e,{statusCode:501}))):this.logger.log(`SUBSCRIBE dialog ${this.id} rejected out of order ${e.method} request.`)}refresh(){const e="Allow: "+kr.toString(),n={};return n.extraHeaders=(n.extraHeaders||[]).slice(),n.extraHeaders.push(e),n.extraHeaders.push("Event: "+this.subscriptionEvent),n.extraHeaders.push("Expires: "+this.subscriptionExpiresInitial),n.extraHeaders.push("Contact: "+this.core.configuration.contact.toString()),this.subscribe(void 0,n)}subscribe(e,n={}){var r;if(this.subscriptionState!==Ie.Pending&&this.subscriptionState!==Ie.Active)throw new Error(`Invalid state ${this.subscriptionState}. May only re-subscribe while in state "pending" or "active".`);this.logger.log(`SUBSCRIBE dialog ${this.id} sending SUBSCRIBE request`);const i=new uI(this,e,n);return this.N&&(clearTimeout(this.N),this.N=void 0),!((r=n.extraHeaders)===null||r===void 0)&&r.includes("Expires: 0")||(this.N=setTimeout(()=>this.timerN(),dt.TIMER_N)),i}terminate(){this.stateTransition(Ie.Terminated),this.onTerminated()}unsubscribe(){const e="Allow: "+kr.toString(),n={};return n.extraHeaders=(n.extraHeaders||[]).slice(),n.extraHeaders.push(e),n.extraHeaders.push("Event: "+this.subscriptionEvent),n.extraHeaders.push("Expires: 0"),n.extraHeaders.push("Contact: "+this.core.configuration.contact.toString()),this.subscribe(void 0,n)}onNotify(e){const n=e.parseHeader("Event").event;if(!n||n!==this.subscriptionEvent)return void this.core.replyStateless(e,{statusCode:489});this.N&&(clearTimeout(this.N),this.N=void 0);const r=e.parseHeader("Subscription-State");if(!r||!r.state)return void this.core.replyStateless(e,{statusCode:489});const i=r.state,o=r.expires?Math.max(r.expires,0):void 0;switch(i){case"pending":this.stateTransition(Ie.Pending,o);break;case"active":this.stateTransition(Ie.Active,o);break;case"terminated":this.stateTransition(Ie.Terminated,o);break;default:this.logger.warn("Unrecognized subscription state.")}const s=new _l(this,e);this.delegate&&this.delegate.onNotify?this.delegate.onNotify(s):s.accept()}onRefresh(e){this.delegate&&this.delegate.onRefresh&&this.delegate.onRefresh(e)}onTerminated(){this.delegate&&this.delegate.onTerminated&&this.delegate.onTerminated()}refreshTimerClear(){this.refreshTimer&&(clearTimeout(this.refreshTimer),this.refreshTimer=void 0)}refreshTimerSet(){if(this.refreshTimerClear(),this.autoRefresh&&this.subscriptionExpires>0){const e=900*this.subscriptionExpires;this._subscriptionRefresh=Math.floor(e/1e3),this._subscriptionRefreshLastSet=Math.floor(Date.now()/1e3),this.refreshTimer=setTimeout(()=>{this.refreshTimer=void 0,this._subscriptionRefresh=void 0,this._subscriptionRefreshLastSet=void 0,this.onRefresh(this.refresh())},e)}}stateTransition(e,n){const r=()=>{this.logger.warn(`Invalid subscription state transition from ${this.subscriptionState} to ${e}`)};switch(e){case Ie.Initial:case Ie.NotifyWait:return void r();case Ie.Pending:if(this.subscriptionState!==Ie.NotifyWait&&this.subscriptionState!==Ie.Pending)return void r();break;case Ie.Active:case Ie.Terminated:if(this.subscriptionState!==Ie.NotifyWait&&this.subscriptionState!==Ie.Pending&&this.subscriptionState!==Ie.Active)return void r();break;default:return void r()}e===Ie.Pending&&n&&(this.subscriptionExpires=n),e===Ie.Active&&n&&(this.subscriptionExpires=n),e===Ie.Terminated&&this.dispose(),this._subscriptionState=e}timerN(){this.logger.warn("Timer N expired for SUBSCRIBE dialog. Timed out waiting for NOTIFY."),this.subscriptionState!==Ie.Terminated&&(this.stateTransition(Ie.Terminated),this.onTerminated())}}class dI extends It{constructor(e,n,r){const i=n.getHeader("Event");if(!i)throw new Error("Event undefined");const o=n.getHeader("Expires");if(!o)throw new Error("Expires undefined");super(Jt,e,n,r),this.delegate=r,this.subscriberId=n.callId+n.fromTag+i,this.subscriptionExpiresRequested=this.subscriptionExpires=Number(o),this.subscriptionEvent=i,this.subscriptionState=Ie.NotifyWait,this.waitNotifyStart()}dispose(){super.dispose()}onNotify(e){const n=e.message.parseHeader("Event").event;if(!n||n!==this.subscriptionEvent)return this.logger.warn("Failed to parse event."),void e.reject({statusCode:489});const r=e.message.parseHeader("Subscription-State");if(!r||!r.state)return this.logger.warn("Failed to parse subscription state."),void e.reject({statusCode:489});const i=r.state;switch(i){case"pending":case"active":case"terminated":break;default:return this.logger.warn(`Invalid subscription state ${i}`),void e.reject({statusCode:489})}if(i!=="terminated"&&!e.message.parseHeader("contact"))return this.logger.warn("Failed to parse contact."),void e.reject({statusCode:489});if(this.dialog)throw new Error("Dialog already created. This implementation only supports install of single subscriptions.");switch(this.waitNotifyStop(),this.subscriptionExpires=r.expires?Math.min(this.subscriptionExpires,Math.max(r.expires,0)):this.subscriptionExpires,i){case"pending":this.subscriptionState=Ie.Pending;break;case"active":this.subscriptionState=Ie.Active;break;case"terminated":this.subscriptionState=Ie.Terminated;break;default:throw new Error(`Unrecognized state ${i}.`)}if(this.subscriptionState!==Ie.Terminated){const o=um.initialDialogStateForSubscription(this.message,e.message);this.dialog=new um(this.subscriptionEvent,this.subscriptionExpires,this.subscriptionState,this.core,o)}if(this.delegate&&this.delegate.onNotify){const o=e,s=this.dialog;this.delegate.onNotify({request:o,subscription:s})}else e.accept()}waitNotifyStart(){this.N||(this.core.subscribers.set(this.subscriberId,this),this.N=setTimeout(()=>this.timerN(),dt.TIMER_N))}waitNotifyStop(){this.N&&(this.core.subscribers.delete(this.subscriberId),clearTimeout(this.N),this.N=void 0)}receiveResponse(e){if(this.authenticationGuard(e)){if(e.statusCode&&e.statusCode>=200&&e.statusCode<300){const n=e.getHeader("Expires");if(n){const r=Number(n);r>this.subscriptionExpiresRequested&&this.logger.warn("Expires header in a 200-class response to SUBSCRIBE with a higher value than the one in the request"),r<this.subscriptionExpires&&(this.subscriptionExpires=r)}else this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE");this.dialog&&this.dialog.subscriptionExpires>this.subscriptionExpires&&(this.dialog.subscriptionExpires=this.subscriptionExpires)}e.statusCode&&e.statusCode>=300&&e.statusCode<700&&this.waitNotifyStop(),super.receiveResponse(e)}}timerN(){this.logger.warn("Timer N expired for SUBSCRIBE user agent client. Timed out waiting for NOTIFY."),this.waitNotifyStop(),this.delegate&&this.delegate.onNotifyTimeout&&this.delegate.onNotifyTimeout()}}class hI extends Yn{constructor(e,n,r){super(Wt,e,n,r),this.core=e}}const dm=["application/sdp","application/dtmf-relay"];class fI{constructor(e,n={}){this.userAgentClients=new Map,this.userAgentServers=new Map,this.configuration=e,this.delegate=n,this.dialogs=new Map,this.subscribers=new Map,this.logger=e.loggerFactory.getLogger("sip.user-agent-core")}dispose(){this.reset()}reset(){this.dialogs.forEach(e=>e.dispose()),this.dialogs.clear(),this.subscribers.forEach(e=>e.dispose()),this.subscribers.clear(),this.userAgentClients.forEach(e=>e.dispose()),this.userAgentClients.clear(),this.userAgentServers.forEach(e=>e.dispose()),this.userAgentServers.clear()}get loggerFactory(){return this.configuration.loggerFactory}get transport(){const e=this.configuration.transportAccessor();if(!e)throw new Error("Transport undefined.");return e}invite(e,n){return new sI(this,e,n)}message(e,n){return new Qw(this,e,n)}publish(e,n){return new aI(this,e,n)}register(e,n){return new lI(this,e,n)}subscribe(e,n){return new dI(this,e,n)}request(e,n){return new It(Jt,this,e,n)}makeOutgoingRequestMessage(e,n,r,i,o,s,a){const l=this.configuration.sipjsId,c=this.configuration.displayName,u=this.configuration.viaForceRport,d=this.configuration.hackViaTcp,p=this.configuration.supportedOptionTags.slice();e===ee.REGISTER&&p.push("path","gruu"),e===ee.INVITE&&(this.configuration.contact.pubGruu||this.configuration.contact.tempGruu)&&p.push("gruu");const g={callIdPrefix:l,forceRport:u,fromDisplayName:c,hackViaTcp:d,optionTags:p,routeSet:this.configuration.routeSet,userAgentString:this.configuration.userAgentHeaderFieldValue,viaHost:this.configuration.viaHost},y=Object.assign(Object.assign({},g),o);return new fi(e,n,r,i,y,s,a)}receiveIncomingRequestFromTransport(e){this.receiveRequestFromTransport(e)}receiveIncomingResponseFromTransport(e){this.receiveResponseFromTransport(e)}replyStateless(e,n){const r=this.configuration.userAgentHeaderFieldValue,i=this.configuration.supportedOptionTagsResponse;n=Object.assign(Object.assign({},n),{userAgent:r,supported:i});const o=Kw(e,n);return this.transport.send(o.message).catch(s=>{s instanceof Error&&this.logger.error(s.message),this.logger.error(`Transport error occurred sending stateless reply to ${e.method} request.`)}),o}receiveRequestFromTransport(e){const n=e.viaBranch,r=this.userAgentServers.get(n);e.method===ee.ACK&&r&&r.transaction.state===j.Accepted&&r instanceof bu?this.logger.warn(`Discarding out of dialog ACK after 2xx response sent on transaction ${n}.`):e.method!==ee.CANCEL?r?r.transaction.receiveRequest(e):this.receiveRequest(e):r?(this.replyStateless(e,{statusCode:200}),r.transaction instanceof Ht&&r.transaction.state===j.Proceeding&&r instanceof bu&&r.receiveCancel(e)):this.replyStateless(e,{statusCode:481})}receiveRequest(e){if(!kr.includes(e.method)){const i="Allow: "+kr.toString();return void this.replyStateless(e,{statusCode:405,extraHeaders:[i]})}if(!e.ruri)throw new Error("Request-URI undefined.");if(e.ruri.scheme!=="sip")return void this.replyStateless(e,{statusCode:416});const n=e.ruri,r=i=>!!i&&i.user===n.user;if(!r(this.configuration.aor)&&!(r(this.configuration.contact.uri)||r(this.configuration.contact.pubGruu)||r(this.configuration.contact.tempGruu)))return this.logger.warn("Request-URI does not point to us."),void(e.method!==ee.ACK&&this.replyStateless(e,{statusCode:404}));if(e.method!==ee.INVITE||e.hasHeader("Contact")){if(!e.toTag){const i=e.viaBranch;if(!this.userAgentServers.has(i)&&Array.from(this.userAgentServers.values()).some(o=>o.transaction.request.fromTag===e.fromTag&&o.transaction.request.callId===e.callId&&o.transaction.request.cseq===e.cseq))return void this.replyStateless(e,{statusCode:482})}e.toTag?this.receiveInsideDialogRequest(e):this.receiveOutsideDialogRequest(e)}else this.replyStateless(e,{statusCode:400,reasonPhrase:"Missing Contact Header"})}receiveInsideDialogRequest(e){if(e.method===ee.NOTIFY){const i=e.parseHeader("Event");if(!i||!i.event)return void this.replyStateless(e,{statusCode:489});const o=e.callId+e.toTag+i.event,s=this.subscribers.get(o);if(s){const a=new _l(this,e);return void s.onNotify(a)}}const n=e.callId+e.toTag+e.fromTag,r=this.dialogs.get(n);if(r){if(e.method===ee.OPTIONS){const i="Allow: "+kr.toString(),o="Accept: "+dm.toString();return void this.replyStateless(e,{statusCode:200,extraHeaders:[i,o]})}r.receiveRequest(e)}else e.method!==ee.ACK&&this.replyStateless(e,{statusCode:481})}receiveOutsideDialogRequest(e){switch(e.method){case ee.ACK:break;case ee.BYE:this.replyStateless(e,{statusCode:481});break;case ee.CANCEL:throw new Error(`Unexpected out of dialog request method ${e.method}.`);case ee.INFO:this.replyStateless(e,{statusCode:405});break;case ee.INVITE:{const n=new bu(this,e);this.delegate.onInvite?this.delegate.onInvite(n):n.reject()}break;case ee.MESSAGE:{const n=new Jw(this,e);this.delegate.onMessage?this.delegate.onMessage(n):n.accept()}break;case ee.NOTIFY:{const n=new _l(this,e);this.delegate.onNotify?this.delegate.onNotify(n):n.reject({statusCode:405})}break;case ee.OPTIONS:{const n="Allow: "+kr.toString(),r="Accept: "+dm.toString();this.replyStateless(e,{statusCode:200,extraHeaders:[n,r]})}break;case ee.REFER:{const n=new e1(this,e);this.delegate.onRefer?this.delegate.onRefer(n):n.reject({statusCode:405})}break;case ee.REGISTER:{const n=new cI(this,e);this.delegate.onRegister?this.delegate.onRegister(n):n.reject({statusCode:405})}break;case ee.SUBSCRIBE:{const n=new hI(this,e);this.delegate.onSubscribe?this.delegate.onSubscribe(n):n.reject({statusCode:480})}break;default:throw new Error(`Unexpected out of dialog request method ${e.method}.`)}}receiveResponseFromTransport(e){if(e.getHeaders("via").length>1)return void this.logger.warn("More than one Via header field present in the response, dropping");const n=e.viaBranch+e.method,r=this.userAgentClients.get(n);r?r.transaction.receiveResponse(e):this.logger.warn(`Discarding unmatched ${e.statusCode} response to ${e.method} ${n}.`)}}class Zn{constructor(e,n,r){e.debug("SessionDescriptionHandler.constructor"),this.logger=e,this.mediaStreamFactory=n,this.sessionDescriptionHandlerConfiguration=r,this._localMediaStream=new MediaStream,this._remoteMediaStream=new MediaStream,this._peerConnection=new RTCPeerConnection(r==null?void 0:r.peerConnectionConfiguration),this.initPeerConnectionEventHandlers()}get localMediaStream(){return this._localMediaStream}get remoteMediaStream(){return this._remoteMediaStream}get dataChannel(){return this._dataChannel}get peerConnection(){return this._peerConnection}get peerConnectionDelegate(){return this._peerConnectionDelegate}set peerConnectionDelegate(e){this._peerConnectionDelegate=e}static dispatchAddTrackEvent(e,n){e.dispatchEvent(new MediaStreamTrackEvent("addtrack",{track:n}))}static dispatchRemoveTrackEvent(e,n){e.dispatchEvent(new MediaStreamTrackEvent("removetrack",{track:n}))}close(){this.logger.debug("SessionDescriptionHandler.close"),this._peerConnection!==void 0&&(this._peerConnection.getReceivers().forEach(e=>{e.track&&e.track.stop()}),this._peerConnection.getSenders().forEach(e=>{e.track&&e.track.stop()}),this._dataChannel&&this._dataChannel.close(),this._peerConnection.close(),this._peerConnection=void 0)}enableReceiverTracks(e){const n=this.peerConnection;if(!n)throw new Error("Peer connection closed.");n.getReceivers().forEach(r=>{r.track&&(r.track.enabled=e)})}enableSenderTracks(e){const n=this.peerConnection;if(!n)throw new Error("Peer connection closed.");n.getSenders().forEach(r=>{r.track&&(r.track.enabled=e)})}getDescription(e,n){var r,i;if(this.logger.debug("SessionDescriptionHandler.getDescription"),this._peerConnection===void 0)return Promise.reject(new Error("Peer connection closed."));this.onDataChannel=e==null?void 0:e.onDataChannel;const o=(r=e==null?void 0:e.offerOptions)===null||r===void 0?void 0:r.iceRestart,s=(e==null?void 0:e.iceGatheringTimeout)===void 0?(i=this.sessionDescriptionHandlerConfiguration)===null||i===void 0?void 0:i.iceGatheringTimeout:e==null?void 0:e.iceGatheringTimeout;return this.getLocalMediaStream(e).then(()=>this.updateDirection(e)).then(()=>this.createDataChannel(e)).then(()=>this.createLocalOfferOrAnswer(e)).then(a=>this.applyModifiers(a,n)).then(a=>this.setLocalSessionDescription(a)).then(()=>this.waitForIceGatheringComplete(o,s)).then(()=>this.getLocalSessionDescription()).then(a=>({body:a.sdp,contentType:"application/sdp"})).catch(a=>{throw this.logger.error("SessionDescriptionHandler.getDescription failed - "+a),a})}hasDescription(e){return this.logger.debug("SessionDescriptionHandler.hasDescription"),e==="application/sdp"}iceGatheringComplete(){this.logger.debug("SessionDescriptionHandler.iceGatheringComplete"),this.iceGatheringCompleteTimeoutId!==void 0&&(this.logger.debug("SessionDescriptionHandler.iceGatheringComplete - clearing timeout"),clearTimeout(this.iceGatheringCompleteTimeoutId),this.iceGatheringCompleteTimeoutId=void 0),this.iceGatheringCompletePromise!==void 0&&(this.logger.debug("SessionDescriptionHandler.iceGatheringComplete - resolving promise"),this.iceGatheringCompleteResolve&&this.iceGatheringCompleteResolve(),this.iceGatheringCompletePromise=void 0,this.iceGatheringCompleteResolve=void 0,this.iceGatheringCompleteReject=void 0)}sendDtmf(e,n){if(this.logger.debug("SessionDescriptionHandler.sendDtmf"),this._peerConnection===void 0)return this.logger.error("SessionDescriptionHandler.sendDtmf failed - peer connection closed"),!1;const r=this._peerConnection.getSenders();if(r.length===0)return this.logger.error("SessionDescriptionHandler.sendDtmf failed - no senders"),!1;const i=r[0].dtmf;if(!i)return this.logger.error("SessionDescriptionHandler.sendDtmf failed - no DTMF sender"),!1;const o=n==null?void 0:n.duration,s=n==null?void 0:n.interToneGap;try{i.insertDTMF(e,o,s)}catch(a){return this.logger.error(a.toString()),!1}return this.logger.log("SessionDescriptionHandler.sendDtmf sent via RTP: "+e.toString()),!0}setDescription(e,n,r){if(this.logger.debug("SessionDescriptionHandler.setDescription"),this._peerConnection===void 0)return Promise.reject(new Error("Peer connection closed."));this.onDataChannel=n==null?void 0:n.onDataChannel;const i=this._peerConnection.signalingState==="have-local-offer"?"answer":"offer";return this.getLocalMediaStream(n).then(()=>this.applyModifiers({sdp:e,type:i},r)).then(o=>this.setRemoteSessionDescription(o)).catch(o=>{throw this.logger.error("SessionDescriptionHandler.setDescription failed - "+o),o})}applyModifiers(e,n){return this.logger.debug("SessionDescriptionHandler.applyModifiers"),n&&n.length!==0?n.reduce((r,i)=>r.then(i),Promise.resolve(e)).then(r=>{if(this.logger.debug("SessionDescriptionHandler.applyModifiers - modified sdp"),!r.sdp||!r.type)throw new Error("Invalid SDP.");return{sdp:r.sdp,type:r.type}}):Promise.resolve(e)}createDataChannel(e){if(this._peerConnection===void 0)return Promise.reject(new Error("Peer connection closed."));if((e==null?void 0:e.dataChannel)!==!0||this._dataChannel)return Promise.resolve();switch(this._peerConnection.signalingState){case"stable":this.logger.debug("SessionDescriptionHandler.createDataChannel - creating data channel");try{return this._dataChannel=this._peerConnection.createDataChannel((e==null?void 0:e.dataChannelLabel)||"",e==null?void 0:e.dataChannelOptions),this.onDataChannel&&this.onDataChannel(this._dataChannel),Promise.resolve()}catch(n){return Promise.reject(n)}case"have-remote-offer":return Promise.resolve();default:return Promise.reject(new Error("Invalid signaling state "+this._peerConnection.signalingState))}}createLocalOfferOrAnswer(e){if(this._peerConnection===void 0)return Promise.reject(new Error("Peer connection closed."));switch(this._peerConnection.signalingState){case"stable":return this.logger.debug("SessionDescriptionHandler.createLocalOfferOrAnswer - creating SDP offer"),this._peerConnection.createOffer(e==null?void 0:e.offerOptions);case"have-remote-offer":return this.logger.debug("SessionDescriptionHandler.createLocalOfferOrAnswer - creating SDP answer"),this._peerConnection.createAnswer(e==null?void 0:e.answerOptions);default:return Promise.reject(new Error("Invalid signaling state "+this._peerConnection.signalingState))}}getLocalMediaStream(e){if(this.logger.debug("SessionDescriptionHandler.getLocalMediaStream"),this._peerConnection===void 0)return Promise.reject(new Error("Peer connection closed."));let n=Object.assign({},e==null?void 0:e.constraints);if(this.localMediaStreamConstraints){if(n.audio=n.audio||this.localMediaStreamConstraints.audio,n.video=n.video||this.localMediaStreamConstraints.video,JSON.stringify(this.localMediaStreamConstraints.audio)===JSON.stringify(n.audio)&&JSON.stringify(this.localMediaStreamConstraints.video)===JSON.stringify(n.video))return Promise.resolve()}else n.audio===void 0&&n.video===void 0&&(n={audio:!0});return this.localMediaStreamConstraints=n,this.mediaStreamFactory(n,this,e).then(r=>this.setLocalMediaStream(r))}setLocalMediaStream(e){if(this.logger.debug("SessionDescriptionHandler.setLocalMediaStream"),!this._peerConnection)throw new Error("Peer connection undefined.");const n=this._peerConnection,r=this._localMediaStream,i=[],o=l=>{const c=l.kind;if(c!=="audio"&&c!=="video")throw new Error(`Unknown new track kind ${c}.`);const u=n.getSenders().find(d=>d.track&&d.track.kind===c);u?i.push(new Promise(d=>{this.logger.debug(`SessionDescriptionHandler.setLocalMediaStream - replacing sender ${c} track`),d()}).then(()=>u.replaceTrack(l).then(()=>{const d=r.getTracks().find(p=>p.kind===c);d&&(d.stop(),r.removeTrack(d),Zn.dispatchRemoveTrackEvent(r,d)),r.addTrack(l),Zn.dispatchAddTrackEvent(r,l)}).catch(d=>{throw this.logger.error(`SessionDescriptionHandler.setLocalMediaStream - failed to replace sender ${c} track`),d}))):i.push(new Promise(d=>{this.logger.debug(`SessionDescriptionHandler.setLocalMediaStream - adding sender ${c} track`),d()}).then(()=>{try{n.addTrack(l,r)}catch(d){throw this.logger.error(`SessionDescriptionHandler.setLocalMediaStream - failed to add sender ${c} track`),d}r.addTrack(l),Zn.dispatchAddTrackEvent(r,l)}))},s=e.getAudioTracks();s.length&&o(s[0]);const a=e.getVideoTracks();return a.length&&o(a[0]),i.reduce((l,c)=>l.then(()=>c),Promise.resolve())}getLocalSessionDescription(){if(this.logger.debug("SessionDescriptionHandler.getLocalSessionDescription"),this._peerConnection===void 0)return Promise.reject(new Error("Peer connection closed."));const e=this._peerConnection.localDescription;return e?Promise.resolve(e):Promise.reject(new Error("Failed to get local session description"))}setLocalSessionDescription(e){return this.logger.debug("SessionDescriptionHandler.setLocalSessionDescription"),this._peerConnection===void 0?Promise.reject(new Error("Peer connection closed.")):this._peerConnection.setLocalDescription(e)}setRemoteSessionDescription(e){if(this.logger.debug("SessionDescriptionHandler.setRemoteSessionDescription"),this._peerConnection===void 0)return Promise.reject(new Error("Peer connection closed."));const n=e.sdp;let r;switch(this._peerConnection.signalingState){case"stable":r="offer";break;case"have-local-offer":r="answer";break;default:return Promise.reject(new Error("Invalid signaling state "+this._peerConnection.signalingState))}return n?this._peerConnection.setRemoteDescription({sdp:n,type:r}):(this.logger.error("SessionDescriptionHandler.setRemoteSessionDescription failed - cannot set null sdp"),Promise.reject(new Error("SDP is undefined")))}setRemoteTrack(e){this.logger.debug("SessionDescriptionHandler.setRemoteTrack");const n=this._remoteMediaStream;n.getTrackById(e.id)?this.logger.debug(`SessionDescriptionHandler.setRemoteTrack - have remote ${e.kind} track`):e.kind==="audio"?(this.logger.debug(`SessionDescriptionHandler.setRemoteTrack - adding remote ${e.kind} track`),n.getAudioTracks().forEach(r=>{r.stop(),n.removeTrack(r),Zn.dispatchRemoveTrackEvent(n,r)}),n.addTrack(e),Zn.dispatchAddTrackEvent(n,e)):e.kind==="video"&&(this.logger.debug(`SessionDescriptionHandler.setRemoteTrack - adding remote ${e.kind} track`),n.getVideoTracks().forEach(r=>{r.stop(),n.removeTrack(r),Zn.dispatchRemoveTrackEvent(n,r)}),n.addTrack(e),Zn.dispatchAddTrackEvent(n,e))}updateDirection(e){if(this._peerConnection===void 0)return Promise.reject(new Error("Peer connection closed."));switch(this._peerConnection.signalingState){case"stable":this.logger.debug("SessionDescriptionHandler.updateDirection - setting offer direction");{const n=r=>{switch(r){case"inactive":case"recvonly":return e!=null&&e.hold?"inactive":"recvonly";case"sendonly":case"sendrecv":return e!=null&&e.hold?"sendonly":"sendrecv";case"stopped":return"stopped";default:throw new Error("Should never happen")}};this._peerConnection.getTransceivers().forEach(r=>{if(r.direction){const i=n(r.direction);r.direction!==i&&(r.direction=i)}})}break;case"have-remote-offer":this.logger.debug("SessionDescriptionHandler.updateDirection - setting answer direction");{const n=(()=>{const i=this._peerConnection.remoteDescription;if(!i)throw new Error("Failed to read remote offer");const o=/a=sendrecv\r\n|a=sendonly\r\n|a=recvonly\r\n|a=inactive\r\n/.exec(i.sdp);if(o)switch(o[0]){case`a=inactive\r
`:return"inactive";case`a=recvonly\r
`:return"recvonly";case`a=sendonly\r
`:return"sendonly";case`a=sendrecv\r
`:return"sendrecv";default:throw new Error("Should never happen")}return"sendrecv"})(),r=(()=>{switch(n){case"inactive":return"inactive";case"recvonly":return"sendonly";case"sendonly":return e!=null&&e.hold?"inactive":"recvonly";case"sendrecv":return e!=null&&e.hold?"sendonly":"sendrecv";default:throw new Error("Should never happen")}})();this._peerConnection.getTransceivers().forEach(i=>{i.direction&&i.direction!=="stopped"&&i.direction!==r&&(i.direction=r)})}break;default:return Promise.reject(new Error("Invalid signaling state "+this._peerConnection.signalingState))}return Promise.resolve()}waitForIceGatheringComplete(e=!1,n=0){return this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete"),this._peerConnection===void 0?Promise.reject("Peer connection closed."):e||this._peerConnection.iceGatheringState!=="complete"?(this.iceGatheringCompletePromise!==void 0&&(this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete - rejecting prior waiting promise"),this.iceGatheringCompleteReject&&this.iceGatheringCompleteReject(new Error("Promise superseded.")),this.iceGatheringCompletePromise=void 0,this.iceGatheringCompleteResolve=void 0,this.iceGatheringCompleteReject=void 0),this.iceGatheringCompletePromise=new Promise((r,i)=>{this.iceGatheringCompleteResolve=r,this.iceGatheringCompleteReject=i,n>0&&(this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete - timeout in "+n),this.iceGatheringCompleteTimeoutId=setTimeout(()=>{this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete - timeout"),this.iceGatheringComplete()},n))}),this.iceGatheringCompletePromise):(this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete - already complete"),Promise.resolve())}initPeerConnectionEventHandlers(){if(this.logger.debug("SessionDescriptionHandler.initPeerConnectionEventHandlers"),!this._peerConnection)throw new Error("Peer connection undefined.");const e=this._peerConnection;e.onconnectionstatechange=n=>{var r;const i=e.connectionState;this.logger.debug(`SessionDescriptionHandler.onconnectionstatechange ${i}`),!((r=this._peerConnectionDelegate)===null||r===void 0)&&r.onconnectionstatechange&&this._peerConnectionDelegate.onconnectionstatechange(n)},e.ondatachannel=n=>{var r;this.logger.debug("SessionDescriptionHandler.ondatachannel"),this._dataChannel=n.channel,this.onDataChannel&&this.onDataChannel(this._dataChannel),!((r=this._peerConnectionDelegate)===null||r===void 0)&&r.ondatachannel&&this._peerConnectionDelegate.ondatachannel(n)},e.onicecandidate=n=>{var r;this.logger.debug("SessionDescriptionHandler.onicecandidate"),!((r=this._peerConnectionDelegate)===null||r===void 0)&&r.onicecandidate&&this._peerConnectionDelegate.onicecandidate(n)},e.onicecandidateerror=n=>{var r;this.logger.debug("SessionDescriptionHandler.onicecandidateerror"),!((r=this._peerConnectionDelegate)===null||r===void 0)&&r.onicecandidateerror&&this._peerConnectionDelegate.onicecandidateerror(n)},e.oniceconnectionstatechange=n=>{var r;const i=e.iceConnectionState;this.logger.debug(`SessionDescriptionHandler.oniceconnectionstatechange ${i}`),!((r=this._peerConnectionDelegate)===null||r===void 0)&&r.oniceconnectionstatechange&&this._peerConnectionDelegate.oniceconnectionstatechange(n)},e.onicegatheringstatechange=n=>{var r;const i=e.iceGatheringState;this.logger.debug(`SessionDescriptionHandler.onicegatheringstatechange ${i}`),i==="complete"&&this.iceGatheringComplete(),!((r=this._peerConnectionDelegate)===null||r===void 0)&&r.onicegatheringstatechange&&this._peerConnectionDelegate.onicegatheringstatechange(n)},e.onnegotiationneeded=n=>{var r;this.logger.debug("SessionDescriptionHandler.onnegotiationneeded"),!((r=this._peerConnectionDelegate)===null||r===void 0)&&r.onnegotiationneeded&&this._peerConnectionDelegate.onnegotiationneeded(n)},e.onsignalingstatechange=n=>{var r;const i=e.signalingState;this.logger.debug(`SessionDescriptionHandler.onsignalingstatechange ${i}`),!((r=this._peerConnectionDelegate)===null||r===void 0)&&r.onsignalingstatechange&&this._peerConnectionDelegate.onsignalingstatechange(n)},e.ontrack=n=>{var r;const i=n.track.kind,o=n.track.enabled?"enabled":"disabled";this.logger.debug(`SessionDescriptionHandler.ontrack ${i} ${o}`),this.setRemoteTrack(n.track),!((r=this._peerConnectionDelegate)===null||r===void 0)&&r.ontrack&&this._peerConnectionDelegate.ontrack(n)}}}function pI(t){return(e,n)=>{t===void 0&&(t=o=>o.audio||o.video?navigator.mediaDevices===void 0?Promise.reject(new Error("Media devices not available in insecure contexts.")):navigator.mediaDevices.getUserMedia.call(navigator.mediaDevices,o):Promise.resolve(new MediaStream));const r={iceGatheringTimeout:(n==null?void 0:n.iceGatheringTimeout)!==void 0?n==null?void 0:n.iceGatheringTimeout:5e3,peerConnectionConfiguration:Object.assign(Object.assign({},{bundlePolicy:"balanced",certificates:void 0,iceCandidatePoolSize:0,iceServers:[{urls:"stun:stun.l.google.com:19302"}],iceTransportPolicy:"all",rtcpMuxPolicy:"require"}),n==null?void 0:n.peerConnectionConfiguration)},i=e.userAgent.getLogger("sip.SessionDescriptionHandler");return new Zn(i,t,r)}}class Rc{constructor(e,n){if(this._state=ce.Disconnected,this.transitioningState=!1,this._stateEventEmitter=new Hs,this.logger=e,n){const o=n,s=o==null?void 0:o.wsServers,a=o==null?void 0:o.maxReconnectionAttempts;if(s!==void 0){const l='The transport option "wsServers" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(l)}if(a!==void 0){const l='The transport option "maxReconnectionAttempts" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(l)}s&&!n.server&&(typeof s=="string"&&(n.server=s),s instanceof Array&&(n.server=s[0]))}this.configuration=Object.assign(Object.assign({},Rc.defaultOptions),n);const r=this.configuration.server,i=ot.parse(r,"absoluteURI");if(i===-1)throw this.logger.error(`Invalid WebSocket Server URL "${r}"`),new Error("Invalid WebSocket Server URL");if(!["wss","ws","udp"].includes(i.scheme))throw this.logger.error(`Invalid scheme in WebSocket Server URL "${r}"`),new Error("Invalid scheme in WebSocket Server URL");this._protocol=i.scheme.toUpperCase()}dispose(){return this.disconnect()}get protocol(){return this._protocol}get server(){return this.configuration.server}get state(){return this._state}get stateChange(){return this._stateEventEmitter}get ws(){return this._ws}connect(){return this._connect()}disconnect(){return this._disconnect()}isConnected(){return this.state===ce.Connected}send(e){return this._send(e)}_connect(){switch(this.logger.log(`Connecting ${this.server}`),this.state){case ce.Connecting:if(this.transitioningState)return Promise.reject(this.transitionLoopDetectedError(ce.Connecting));if(!this.connectPromise)throw new Error("Connect promise must be defined.");return this.connectPromise;case ce.Connected:if(this.transitioningState)return Promise.reject(this.transitionLoopDetectedError(ce.Connecting));if(this.connectPromise)throw new Error("Connect promise must not be defined.");return Promise.resolve();case ce.Disconnecting:if(this.connectPromise)throw new Error("Connect promise must not be defined.");try{this.transitionState(ce.Connecting)}catch(n){if(n instanceof Xo)return Promise.reject(n);throw n}break;case ce.Disconnected:if(this.connectPromise)throw new Error("Connect promise must not be defined.");try{this.transitionState(ce.Connecting)}catch(n){if(n instanceof Xo)return Promise.reject(n);throw n}break;default:throw new Error("Unknown state")}let e;try{e=new WebSocket(this.server,"sip"),e.binaryType="arraybuffer",e.addEventListener("close",n=>this.onWebSocketClose(n,e)),e.addEventListener("error",n=>this.onWebSocketError(n,e)),e.addEventListener("open",n=>this.onWebSocketOpen(n,e)),e.addEventListener("message",n=>this.onWebSocketMessage(n,e)),this._ws=e}catch(n){return this._ws=void 0,this.logger.error("WebSocket construction failed."),this.logger.error(n.toString()),new Promise((r,i)=>{this.connectResolve=r,this.connectReject=i,this.transitionState(ce.Disconnected,n)})}return this.connectPromise=new Promise((n,r)=>{this.connectResolve=n,this.connectReject=r,this.connectTimeout=setTimeout(()=>{this.logger.warn("Connect timed out. Exceeded time set in configuration.connectionTimeout: "+this.configuration.connectionTimeout+"s."),e.close(1e3)},1e3*this.configuration.connectionTimeout)}),this.connectPromise}_disconnect(){switch(this.logger.log(`Disconnecting ${this.server}`),this.state){case ce.Connecting:if(this.disconnectPromise)throw new Error("Disconnect promise must not be defined.");try{this.transitionState(ce.Disconnecting)}catch(n){if(n instanceof Xo)return Promise.reject(n);throw n}break;case ce.Connected:if(this.disconnectPromise)throw new Error("Disconnect promise must not be defined.");try{this.transitionState(ce.Disconnecting)}catch(n){if(n instanceof Xo)return Promise.reject(n);throw n}break;case ce.Disconnecting:if(this.transitioningState)return Promise.reject(this.transitionLoopDetectedError(ce.Disconnecting));if(!this.disconnectPromise)throw new Error("Disconnect promise must be defined.");return this.disconnectPromise;case ce.Disconnected:if(this.transitioningState)return Promise.reject(this.transitionLoopDetectedError(ce.Disconnecting));if(this.disconnectPromise)throw new Error("Disconnect promise must not be defined.");return Promise.resolve();default:throw new Error("Unknown state")}if(!this._ws)throw new Error("WebSocket must be defined.");const e=this._ws;return this.disconnectPromise=new Promise((n,r)=>{this.disconnectResolve=n,this.disconnectReject=r;try{e.close(1e3)}catch(i){throw this.logger.error("WebSocket close failed."),this.logger.error(i.toString()),i}}),this.disconnectPromise}_send(e){if(this.configuration.traceSip===!0&&this.logger.log(`Sending WebSocket message:

`+e+`
`),this._state!==ce.Connected)return Promise.reject(new Error("Not connected."));if(!this._ws)throw new Error("WebSocket undefined.");try{this._ws.send(e)}catch(n){return n instanceof Error?Promise.reject(n):Promise.reject(new Error("WebSocket send failed."))}return Promise.resolve()}onWebSocketClose(e,n){if(n!==this._ws)return;const r=`WebSocket closed ${this.server} (code: ${e.code})`,i=this.disconnectPromise?void 0:new Error(r);i&&this.logger.warn("WebSocket closed unexpectedly"),this.logger.log(r),this._ws=void 0,this.transitionState(ce.Disconnected,i)}onWebSocketError(e,n){n===this._ws&&this.logger.error("WebSocket error occurred.")}onWebSocketMessage(e,n){if(n!==this._ws)return;const r=e.data;let i;if(/^(\r\n)+$/.test(r))return this.clearKeepAliveTimeout(),void(this.configuration.traceSip===!0&&this.logger.log("Received WebSocket message with CRLF Keep Alive response"));if(r){if(typeof r!="string"){try{i=new TextDecoder().decode(new Uint8Array(r))}catch(o){return this.logger.error(o.toString()),void this.logger.error("Received WebSocket binary message failed to be converted into string, message discarded")}this.configuration.traceSip===!0&&this.logger.log(`Received WebSocket binary message:

`+i+`
`)}else i=r,this.configuration.traceSip===!0&&this.logger.log(`Received WebSocket text message:

`+i+`
`);if(this.state===ce.Connected){if(this.onMessage)try{this.onMessage(i)}catch(o){throw this.logger.error(o.toString()),this.logger.error("Exception thrown by onMessage callback"),o}}else this.logger.warn("Received message while not connected, discarding...")}else this.logger.warn("Received empty message, discarding...")}onWebSocketOpen(e,n){n===this._ws&&this._state===ce.Connecting&&(this.logger.log(`WebSocket opened ${this.server}`),this.transitionState(ce.Connected))}transitionLoopDetectedError(e){let n="A state transition loop has been detected.";return n+=` An attempt to transition from ${this._state} to ${e} before the prior transition completed.`,n+=" Perhaps you are synchronously calling connect() or disconnect() from a callback or state change handler?",this.logger.error(n),new Xo("Loop detected.")}transitionState(e,n){const r=()=>{throw new Error(`Invalid state transition from ${this._state} to ${e}`)};if(this.transitioningState)throw this.transitionLoopDetectedError(e);switch(this.transitioningState=!0,this._state){case ce.Connecting:e!==ce.Connected&&e!==ce.Disconnecting&&e!==ce.Disconnected&&r();break;case ce.Connected:e!==ce.Disconnecting&&e!==ce.Disconnected&&r();break;case ce.Disconnecting:e!==ce.Connecting&&e!==ce.Disconnected&&r();break;case ce.Disconnected:e!==ce.Connecting&&r();break;default:throw new Error("Unknown state.")}const i=this._state;this._state=e;const o=this.connectResolve,s=this.connectReject;i===ce.Connecting&&(this.connectPromise=void 0,this.connectResolve=void 0,this.connectReject=void 0);const a=this.disconnectResolve,l=this.disconnectReject;if(i===ce.Disconnecting&&(this.disconnectPromise=void 0,this.disconnectResolve=void 0,this.disconnectReject=void 0),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0),this.logger.log(`Transitioned from ${i} to ${this._state}`),this._stateEventEmitter.emit(this._state),e===ce.Connected&&(this.startSendingKeepAlives(),this.onConnect))try{this.onConnect()}catch(c){throw this.logger.error(c.toString()),this.logger.error("Exception thrown by onConnect callback"),c}if(i===ce.Connected&&(this.stopSendingKeepAlives(),this.onDisconnect))try{n?this.onDisconnect(n):this.onDisconnect()}catch(c){throw this.logger.error(c.toString()),this.logger.error("Exception thrown by onDisconnect callback"),c}if(i===ce.Connecting){if(!o)throw new Error("Connect resolve undefined.");if(!s)throw new Error("Connect reject undefined.");e===ce.Connected?o():s(n||new Error("Connect aborted."))}if(i===ce.Disconnecting){if(!a)throw new Error("Disconnect resolve undefined.");if(!l)throw new Error("Disconnect reject undefined.");e===ce.Disconnected?a():l(n||new Error("Disconnect aborted."))}this.transitioningState=!1}clearKeepAliveTimeout(){this.keepAliveDebounceTimeout&&clearTimeout(this.keepAliveDebounceTimeout),this.keepAliveDebounceTimeout=void 0}sendKeepAlive(){return this.keepAliveDebounceTimeout?Promise.resolve():(this.keepAliveDebounceTimeout=setTimeout(()=>{this.clearKeepAliveTimeout()},1e3*this.configuration.keepAliveDebounce),this.send(`\r
\r
`))}startSendingKeepAlives(){this.configuration.keepAliveInterval&&!this.keepAliveInterval&&(this.keepAliveInterval=setInterval(()=>{this.sendKeepAlive(),this.startSendingKeepAlives()},(e=>{const n=.8*e;return 1e3*(Math.random()*(e-n)+n)})(this.configuration.keepAliveInterval)))}stopSendingKeepAlives(){this.keepAliveInterval&&clearInterval(this.keepAliveInterval),this.keepAliveDebounceTimeout&&clearTimeout(this.keepAliveDebounceTimeout),this.keepAliveInterval=void 0,this.keepAliveDebounceTimeout=void 0}}Rc.defaultOptions={server:"",connectionTimeout:5,keepAliveInterval:0,keepAliveDebounce:10,traceSip:!0};class Hr{constructor(e={}){if(this._publishers={},this._registerers={},this._sessions={},this._subscriptions={},this._state=vt.Stopped,this._stateEventEmitter=new Hs,this.delegate=e.delegate,this.options=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Hr.defaultOptions()),{sipjsId:li(5)}),{uri:new Bn("sip","anonymous."+li(6),"anonymous.invalid")}),{viaHost:li(12)+".invalid"}),Hr.stripUndefinedProperties(e)),this.options.hackIpInContact)if(typeof this.options.hackIpInContact=="boolean"&&this.options.hackIpInContact){const i=Math.floor(Math.random()*254+1);this.options.viaHost="192.0.2."+i}else this.options.hackIpInContact&&(this.options.viaHost=this.options.hackIpInContact);switch(this.loggerFactory=new Kk,this.logger=this.loggerFactory.getLogger("sip.UserAgent"),this.loggerFactory.builtinEnabled=this.options.logBuiltinEnabled,this.loggerFactory.connector=this.options.logConnector,this.options.logLevel){case"error":this.loggerFactory.level=ut.error;break;case"warn":this.loggerFactory.level=ut.warn;break;case"log":this.loggerFactory.level=ut.log;break;case"debug":this.loggerFactory.level=ut.debug}if(this.options.logConfiguration&&(this.logger.log("Configuration:"),Object.keys(this.options).forEach(n=>{const r=this.options[n];switch(n){case"uri":case"sessionDescriptionHandlerFactory":this.logger.log("· "+n+": "+r);break;case"authorizationPassword":this.logger.log("· "+n+": NOT SHOWN");break;case"transportConstructor":this.logger.log("· "+n+": "+r.name);break;default:this.logger.log("· "+n+": "+JSON.stringify(r))}})),this.options.transportOptions){const n=this.options.transportOptions,r=n.maxReconnectionAttempts,i=n.reconnectionTimeout;if(r!==void 0){const o='The transport option "maxReconnectionAttempts" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(o)}if(i!==void 0){const o='The transport option "reconnectionTimeout" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(o)}e.reconnectionDelay===void 0&&i!==void 0&&(this.options.reconnectionDelay=i),e.reconnectionAttempts===void 0&&r!==void 0&&(this.options.reconnectionAttempts=r)}if(e.reconnectionDelay!==void 0){const n='The user agent option "reconnectionDelay" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(n)}if(e.reconnectionAttempts!==void 0){const n='The user agent option "reconnectionAttempts" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(n)}if(this._transport=new this.options.transportConstructor(this.getLogger("sip.Transport"),this.options.transportOptions),this.initTransportCallbacks(),this._contact=this.initContact(),this._instanceId=this.options.instanceId?this.options.instanceId:Hr.newUUID(),ot.parse(this._instanceId,"uuid")===-1)throw new Error("Invalid instanceId.");this._userAgentCore=this.initCore()}static makeURI(e){return ot.URIParse(e)}static defaultOptions(){return{allowLegacyNotifications:!1,authorizationHa1:"",authorizationPassword:"",authorizationUsername:"",delegate:{},contactName:"",contactParams:{transport:"ws"},displayName:"",forceRport:!1,gracefulShutdown:!0,hackAllowUnregisteredOptionTags:!1,hackIpInContact:!1,hackViaTcp:!1,instanceId:"",instanceIdAlwaysAdded:!1,logBuiltinEnabled:!0,logConfiguration:!0,logConnector:()=>{},logLevel:"log",noAnswerTimeout:60,preloadedRouteSet:[],reconnectionAttempts:0,reconnectionDelay:4,sendInitialProvisionalResponse:!0,sessionDescriptionHandlerFactory:pI(),sessionDescriptionHandlerFactoryOptions:{},sipExtension100rel:un.Unsupported,sipExtensionReplaces:un.Unsupported,sipExtensionExtraSupported:[],sipjsId:"",transportConstructor:Rc,transportOptions:{},uri:new Bn("sip","anonymous","anonymous.invalid"),userAgentString:"SIP.js/0.21.1",viaHost:""}}static newUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.floor(16*Math.random());return(e==="x"?n:n%4+8).toString(16)})}static stripUndefinedProperties(e){return Object.keys(e).reduce((n,r)=>(e[r]!==void 0&&(n[r]=e[r]),n),{})}get configuration(){return this.options}get contact(){return this._contact}get instanceId(){return this._instanceId}get state(){return this._state}get stateChange(){return this._stateEventEmitter}get transport(){return this._transport}get userAgentCore(){return this._userAgentCore}getLogger(e,n){return this.loggerFactory.getLogger(e,n)}getLoggerFactory(){return this.loggerFactory}isConnected(){return this.transport.isConnected()}reconnect(){return this.state===vt.Stopped?Promise.reject(new Error("User agent stopped.")):Promise.resolve().then(()=>this.transport.connect())}start(){return this.state===vt.Started?(this.logger.warn("User agent already started"),Promise.resolve()):(this.logger.log(`Starting ${this.configuration.uri}`),this.transitionState(vt.Started),this.transport.connect())}async stop(){if(this.state===vt.Stopped)return this.logger.warn("User agent already stopped"),Promise.resolve();if(this.logger.log(`Stopping ${this.configuration.uri}`),!this.options.gracefulShutdown)return this.logger.log("Dispose of transport"),this.transport.dispose().catch(a=>{throw this.logger.error(a.message),a}),this.logger.log("Dispose of core"),this.userAgentCore.dispose(),this._publishers={},this._registerers={},this._sessions={},this._subscriptions={},this.transitionState(vt.Stopped),Promise.resolve();const e=Object.assign({},this._publishers),n=Object.assign({},this._registerers),r=Object.assign({},this._sessions),i=Object.assign({},this._subscriptions),o=this.transport,s=this.userAgentCore;this.logger.log("Dispose of registerers");for(const a in n)n[a]&&await n[a].dispose().catch(l=>{throw this.logger.error(l.message),delete this._registerers[a],l});this.logger.log("Dispose of sessions");for(const a in r)r[a]&&await r[a].dispose().catch(l=>{throw this.logger.error(l.message),delete this._sessions[a],l});this.logger.log("Dispose of subscriptions");for(const a in i)i[a]&&await i[a].dispose().catch(l=>{throw this.logger.error(l.message),delete this._subscriptions[a],l});this.logger.log("Dispose of publishers");for(const a in e)e[a]&&await e[a].dispose().catch(l=>{throw this.logger.error(l.message),delete this._publishers[a],l});this.logger.log("Dispose of transport"),await o.dispose().catch(a=>{throw this.logger.error(a.message),a}),this.logger.log("Dispose of core"),s.dispose(),this.transitionState(vt.Stopped)}_makeInviter(e,n){return new Yw(this,e,n)}attemptReconnection(e=1){const n=this.options.reconnectionAttempts,r=this.options.reconnectionDelay;e>n?this.logger.log("Maximum reconnection attempts reached"):(this.logger.log(`Reconnection attempt ${e} of ${n} - trying`),setTimeout(()=>{this.reconnect().then(()=>{this.logger.log(`Reconnection attempt ${e} of ${n} - succeeded`)}).catch(i=>{this.logger.error(i.message),this.logger.log(`Reconnection attempt ${e} of ${n} - failed`),this.attemptReconnection(++e)})},e===1?0:1e3*r))}initContact(){const e=this.options.contactName!==""?this.options.contactName:li(8),n=this.options.contactParams;return{pubGruu:void 0,tempGruu:void 0,uri:new Bn("sip",e,this.options.viaHost,void 0,n),toString:(r={})=>{const i=r.anonymous||!1,o=r.outbound||!1,s=r.register||!1;let a="<";return a+=i?this.contact.tempGruu||`sip:anonymous@anonymous.invalid;transport=${n.transport?n.transport:"ws"}`:s?this.contact.uri:this.contact.pubGruu||this.contact.uri,o&&(a+=";ob"),a+=">",this.options.instanceIdAlwaysAdded&&(a+=';+sip.instance="<urn:uuid:'+this._instanceId+'>"'),a}}}initCore(){let e=[];e.push("outbound"),this.options.sipExtension100rel===un.Supported&&e.push("100rel"),this.options.sipExtensionReplaces===un.Supported&&e.push("replaces"),this.options.sipExtensionExtraSupported&&e.push(...this.options.sipExtensionExtraSupported),this.options.hackAllowUnregisteredOptionTags||(e=e.filter(i=>Wk[i])),e=Array.from(new Set(e));const n=e.slice();(this.contact.pubGruu||this.contact.tempGruu)&&n.push("gruu");const r={aor:this.options.uri,contact:this.contact,displayName:this.options.displayName,loggerFactory:this.loggerFactory,hackViaTcp:this.options.hackViaTcp,routeSet:this.options.preloadedRouteSet,supportedOptionTags:e,supportedOptionTagsResponse:n,sipjsId:this.options.sipjsId,userAgentHeaderFieldValue:this.options.userAgentString,viaForceRport:this.options.forceRport,viaHost:this.options.viaHost,authenticationFactory:()=>{const i=this.options.authorizationUsername?this.options.authorizationUsername:this.options.uri.user,o=this.options.authorizationPassword?this.options.authorizationPassword:void 0,s=this.options.authorizationHa1?this.options.authorizationHa1:void 0;return new Yk(this.getLoggerFactory(),s,i,o)},transportAccessor:()=>this.transport};return new fI(r,{onInvite:i=>{var o;const s=new Gk(this,i);if(i.delegate={onCancel:a=>{s._onCancel(a)},onTransportError:a=>{this.logger.error("A transport error has occurred while handling an incoming INVITE request.")}},i.trying(),this.options.sipExtensionReplaces!==un.Unsupported){const a=i.message.parseHeader("replaces");if(a){const l=a.call_id;if(typeof l!="string")throw new Error("Type of call id is not string");const c=a.replaces_to_tag;if(typeof c!="string")throw new Error("Type of to tag is not string");const u=a.replaces_from_tag;if(typeof u!="string")throw new Error("type of from tag is not string");const d=l+c+u,p=this.userAgentCore.dialogs.get(d);if(!p)return void s.reject({statusCode:481});if(!p.early&&a.early_only===!0)return void s.reject({statusCode:486});const g=this._sessions[l+u]||this._sessions[l+c]||void 0;if(!g)throw new Error("Session does not exist.");s._replacee=g}}if(!((o=this.delegate)===null||o===void 0)&&o.onInvite)return s.autoSendAnInitialProvisionalResponse?void s.progress().then(()=>{var a;if(((a=this.delegate)===null||a===void 0?void 0:a.onInvite)===void 0)throw new Error("onInvite undefined.");this.delegate.onInvite(s)}):void this.delegate.onInvite(s);s.reject({statusCode:486})},onMessage:i=>{if(this.delegate&&this.delegate.onMessage){const o=new Gw(i);this.delegate.onMessage(o)}else i.accept()},onNotify:i=>{if(this.delegate&&this.delegate.onNotify){const o=new Ld(i);this.delegate.onNotify(o)}else this.options.allowLegacyNotifications?i.accept():i.reject({statusCode:481})},onRefer:i=>{this.logger.warn("Received an out of dialog REFER request"),this.delegate&&this.delegate.onReferRequest?this.delegate.onReferRequest(i):i.reject({statusCode:405})},onRegister:i=>{this.logger.warn("Received an out of dialog REGISTER request"),this.delegate&&this.delegate.onRegisterRequest?this.delegate.onRegisterRequest(i):i.reject({statusCode:405})},onSubscribe:i=>{this.logger.warn("Received an out of dialog SUBSCRIBE request"),this.delegate&&this.delegate.onSubscribeRequest?this.delegate.onSubscribeRequest(i):i.reject({statusCode:405})}})}initTransportCallbacks(){this.transport.onConnect=()=>this.onTransportConnect(),this.transport.onDisconnect=e=>this.onTransportDisconnect(e),this.transport.onMessage=e=>this.onTransportMessage(e)}onTransportConnect(){this.state!==vt.Stopped&&this.delegate&&this.delegate.onConnect&&this.delegate.onConnect()}onTransportDisconnect(e){this.state!==vt.Stopped&&(this.delegate&&this.delegate.onDisconnect&&this.delegate.onDisconnect(e),e&&this.options.reconnectionAttempts>0&&this.attemptReconnection())}onTransportMessage(e){const n=Za.parseMessage(e,this.getLogger("sip.Parser"));if(!n)return void this.logger.warn("Failed to parse incoming message. Dropping.");if(this.state===vt.Stopped&&n instanceof lo)return void this.logger.warn(`Received ${n.method} request while stopped. Dropping.`);const r=()=>{const i=["from","to","call_id","cseq","via"];for(const o of i)if(!n.hasHeader(o))return this.logger.warn(`Missing mandatory header field : ${o}.`),!1;return!0};if(n instanceof lo){if(!r())return void this.logger.warn("Request missing mandatory header field. Dropping.");if(!n.toTag&&n.callId.substr(0,5)===this.options.sipjsId)return void this.userAgentCore.replyStateless(n,{statusCode:482});const i=js(n.body),o=n.getHeader("content-length");if(o&&i<Number(o))return void this.userAgentCore.replyStateless(n,{statusCode:400})}if(n instanceof Vr){if(!r())return void this.logger.warn("Response missing mandatory header field. Dropping.");if(n.getHeaders("via").length>1)return void this.logger.warn("More than one Via header field present in the response. Dropping.");if(n.via.host!==this.options.viaHost||n.via.port!==void 0)return void this.logger.warn("Via sent-by in the response does not match UA Via host value. Dropping.");const i=js(n.body),o=n.getHeader("content-length");if(o&&i<Number(o))return void this.logger.warn("Message body length is lower than the value in Content-Length header field. Dropping.")}if(n instanceof lo)this.userAgentCore.receiveIncomingRequestFromTransport(n);else{if(!(n instanceof Vr))throw new Error("Invalid message type.");this.userAgentCore.receiveIncomingResponseFromTransport(n)}}transitionState(e,n){const r=()=>{throw new Error(`Invalid state transition from ${this._state} to ${e}`)};switch(this._state){case vt.Started:e!==vt.Stopped&&r();break;case vt.Stopped:e!==vt.Started&&r();break;default:throw new Error("Unknown state.")}this.logger.log(`Transitioned from ${this._state} to ${e}`),this._state=e,this._stateEventEmitter.emit(this._state)}}var Jn,Qe,hm,fm;function Hd(t,e){if(t)return Object.getOwnPropertyDescriptor(t,e)||Hd(Object.getPrototypeOf(t),e)}function sa(t,e,n){const r=n.filter(i=>Hd(e,i)===void 0);if(r.length>0)throw new Error(`Implementation is not complete, missing properties: ${r.join(", ")}`);return Object.freeze(n.reduce((i,o)=>{const s=Hd(e,o);return"value"in s?(typeof s.value=="function"?i[o]=s.value.bind(e):i[o]=s.value,i):Object.defineProperty(i,o,{get:s.get.bind(e)})},t))}function Eu(t,e,n){return t<e?e:t>n?n:t}(function(t){t.CONNECTING="connecting",t.CONNECTED="connected",t.DYING="dying",t.RECOVERING="recovering",t.DISCONNECTING="disconnecting",t.DISCONNECTED="disconnected"})(Jn||(Jn={})),function(t){t.TRYING="trying",t.RINGING="ringing",t.ACTIVE="active",t.ON_HOLD="on_hold",t.TERMINATED="terminated"}(Qe||(Qe={})),function(t){t.AVAILABLE="available",t.TRYING="trying",t.PROCEEDING="proceeding",t.EARLY="early",t.RINGING="ringing",t.CONFIRMED="confirmed",t.BUSY="busy",t.TERMINATED="terminated"}(hm||(hm={})),function(t){t[t.ONCE=0]="ONCE",t[t.BURST=1]="BURST"}(fm||(fm={}));const gI="Audio"in window&&"setSinkId"in new window.Audio,rs=navigator.userAgent.toLowerCase();rs.indexOf("safari")!==-1&&rs.indexOf("chrome"),rs.indexOf("firefox")!==-1&&rs.indexOf("chrome");rs.indexOf("chrome");class co{static getLevelIdx(e){const n=co.levels[e];return n===void 0?0:n}constructor(e,n){this.level="info",this.level=e,n&&(this.connector=n)}error(e,n){this.log("error",e,n)}warn(e,n){this.log("warn",e,n)}info(e,n){this.log("info",e,n)}debug(e,n){this.log("debug",e,n)}verbose(e,n){this.log("verbose",e,n)}log(e,n,r){const i=co.getLevelIdx(e),o=co.getLevelIdx(this.level);this.connector&&i>=o&&this.connector({level:e,message:n,context:r})}}co.levels={error:4,warn:3,info:2,verbose:1,debug:0};const vs=new co("info"),pm=new class extends ke{constructor(){super(...arguments),this.allDevices=[],this.timer=void 0,this.hadPermission=!1}init(){this.update(),navigator.mediaDevices.ondevicechange=()=>{this.update()}}get devices(){return this.allDevices}get inputs(){return this.allDevices.filter(t=>t.kind==="audioinput")}get outputs(){return this.allDevices.filter(t=>t.kind==="audiooutput")}checkPermission(){return ze(this,void 0,void 0,function*(){const t=yield navigator.mediaDevices.enumerateDevices();return!(!t.length||!t[0].label)})}requestPermission(){return ze(this,void 0,void 0,function*(){if(this.requestPermissionPromise)return this.requestPermissionPromise;try{const{state:t}=yield navigator.permissions.query({name:"microphone"});if(t==="granted")return}catch(t){console.error("permissions query mic not supported in firefox, doing fallback",t)}return this.requestPermissionPromise=new Promise((t,e)=>ze(this,void 0,void 0,function*(){try{const n=yield navigator.mediaDevices.getUserMedia({audio:!0,video:!1});this.hadPermission||(this.timer&&window.clearTimeout(this.timer),yield this.update()),this.closeStream(n),t()}catch(n){e(n)}finally{delete this.requestPermissionPromise}})),this.requestPermissionPromise})}openInputStream(t){vs.debug(`Requesting input stream with: audioProcessing=${t.audioProcessing}`,"media");const e=function(r){const i=r.audioProcessing?{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,googAudioMirroring:!0,googAutoGainControl:!0,googAutoGainControl2:!0,googEchoCancellation:!0,googHighpassFilter:!0,googNoiseSuppression:!0,googTypingNoiseDetection:!0}:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,googAudioMirroring:!1,googAutoGainControl:!1,googAutoGainControl2:!1,googEchoCancellation:!1,googHighpassFilter:!1,googNoiseSuppression:!1,googTypingNoiseDetection:!1},o={audio:i,video:!1};return r.id&&(o.audio.deviceId=r.id),vs.debug(`Using input constraints: ${JSON.stringify(o)}`,"media"),o}(t),n=navigator.mediaDevices.getUserMedia(e);return n.then(r=>{r.getTracks().forEach(i=>{vs.debug(`Media stream track has settings: ${JSON.stringify(i.getSettings())}`,"media")})}),n}closeStream(t){t.getTracks().forEach(e=>e.stop())}enumerateDevices(){return ze(this,void 0,void 0,function*(){var t;const e=yield(t=navigator.mediaDevices)===null||t===void 0?void 0:t.enumerateDevices();if(e.length&&e[0].label)return e})}update(){return ze(this,void 0,void 0,function*(){const t=yield this.enumerateDevices(),e=t!==void 0;e?(this.hadPermission||this.emit("permissionGranted"),this.updateDevices(t)):this.hadPermission&&(this.emit("permissionRevoked"),this.allDevices=[],this.emit("devicesChanged")),this.hadPermission=e})}updateDevices(t){const e=t.map(s=>{if(s.label)return s.kind==="audioinput"?{id:s.deviceId,name:s.label,kind:"audioinput"}:s.kind==="audiooutput"?{id:s.deviceId,name:s.label,kind:"audiooutput"}:void 0}).filter(s=>s!==void 0),n=new Set(e.map(s=>s==null?void 0:s.id)),r=new Set(this.allDevices.map(s=>s.id));var i,o;o=r,(i=n).size===o.size&&[...i].every(o.has.bind(o))||(this.allDevices=e,this.emit("devicesChanged"))}};class mI extends ke{constructor(e,n){super(),this.session=e.session,this.isIncoming=e.isIncoming,this._localStream=new MediaStream,this._remoteStream=new MediaStream,this.media={input:Object.assign({},n.input),output:Object.assign({},n.output)},this.audioOutput=new Audio,this.audioOutput.volume=this.media.output.volume,this.audioOutput.muted=this.media.output.muted,this.audioContext=new(window.AudioContext||window.webkitAudioContext),e.on("terminated",()=>{this.cleanupMedia(),this.stopOutput(),this.stopInput()}),e.on("trackAdd",i=>{i.remoteStream&&(this.audioOutput.srcObject=i.remoteStream,this.audioOutput.play(),i.remoteStream.getAudioTracks().forEach(o=>{this._remoteStream.addTrack(o),this._remoteStream.dispatchEvent(new MediaStreamTrackEvent("addtrack",{track:o}))})),i.localStream&&this.setInput(this.media.input)});const r=this;this.input={get id(){return r.media.input.id},set id(i){r.setInputDevice(i)},get audioProcessing(){return r.media.input.audioProcessing},set audioProcessing(i){r.setInputAudioProcessing(i)},get volume(){return r.media.input.volume},set volume(i){r.setInputVolume(i)},get muted(){return r.media.input.muted},set muted(i){r.setInputMuted(i)}},this.output={get id(){return r.media.output.id},get audio(){return r.audioOutput},set audio(i){i&&(r.audioOutput=i)},set id(i){r.setOutputDevice(i)},get volume(){return r.media.output.volume},set volume(i){r.setOutputVolume(i)},get muted(){return r.media.output.muted},set muted(i){r.setOutputMuted(i)}}}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}cleanupMedia(){this.session.sessionDescriptionHandler.localMediaStream.getTracks().forEach(e=>{e.stop()})}setInput(e){return ze(this,void 0,void 0,function*(){e===void 0&&(e=this.media.input);const n=yield pm.openInputStream(e);this.stopInput(),this.inputStream=n;const r=this.audioContext.createMediaStreamSource(n),i=this.audioContext.createGain();e.volume!==void 0?(i.gain.value=e.volume,this.emit("inputVolume",e.volume)):i.gain.value=this.media.input.volume,r.connect(i);const o=this.audioContext.createMediaStreamDestination();i.connect(o);const s=this.session.sessionDescriptionHandler,a=s==null?void 0:s.peerConnection;a&&a.getSenders().forEach((l,c)=>{if(l.track&&l.track.kind==="audio"){const u=o.stream.getAudioTracks().find(d=>d.kind==="audio");u&&l.replaceTrack(u).then(()=>{this._localStream.getAudioTracks().forEach(d=>{d&&(d.stop(),this._localStream.removeTrack(d),this._localStream.dispatchEvent(new MediaStreamTrackEvent("removetrack",{track:d})))}),this._localStream.addTrack(u),this._localStream.dispatchEvent(new MediaStreamTrackEvent("addtrack",{track:u}))})}}),this.inputNode=i,this.sourceNode=r,this.media.input=Object.assign(Object.assign({},this.media.input),e)})}stopInput(){var e;if(this.inputStream){pm.closeStream(this.inputStream);try{(e=this.inputNode)===null||e===void 0||e.disconnect()}catch(n){if(!n||n.name!=="InvalidAccessError")throw n;console.log("error",n),vs.debug("cannot disconnect input audio node as the input audio node is already disconnected","media")}}}setOutput(e){return ze(this,void 0,void 0,function*(){e===void 0&&(e=this.media.output);const n=e.audio||new Audio;e.volume!==void 0?(n.volume=Eu(e.volume,0,1),this.emit("outputVolume",n.volume)):n.volume=this.media.output.volume,e.muted!==void 0?(n.muted=e.muted,this.emit("outputMuted",e.muted)):n.muted=this.media.output.muted,e.id&&(gI?yield n.setSinkId(e.id):console.warn("cannot set output device: setSinkId is not supported","session-media")),this.stopOutput(),this.media.output=Object.assign(Object.assign({},this.media.output),e),this.audioOutput=n,this.audioOutput.srcObject=this._remoteStream,yield this.audioOutput.play()})}stopOutput(){this.audioOutput&&(this.audioOutput.pause(),this.audioOutput.srcObject=null)}setOutputDevice(e){this.setOutput(Object.assign({},this.media.output,{id:e}))}freeze(){return sa({},this,["input","output","on","once","setOutput","setInput","removeListener","removeAllListeners","localStream","remoteStream"])}setOutputVolume(e){this.audioOutput&&(this.audioOutput.volume=Eu(e,0,1)),this.media.output.volume=Eu(e,0,1),this.emit("outputVolume",this.media.output.volume)}setInputDevice(e){this.setInput(Object.assign({},this.media.input,{id:e}))}setInputAudioProcessing(e){vs.debug(`setting audioProcessing to: ${e}`,"media"),this.setInput(Object.assign({},this.media.input,{audioProcessing:e}))}setInputVolume(e){this.inputNode&&(this.inputNode.gain.value=e),this.media.input.volume=e,this.emit("inputVolume",e)}setInputMuted(e){this.session.sessionDescriptionHandler.enableSenderTracks(!e),this.media.input.muted=e,this.emit("inputMuted",e)}setOutputMuted(e){this.session.sessionDescriptionHandler.enableReceiverTracks(!e),this.media.output.muted=e,this.emit("outputMuted",e)}}const vI={480:"temporarily_unavailable",484:"address_incomplete",486:"busy",487:"request_terminated"};class t1 extends ke{constructor({session:e,media:n,isIncoming:r}){super(),this.status=Qe.TRYING,this.holdState=!1,this.isMute=!1,this.duration=0,this.setupMedia=(i,{enableSender:o=!1,enableReceiver:s=!0})=>{i.remoteMediaStream.active&&s&&this.emit("trackAdd",{remoteStream:i.remoteMediaStream}),i.localMediaStream.active&&o&&this.emit("trackAdd",{localStream:i.localMediaStream})},this.session=e,this._media=new mI(this,n),this.isIncoming=r||!1,this.id=e.request.callId,this.remoteIdentity=this.extractRemoteIdentity(),this.isMute=!1,this._media.on("inputMuted",i=>{this.emit("mute",i,"input")}),this._media.on("outputMuted",i=>{this.emit("mute",i,"output")}),this.session.stateChange.addListener(i=>ze(this,void 0,void 0,function*(){switch(i){case q.Establishing:r||this.setupMedia(this.session.sessionDescriptionHandler,{enableReceiver:!0});break;case q.Established:this.setupMedia(this.session.sessionDescriptionHandler,{enableSender:!0,enableReceiver:!0}),this.status=Qe.ACTIVE,this.emit("established"),this.emit("statusUpdate",{id:this.id,status:this.status}),this.interval=setInterval(()=>{this.emit("duration",++this.duration)},1e3);break;case q.Terminated:this.emit("terminated",{id:this.id}),this.status=Qe.TERMINATED,this.emit("statusUpdate",{id:this.id,status:this.status}),this.duration=0,this.interval&&clearInterval(this.interval),this.session.dispose()}}))}get autoAnswer(){const e=this.session.request.headers["Call-Info"];return!(!e||!e[0])&&e[0].raw.includes("answer-after=0")}get media(){return this._media.freeze()}get phoneNumber(){return this.isIncoming?this.remoteIdentity.phoneNumber:this.session.request.to.uri.user||""}accept(){throw new Error("Should be implemented in superclass")}reject(){throw new Error("Should be implemented in superclass")}accepted(){throw new Error("Should be implemented in superclass")}cancel(e){throw new Error("Should be implemented in superclass")}terminate(){return this.bye()}terminated(){return new Promise(e=>{this.session.stateChange.addListener(n=>{n===q.Terminated&&e(this.cancelled?this.cancelled.reason:void 0)})})}makeInviteOptions({onAccept:e,onReject:n,onProgress:r,onTrying:i}){return{requestDelegate:{onAccept:()=>{this.remoteIdentity=this.extractRemoteIdentity(),this.emit("remoteIdentityUpdate",this,this.remoteIdentity),this.emit("accepted"),e({accepted:!0})},onReject:({message:o})=>{n({accepted:!1,rejectCode:o.statusCode,rejectCause:o.statusCode?vI[o.statusCode]:void 0,rejectPhrase:o.reasonPhrase})},onProgress:({message:o})=>{this.emit("progress",o),this.status=Qe.RINGING,this.emit("statusUpdate",{id:this.id,status:this.status}),r()},onTrying:()=>{i()}}}}extractRemoteIdentity(){let e=this.session.remoteIdentity.uri.user||"",n="";return this.session.assertedIdentity&&(e=this.session.assertedIdentity.uri.user||"",n=this.session.assertedIdentity.displayName||""),{phoneNumber:e,displayName:n}}hold(){return this.setHoldState(!0)}unhold(){return this.setHoldState(!1)}reinvite(){return ze(this,void 0,void 0,function*(){const e={requestDelegate:{onAccept:()=>{},onReject:()=>{}}};this.session.sessionDescriptionHandlerOptionsReInvite={dataChannel:!0};try{return yield this.session.invite(e),!0}catch{return!1}})}setHoldState(e){return ze(this,void 0,void 0,function*(){const n={hold:e},r={requestDelegate:{onAccept:()=>{this.status=e?Qe.ON_HOLD:Qe.ACTIVE,this.emit("statusUpdate",{id:this.id,status:this.status})},onReject:()=>{this.status=Qe.ACTIVE,this.emit("statusUpdate",{id:this.id,status:this.status})}}};this.session.sessionDescriptionHandlerOptionsReInvite=n;try{return yield this.session.invite(r),!0}catch{return!1}})}mute(){if(this.status===Qe.ACTIVE||this.status===Qe.ON_HOLD){const e=this.session.sessionDescriptionHandler.peerConnection;e&&e.getSenders().forEach(n=>{n.track&&(n.track.enabled=!1)}),this.isMute=!0,this.emit("mute",!0,"input")}}get localStream(){const e=this.session.sessionDescriptionHandler;return e==null?void 0:e.localMediaStream}get remoteStream(){const e=this.session.sessionDescriptionHandler;return e==null?void 0:e.remoteMediaStream}unmute(){if(this.status===Qe.ACTIVE||this.status===Qe.ON_HOLD){const e=this.session.sessionDescriptionHandler.peerConnection;e&&e.getSenders().forEach(n=>{n.track&&(n.track.enabled=!0)}),this.isMute=!1,this.emit("mute",!1,"input")}}blindTransfer(e){return ze(this,void 0,void 0,function*(){const n=Hr.makeURI(e);return n?this.transfer(n).then(r=>(r&&this.bye(),Promise.resolve(r))):Promise.resolve(!1)})}attendedTransfer(e){return ze(this,void 0,void 0,function*(){return this.transfer(e.session).then(n=>(n&&this.bye(),Promise.resolve(n)))})}transfer(e){return ze(this,void 0,void 0,function*(){return function(n,r){const{milliseconds:i,fallback:o,message:s,customTimers:a={setTimeout,clearTimeout}}=r;let l;const c=new Promise((u,d)=>{if(typeof i!="number"||Math.sign(i)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${i}\``);if(r.signal){const{signal:g}=r;g.aborted&&d(am(g)),g.addEventListener("abort",()=>{d(am(g))})}if(i===Number.POSITIVE_INFINITY)return void n.then(u,d);const p=new Nk;l=a.setTimeout.call(void 0,()=>{if(o)try{u(o())}catch(g){d(g)}else typeof n.cancel=="function"&&n.cancel(),s===!1?u():s instanceof Error?d(s):(p.message=s??`Promise timed out after ${i} milliseconds`,d(p))},i),(async()=>{try{u(await n)}catch(g){d(g)}})()}).finally(()=>{c.clear()});return c.clear=()=>{a.clearTimeout.call(void 0,l),l=void 0},c}(this.isTransferredPromise(e),{milliseconds:2e4,fallback:()=>Promise.resolve(!0)})})}isTransferredPromise(e){return ze(this,void 0,void 0,function*(){return new Promise(n=>{this.session.refer(e).then(r=>{r.delegate={onAccept:()=>{n(!0)},onReject:()=>{n(!1)}}})})})}rebuildSessionDescriptionHandler(){this.session._sessionDescriptionHandler=void 0,this.session.setupSessionDescriptionHandler()}bye(){return this.session.bye()}dtmf(e,n){var r;return((r=this.session.sessionDescriptionHandler)===null||r===void 0?void 0:r.sendDtmf(e,n))||!1}freeze(){return sa({},this,["holdState","id","isIncoming","isMute","phoneNumber","remoteIdentity","mute","unmute","autoAnswer","status","accept","accepted","attendedTransfer","blindTransfer","bye","dtmf","freeze","hold","cancel","reject","terminate","terminated","unhold","on","once","removeAllListeners","removeListener","cancel","tried","localStream","remoteStream"])}}class yI extends t1{constructor(e){super(e),this.session=e.session,this.triedPromise=new Promise(n=>{this.progressedPromise=new Promise(r=>{this.acceptedPromise=new Promise((i,o)=>{this.inviteOptions=this.makeInviteOptions({onAccept:i,onReject:i,onProgress:r,onTrying:n})})})})}progressed(){return this.progressedPromise}tried(){return this.triedPromise}accepted(){return this.acceptedPromise}invite(e){return ze(this,void 0,void 0,function*(){return this.session.invite(Object.assign(Object.assign({},e),this.inviteOptions)).then(n=>n)})}accept(){return ze(this,void 0,void 0,function*(){throw new Error("Cannot accept an outgoing call.")})}reject(){return ze(this,void 0,void 0,function*(){throw new Error("Cannot reject an outgoing call.")})}cancel(e){return this.session.cancel(e)}freeze(){return sa({},this,["holdState","id","media","isIncoming","status","phoneNumber","remoteIdentity","accept","accepted","isMute","mute","unmute","attendedTransfer","blindTransfer","cancel","bye","dtmf","freeze","hold","reject","terminate","terminated","unhold","on","once","removeAllListeners","removeListener","localStream","remoteStream"])}}class wI extends t1{constructor(e){super(e),this.session=e.session,this.status=Qe.RINGING,this.emit("statusUpdate",{id:this.id,status:this.status})}accept(){return ze(this,void 0,void 0,function*(){return this.session.accept().then(()=>{this.session.delegate={onInvite:()=>{}}})})}reject(e){return ze(this,void 0,void 0,function*(){return this.session.reject(e)})}tried(){return ze(this,void 0,void 0,function*(){throw new Error("Not applicable for incoming calls.")})}cancel(){return ze(this,void 0,void 0,function*(){throw new Error("Cannot cancel an incoming call.")})}freeze(){return sa({},this,["holdState","id","isIncoming","media","status","phoneNumber","remoteIdentity","autoAnswer","accept","isMute","mute","unmute","accepted","attendedTransfer","blindTransfer","bye","dtmf","freeze","hold","reject","terminate","terminated","unhold","on","once","removeAllListeners","removeListener","localStream","remoteStream"])}}class SI extends ke{constructor(e){var n,r;super(),this.sessions={},this.connected=!1,this.reconnectionAttempts=100,this.reconnectionDelay=4,this.attemptingReconnection=!1,this.shouldBeConnected=!0,this.attemptReconnection=(o=1)=>{this.shouldBeConnected&&(this.attemptingReconnection||o>this.reconnectionAttempts||(this.attemptingReconnection=!0,setTimeout(()=>{this.shouldBeConnected?this.uaFactory.reconnect().then(()=>{console.log("reconnect attempt"),this.attemptingReconnection=!1}).catch(s=>{this.attemptingReconnection=!1,this.attemptReconnection(++o)}):this.attemptingReconnection=!1},o===1?0:1e3*this.reconnectionDelay)))},this.options=e,this.defaultMedia=e.media||{input:{id:void 0,audioProcessing:!0,muted:!1,volume:1},output:{id:void 0,muted:!1,volume:1}},this.uaFactory=new Hr({uri:Hr.makeURI(e.account.uri),authorizationUsername:e.account.user,authorizationPassword:e.account.password,sipExtension100rel:un.Supported,transportOptions:{server:((n=e.transport)===null||n===void 0?void 0:n.wsServers)||"wss://demo-voip.optimaccs.com:8089/ws"},displayName:e.account.name,logBuiltinEnabled:!1,forceRport:!0,userAgentString:e.userAgentString,sessionDescriptionHandlerFactoryOptions:{iceGatheringTimeout:500,peerConnectionConfiguration:{iceServers:((r=e.transport)===null||r===void 0?void 0:r.iceServers)||[{urls:"stun:stun.l.google.com:19302"}]}}}),this.reconnectionAttempts=e.reconnectionAttempts||this.reconnectionAttempts,this.reconnectionDelay=e.reconnectionDelay||this.reconnectionDelay,this.registererFactory=new Hn(this.uaFactory);const i=this;this.uaFactory.delegate={onConnect(){i.registererFactory.register()},onDisconnect(o){try{i.registererFactory.unregister()}catch{}o&&i.attemptReconnection()},onRegister(o){console.log("on register",o)},onInvite(o){const s=new wI({session:o,isIncoming:!0,media:i.defaultMedia});i.addSession(s),s.on("terminated",({id:a})=>{s.id===a&&i.removeSession(s)}),i.emit("invite",s.freeze())}},this.uaFactory.transport.stateChange.addListener(o=>{switch(o){case ce.Connecting:this.emit("status",Jn.CONNECTING);break;case ce.Disconnected:this.emit("status",Jn.DISCONNECTED);break;case ce.Disconnecting:this.emit("status",Jn.DISCONNECTING)}})}isConnected(){return this.connected}connect(){return ze(this,void 0,void 0,function*(){return this.uaFactory.start(),new Promise((e,n)=>{this.registererFactory.stateChange.addListener(r=>{switch(r){case xe.Initial:break;case xe.Terminated:this.emit("status",Jn.DYING);break;case xe.Registered:this.connected=!0,this.emit("status",Jn.CONNECTED),e(!0);break;case xe.Unregistered:this.connected=!1,n()}})})})}reconfigure(e){return ze(this,void 0,void 0,function*(){yield this.disconnect(),this.defaultMedia=e.media||{input:{id:void 0,audioProcessing:!0,muted:!1,volume:1},output:{id:void 0,muted:!1,volume:1}},this.options=e,yield this.connect()})}disconnect(){return this.clearSessions(),this.uaFactory.stop()}close(){return this.clearSessions(),this.uaFactory.stop()}getSession(e){const n=this.sessions[e];return n?n.freeze():null}addSession(e){this.sessions[e.id]=e,this.emit("sessionAdded",{id:e.id})}removeSession(e){delete this.sessions[e.id],this.emit("sessionRemoved",{id:e.id})}getSessions(){return Object.values(this.sessions).map(e=>e.freeze())}clearSessions(){Object.values(this.sessions).forEach(e=>{this.removeSession(e)})}attendedTransfer(e,n){const r=this.sessions[e.id];if(!r)return Promise.reject("Session A not found");const i=this.sessions[n.id];return i?r.attendedTransfer(i):Promise.reject("Session B not found")}invite(e,n){return ze(this,void 0,void 0,function*(){const r=Hr.makeURI(e);if(!r)throw new Error("invalid uri");if(!this.isConnected())throw new Error("current status is disconnected. cannot invite");const i=new Yw(this.uaFactory,r,Object.assign({earlyMedia:!0},n)),o=new yI({session:i,isIncoming:!1,media:this.defaultMedia});return o.invite(n).then(()=>{this.addSession(o)}),o.on("terminated",()=>{this.removeSession(o)}),o.freeze()})}}const bI=function(t){return sa(this,new SI(t),["attendedTransfer","connect","defaultMedia","disconnect","getSession","getSessions","invite","isConnected","on","once","reconfigure","removeAllListeners","removeListener"])},n1=S.createContext({instance:()=>Promise.resolve()}),EI=({children:t})=>{const[e,n]=S.useState(),r=o=>{const s=new bI(o);return n(s),Promise.resolve(s)},i=o=>t$.openConfirmModal({title:"New Incoming Call",children:W.jsxs(W.Fragment,{children:["New Incoming call from ",o.remoteIdentity.phoneNumber]}),labels:{confirm:"Accept",cancel:"Reject"},onCancel:()=>o.reject(),onConfirm:()=>o.accept()});return S.useEffect(()=>{const o=s=>{i(s)};return e&&e.on("invite",o),()=>{e==null||e.removeListener("invite",o)}},[e]),W.jsx(n1.Provider,{value:{instance:r,client:e},children:t})},$c=()=>C.useContext(n1),r1=()=>{const{client:t}=$c(),[e,n]=S.useState({isConnected:!1,state:Jn.DISCONNECTED});return S.useEffect(()=>{const r=i=>{switch(i){case Jn.CONNECTED:n({isConnected:!0,state:i});break;default:n({isConnected:!1,state:i});break}};return t&&t.on("status",r),()=>{t&&t.removeListener("status",r)}},[t]),e},CI=()=>{const t=Ak({initialValues:{user:"",name:"",password:"",uri:"",ws:""}}),{instance:e,client:n}=$c(),{isConnected:r}=r1();return W.jsx(te,{maw:340,mx:"auto",children:W.jsxs("form",{onSubmit:t.onSubmit(i=>{e({account:i,transport:{wsServers:i.ws},media:{input:{id:void 0,volume:.8,audioProcessing:!0,muted:!1},output:{id:void 0,volume:.5,muted:!1}}}).then(o=>{o&&o.connect()})}),children:[W.jsx(oi,{label:"Ws server",placeholder:"wss://your-sip-provider.tld:8089/ws",...t.getInputProps("ws")}),W.jsx(oi,{label:"Uri",placeholder:"sip:201002@your-sip-provider.tld",...t.getInputProps("uri")}),W.jsx(oi,{label:"Name",placeholder:"example: 201002",...t.getInputProps("name")}),W.jsx(oi,{label:"User",placeholder:"example: 201002",...t.getInputProps("user")}),W.jsx(Tf,{autoComplete:"new-password",label:"Password",...t.getInputProps("password")}),W.jsxs(Br,{children:[W.jsx(Ur,{type:"submit",mt:"md",disabled:r,children:"Register"}),W.jsx(Ur,{disabled:!r,variant:"default",mt:"md",onClick:()=>n==null?void 0:n.disconnect(),children:"Unregister"})]})]})})},TI=()=>{const{isConnected:t,state:e}=r1();return W.jsx(uc,{color:t?"green":"gray",children:e})};var i1={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(wm,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",c="day",u="week",d="month",p="quarter",g="year",y="date",v="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var L=["th","st","nd","rd"],N=F%100;return"["+F+(L[(N-20)%10]||L[N]||L[0])+"]"}},w=function(F,L,N){var D=String(F);return!D||D.length>=L?F:""+Array(L+1-D.length).join(N)+F},T={s:w,z:function(F){var L=-F.utcOffset(),N=Math.abs(L),D=Math.floor(N/60),I=N%60;return(L<=0?"+":"-")+w(D,2,"0")+":"+w(I,2,"0")},m:function F(L,N){if(L.date()<N.date())return-F(N,L);var D=12*(N.year()-L.year())+(N.month()-L.month()),I=L.clone().add(D,d),M=N-I<0,z=L.clone().add(D+(M?-1:1),d);return+(-(D+(N-I)/(M?I-z:z-I))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:d,y:g,w:u,d:c,D:y,h:l,m:a,s,ms:o,Q:p}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},x="en",h={};h[x]=m;var R="$isDayjsObject",$=function(F){return F instanceof P||!(!F||!F[R])},O=function F(L,N,D){var I;if(!L)return x;if(typeof L=="string"){var M=L.toLowerCase();h[M]&&(I=M),N&&(h[M]=N,I=M);var z=L.split("-");if(!I&&z.length>1)return F(z[0])}else{var Y=L.name;h[Y]=L,I=Y}return!D&&I&&(x=I),I||!D&&x},E=function(F,L){if($(F))return F.clone();var N=typeof L=="object"?L:{};return N.date=F,N.args=arguments,new P(N)},_=T;_.l=O,_.i=$,_.w=function(F,L){return E(F,{locale:L.$L,utc:L.$u,x:L.$x,$offset:L.$offset})};var P=function(){function F(N){this.$L=O(N.locale,null,!0),this.parse(N),this.$x=this.$x||N.x||{},this[R]=!0}var L=F.prototype;return L.parse=function(N){this.$d=function(D){var I=D.date,M=D.utc;if(I===null)return new Date(NaN);if(_.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var z=I.match(b);if(z){var Y=z[2]-1||0,X=(z[7]||"0").substring(0,3);return M?new Date(Date.UTC(z[1],Y,z[3]||1,z[4]||0,z[5]||0,z[6]||0,X)):new Date(z[1],Y,z[3]||1,z[4]||0,z[5]||0,z[6]||0,X)}}return new Date(I)}(N),this.init()},L.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},L.$utils=function(){return _},L.isValid=function(){return this.$d.toString()!==v},L.isSame=function(N,D){var I=E(N);return this.startOf(D)<=I&&I<=this.endOf(D)},L.isAfter=function(N,D){return E(N)<this.startOf(D)},L.isBefore=function(N,D){return this.endOf(D)<E(N)},L.$g=function(N,D,I){return _.u(N)?this[D]:this.set(I,N)},L.unix=function(){return Math.floor(this.valueOf()/1e3)},L.valueOf=function(){return this.$d.getTime()},L.startOf=function(N,D){var I=this,M=!!_.u(D)||D,z=_.p(N),Y=function(He,Re){var ye=_.w(I.$u?Date.UTC(I.$y,Re,He):new Date(I.$y,Re,He),I);return M?ye:ye.endOf(c)},X=function(He,Re){return _.w(I.toDate()[He].apply(I.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(Re)),I)},ae=this.$W,le=this.$M,fe=this.$D,ve="set"+(this.$u?"UTC":"");switch(z){case g:return M?Y(1,0):Y(31,11);case d:return M?Y(1,le):Y(0,le+1);case u:var me=this.$locale().weekStart||0,Ue=(ae<me?ae+7:ae)-me;return Y(M?fe-Ue:fe+(6-Ue),le);case c:case y:return X(ve+"Hours",0);case l:return X(ve+"Minutes",1);case a:return X(ve+"Seconds",2);case s:return X(ve+"Milliseconds",3);default:return this.clone()}},L.endOf=function(N){return this.startOf(N,!1)},L.$set=function(N,D){var I,M=_.p(N),z="set"+(this.$u?"UTC":""),Y=(I={},I[c]=z+"Date",I[y]=z+"Date",I[d]=z+"Month",I[g]=z+"FullYear",I[l]=z+"Hours",I[a]=z+"Minutes",I[s]=z+"Seconds",I[o]=z+"Milliseconds",I)[M],X=M===c?this.$D+(D-this.$W):D;if(M===d||M===g){var ae=this.clone().set(y,1);ae.$d[Y](X),ae.init(),this.$d=ae.set(y,Math.min(this.$D,ae.daysInMonth())).$d}else Y&&this.$d[Y](X);return this.init(),this},L.set=function(N,D){return this.clone().$set(N,D)},L.get=function(N){return this[_.p(N)]()},L.add=function(N,D){var I,M=this;N=Number(N);var z=_.p(D),Y=function(le){var fe=E(M);return _.w(fe.date(fe.date()+Math.round(le*N)),M)};if(z===d)return this.set(d,this.$M+N);if(z===g)return this.set(g,this.$y+N);if(z===c)return Y(1);if(z===u)return Y(7);var X=(I={},I[a]=r,I[l]=i,I[s]=n,I)[z]||1,ae=this.$d.getTime()+N*X;return _.w(ae,this)},L.subtract=function(N,D){return this.add(-1*N,D)},L.format=function(N){var D=this,I=this.$locale();if(!this.isValid())return I.invalidDate||v;var M=N||"YYYY-MM-DDTHH:mm:ssZ",z=_.z(this),Y=this.$H,X=this.$m,ae=this.$M,le=I.weekdays,fe=I.months,ve=I.meridiem,me=function(Re,ye,B,re){return Re&&(Re[ye]||Re(D,M))||B[ye].slice(0,re)},Ue=function(Re){return _.s(Y%12||12,Re,"0")},He=ve||function(Re,ye,B){var re=Re<12?"AM":"PM";return B?re.toLowerCase():re};return M.replace(f,function(Re,ye){return ye||function(B){switch(B){case"YY":return String(D.$y).slice(-2);case"YYYY":return _.s(D.$y,4,"0");case"M":return ae+1;case"MM":return _.s(ae+1,2,"0");case"MMM":return me(I.monthsShort,ae,fe,3);case"MMMM":return me(fe,ae);case"D":return D.$D;case"DD":return _.s(D.$D,2,"0");case"d":return String(D.$W);case"dd":return me(I.weekdaysMin,D.$W,le,2);case"ddd":return me(I.weekdaysShort,D.$W,le,3);case"dddd":return le[D.$W];case"H":return String(Y);case"HH":return _.s(Y,2,"0");case"h":return Ue(1);case"hh":return Ue(2);case"a":return He(Y,X,!0);case"A":return He(Y,X,!1);case"m":return String(X);case"mm":return _.s(X,2,"0");case"s":return String(D.$s);case"ss":return _.s(D.$s,2,"0");case"SSS":return _.s(D.$ms,3,"0");case"Z":return z}return null}(Re)||z.replace(":","")})},L.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},L.diff=function(N,D,I){var M,z=this,Y=_.p(D),X=E(N),ae=(X.utcOffset()-this.utcOffset())*r,le=this-X,fe=function(){return _.m(z,X)};switch(Y){case g:M=fe()/12;break;case d:M=fe();break;case p:M=fe()/3;break;case u:M=(le-ae)/6048e5;break;case c:M=(le-ae)/864e5;break;case l:M=le/i;break;case a:M=le/r;break;case s:M=le/n;break;default:M=le}return I?M:_.a(M)},L.daysInMonth=function(){return this.endOf(d).$D},L.$locale=function(){return h[this.$L]},L.locale=function(N,D){if(!N)return this.$L;var I=this.clone(),M=O(N,D,!0);return M&&(I.$L=M),I},L.clone=function(){return _.w(this.$d,this)},L.toDate=function(){return new Date(this.valueOf())},L.toJSON=function(){return this.isValid()?this.toISOString():null},L.toISOString=function(){return this.$d.toISOString()},L.toString=function(){return this.$d.toUTCString()},F}(),k=P.prototype;return E.prototype=k,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",c],["$M",d],["$y",g],["$D",y]].forEach(function(F){k[F[1]]=function(L){return this.$g(L,F[0],F[1])}}),E.extend=function(F,L){return F.$i||(F(L,P,E),F.$i=!0),E},E.locale=O,E.isDayjs=$,E.unix=function(F){return E(1e3*F)},E.en=h[x],E.Ls=h,E.p={},E})})(i1);var xI=i1.exports;const o1=qs(xI);var s1={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(wm,function(){var n,r,i=1e3,o=6e4,s=36e5,a=864e5,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=31536e6,u=2628e6,d=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,p={years:c,months:u,days:a,hours:s,minutes:o,seconds:i,milliseconds:1,weeks:6048e5},g=function(h){return h instanceof T},y=function(h,R,$){return new T(h,$,R.$l)},v=function(h){return r.p(h)+"s"},b=function(h){return h<0},f=function(h){return b(h)?Math.ceil(h):Math.floor(h)},m=function(h){return Math.abs(h)},w=function(h,R){return h?b(h)?{negative:!0,format:""+m(h)+R}:{negative:!1,format:""+h+R}:{negative:!1,format:""}},T=function(){function h($,O,E){var _=this;if(this.$d={},this.$l=E,$===void 0&&(this.$ms=0,this.parseFromMilliseconds()),O)return y($*p[v(O)],this);if(typeof $=="number")return this.$ms=$,this.parseFromMilliseconds(),this;if(typeof $=="object")return Object.keys($).forEach(function(F){_.$d[v(F)]=$[F]}),this.calMilliseconds(),this;if(typeof $=="string"){var P=$.match(d);if(P){var k=P.slice(2).map(function(F){return F!=null?Number(F):0});return this.$d.years=k[0],this.$d.months=k[1],this.$d.weeks=k[2],this.$d.days=k[3],this.$d.hours=k[4],this.$d.minutes=k[5],this.$d.seconds=k[6],this.calMilliseconds(),this}}return this}var R=h.prototype;return R.calMilliseconds=function(){var $=this;this.$ms=Object.keys(this.$d).reduce(function(O,E){return O+($.$d[E]||0)*p[E]},0)},R.parseFromMilliseconds=function(){var $=this.$ms;this.$d.years=f($/c),$%=c,this.$d.months=f($/u),$%=u,this.$d.days=f($/a),$%=a,this.$d.hours=f($/s),$%=s,this.$d.minutes=f($/o),$%=o,this.$d.seconds=f($/i),$%=i,this.$d.milliseconds=$},R.toISOString=function(){var $=w(this.$d.years,"Y"),O=w(this.$d.months,"M"),E=+this.$d.days||0;this.$d.weeks&&(E+=7*this.$d.weeks);var _=w(E,"D"),P=w(this.$d.hours,"H"),k=w(this.$d.minutes,"M"),F=this.$d.seconds||0;this.$d.milliseconds&&(F+=this.$d.milliseconds/1e3,F=Math.round(1e3*F)/1e3);var L=w(F,"S"),N=$.negative||O.negative||_.negative||P.negative||k.negative||L.negative,D=P.format||k.format||L.format?"T":"",I=(N?"-":"")+"P"+$.format+O.format+_.format+D+P.format+k.format+L.format;return I==="P"||I==="-P"?"P0D":I},R.toJSON=function(){return this.toISOString()},R.format=function($){var O=$||"YYYY-MM-DDTHH:mm:ss",E={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return O.replace(l,function(_,P){return P||String(E[_])})},R.as=function($){return this.$ms/p[v($)]},R.get=function($){var O=this.$ms,E=v($);return E==="milliseconds"?O%=1e3:O=E==="weeks"?f(O/p[E]):this.$d[E],O||0},R.add=function($,O,E){var _;return _=O?$*p[v(O)]:g($)?$.$ms:y($,this).$ms,y(this.$ms+_*(E?-1:1),this)},R.subtract=function($,O){return this.add($,O,!0)},R.locale=function($){var O=this.clone();return O.$l=$,O},R.clone=function(){return y(this.$ms,this)},R.humanize=function($){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!$)},R.valueOf=function(){return this.asMilliseconds()},R.milliseconds=function(){return this.get("milliseconds")},R.asMilliseconds=function(){return this.as("milliseconds")},R.seconds=function(){return this.get("seconds")},R.asSeconds=function(){return this.as("seconds")},R.minutes=function(){return this.get("minutes")},R.asMinutes=function(){return this.as("minutes")},R.hours=function(){return this.get("hours")},R.asHours=function(){return this.as("hours")},R.days=function(){return this.get("days")},R.asDays=function(){return this.as("days")},R.weeks=function(){return this.get("weeks")},R.asWeeks=function(){return this.as("weeks")},R.months=function(){return this.get("months")},R.asMonths=function(){return this.as("months")},R.years=function(){return this.get("years")},R.asYears=function(){return this.as("years")},h}(),x=function(h,R,$){return h.add(R.years()*$,"y").add(R.months()*$,"M").add(R.days()*$,"d").add(R.hours()*$,"h").add(R.minutes()*$,"m").add(R.seconds()*$,"s").add(R.milliseconds()*$,"ms")};return function(h,R,$){n=$,r=$().$utils(),$.duration=function(_,P){var k=$.locale();return y(_,{$l:k},P)},$.isDuration=g;var O=R.prototype.add,E=R.prototype.subtract;R.prototype.add=function(_,P){return g(_)?x(this,_,1):O.bind(this)(_,P)},R.prototype.subtract=function(_,P){return g(_)?x(this,_,-1):E.bind(this)(_,P)}}})})(s1);var RI=s1.exports;const $I=qs(RI);/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kI={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=(t,e,n,r)=>{const i=S.forwardRef(({color:o="currentColor",size:s=24,stroke:a=2,className:l,children:c,...u},d)=>S.createElement("svg",{ref:d,...kI[t],width:s,height:s,className:["tabler-icon",`tabler-icon-${e}`,l].join(" "),...t==="filled"?{fill:o}:{strokeWidth:a,stroke:o},...u},[...r.map(([p,g])=>S.createElement(p,g)),...Array.isArray(c)?c:[c]]));return i.displayName=`${n}`,i};/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var II=Kr("outline","microphone-off","IconMicrophoneOff",[["path",{d:"M3 3l18 18",key:"svg-0"}],["path",{d:"M9 5a3 3 0 0 1 6 0v5a3 3 0 0 1 -.13 .874m-2 2a3 3 0 0 1 -3.87 -2.872v-1",key:"svg-1"}],["path",{d:"M5 10a7 7 0 0 0 10.846 5.85m2 -2a6.967 6.967 0 0 0 1.152 -3.85",key:"svg-2"}],["path",{d:"M8 21l8 0",key:"svg-3"}],["path",{d:"M12 17l0 4",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var a1=Kr("outline","microphone","IconMicrophone",[["path",{d:"M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M5 10a7 7 0 0 0 14 0",key:"svg-1"}],["path",{d:"M8 21l8 0",key:"svg-2"}],["path",{d:"M12 17l0 4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var PI=Kr("outline","phone-call","IconPhoneCall",[["path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M15 7a2 2 0 0 1 2 2",key:"svg-1"}],["path",{d:"M15 3a6 6 0 0 1 6 6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var DI=Kr("outline","phone-pause","IconPhonePause",[["path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M20 3l0 4",key:"svg-1"}],["path",{d:"M16 3l0 4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _I=Kr("outline","phone-x","IconPhoneX",[["path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M16 4l4 4m0 -4l-4 4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var AI=Kr("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var NI=Kr("outline","volume-off","IconVolumeOff",[["path",{d:"M15 8a5 5 0 0 1 1.912 4.934m-1.377 2.602a5 5 0 0 1 -.535 .464",key:"svg-0"}],["path",{d:"M17.7 5a9 9 0 0 1 2.362 11.086m-1.676 2.299a9 9 0 0 1 -.686 .615",key:"svg-1"}],["path",{d:"M9.069 5.054l.431 -.554a.8 .8 0 0 1 1.5 .5v2m0 4v8a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l1.294 -1.664",key:"svg-2"}],["path",{d:"M3 3l18 18",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var l1=Kr("outline","volume","IconVolume",[["path",{d:"M15 8a5 5 0 0 1 0 8",key:"svg-0"}],["path",{d:"M17.7 5a9 9 0 0 1 0 14",key:"svg-1"}],["path",{d:"M6 15h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l3.5 -4.5a.8 .8 0 0 1 1.5 .5v14a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5",key:"svg-2"}]]);const MI=()=>{const{client:t}=$c(),[e,n]=S.useState([]);return S.useEffect(()=>{const r=()=>{if(t){const o=t.getSessions();o.forEach(s=>{var a;s.on("statusUpdate",()=>n(t.getSessions())),s.on("mute",()=>n(t.getSessions())),(a=s.localStream)==null||a.addEventListener("addtrack",()=>n(t.getSessions()))}),n(o)}},i=()=>{t&&n(t.getSessions())};return t&&(t.on("sessionAdded",r),t.on("sessionRemoved",i)),()=>{t&&(t.removeListener("sessionAdded",r),t.removeListener("sessionRemoved",i))}},[t]),e},OI=t=>{const[e,n]=S.useState(0);return S.useEffect(()=>{const r=i=>{n(i)};return t.on("duration",r),()=>{t.removeListener("duration",r)}},[]),e},LI=t=>{const[e,n]=S.useState(t.media.input.muted),[r,i]=S.useState(t.media.output.muted),[o,s]=S.useState(t.media.output.volume),[a,l]=S.useState(t.media.input.volume);return S.useEffect(()=>(t.media.on("outputMuted",i),t.media.on("inputMuted",n),t.media.on("outputVolume",s),t.media.on("inputVolume",l),()=>{t.media.removeListener("inputMuted",n),t.media.removeListener("outputMuted",i),t.media.removeListener("outputVolume",s),t.media.removeListener("inputVolume",l)}),[]),{output:{muted:r,volume:o},input:{muted:e,volume:a}}};function HI(){const[t,e]=S.useState([]);return S.useEffect(()=>{var r;const n=()=>{var i;return(i=navigator.mediaDevices)==null?void 0:i.enumerateDevices().then(o=>e(o))};return(r=navigator.mediaDevices)==null||r.addEventListener("devicechange",n),n(),()=>{var i;(i=navigator.mediaDevices)==null||i.removeEventListener("devicechange",n)}},[]),{audioInputDevices:t.filter(n=>n.kind==="audioinput"),videoInputDevices:t.filter(n=>n.kind==="videoinput"),audioOutputDevices:t.filter(n=>n.kind==="audiooutput")}}class jI{constructor(e,n,r){Qr(this,"audio",null);Qr(this,"canvas",null);Qr(this,"canvasContext",null);Qr(this,"analyser",null);Qr(this,"animationFrame",0);Qr(this,"color","#efefef");this.animationFrame=0,this.audio=e,r&&(this.color=r),this.canvas=n,this.canvas&&(this.canvasContext=this.canvas.getContext("2d"))}init(){const e=new(window.AudioContext||window.webkitAudioContext);this.analyser=e.createAnalyser(),this.analyser.fftSize=512,this.analyser.minDecibels=-90,this.analyser.maxDecibels=-10,this.analyser.smoothingTimeConstant=.85,this.audio&&e.createMediaStreamSource(this.audio).connect(this.analyser)}play(){this.analyser||this.init(),this.animate()}pause(){cancelAnimationFrame(this.animationFrame)}animate(){this.animationFrame=requestAnimationFrame(()=>this.animate()),this.onFrame()}onFrame(){if(this.analyser&&this.canvasContext&&this.canvas){const e=new Uint8Array(this.analyser.frequencyBinCount),n=this.canvasContext.createLinearGradient(0,0,0,this.canvas.height||64);n.addColorStop(0,this.color),n.addColorStop(1,this.color),this.analyser.getByteFrequencyData(e),this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height);const r=this.canvas.width/e.length*10;let i=0,o=0;const s=2;for(let a=0;a<e.length;a++)this.canvasContext.fillStyle=n,i=e[a]/(this.canvas.height-20),this.canvasContext.beginPath(),this.canvasContext.roundRect(o,this.canvas.height/2,r,i,[0,0,3,3]),this.canvasContext.fill(),this.canvasContext.fillRect(o,this.canvas.height/2,r,1),this.canvasContext.beginPath(),this.canvasContext.roundRect(o,this.canvas.height/2-i,r,i,[3,3,0,0]),this.canvasContext.fill(),o+=r+s}}}const gm=({mediaStream:t,type:e})=>{const n=C.useRef(null),[r,i]=C.useState(),s=Vn().colors.gray[4];return S.useEffect(()=>{const a=()=>{if(t&&n.current){const c=new jI(t,n.current,s);i(c),c.play()}},l=()=>{t&&i(c=>{c==null||c.pause()})};return t&&(t.addEventListener("addtrack",a),t.addEventListener("removetrack",l)),()=>{t==null||t.removeEventListener("addtrack",a),t==null||t.removeEventListener("removetrack",l)}},[t]),S.useEffect(()=>()=>{r==null||r.pause()},[r]),W.jsxs(Br,{gap:5,children:[e==="local"?W.jsx(a1,{size:16,color:s}):W.jsx(l1,{size:16,color:s}),W.jsx("canvas",{ref:n,width:50,height:35})]})};o1.extend($I);const FI=({session:t})=>{const e=OI(t);return W.jsx(W.Fragment,{children:o1.duration(e*1e3).format("mm:ss")})},mm=({session:t,media:e="output"})=>{const{output:{muted:n,volume:r},input:{muted:i,volume:o}}=LI(t);return W.jsxs(te,{children:[W.jsx(xf,{min:0,max:1,step:.025,label:s=>`${s*100} %`,value:e==="output"?r:o,onChange:s=>{e==="output"?t.media.output.volume=s:e==="input"&&(t.media.input.volume=s)}}),W.jsx(cc,{size:"xs",mt:"xs",checked:e==="input"?i:n,label:e==="input"?"Mute mic":"Mute speaker",onChange:s=>{e==="input"&&(t.media.input.muted=s.currentTarget.checked),e==="output"&&(t.media.output.muted=s.currentTarget.checked)}})]})},qI=({session:t})=>{const e=HI();return W.jsxs(te,{children:[W.jsx($l,{label:"Input device",onChange:async n=>{t.media.input.id=n||void 0},value:t.media.input.id,data:e.audioInputDevices.map(n=>({label:n.label,value:n.deviceId}))}),W.jsx($l,{label:"Output device",onChange:async n=>{t.media.setOutput({id:n||void 0,audio:new Audio})},value:t.media.output.id,data:e.audioOutputDevices.map(n=>({label:n.label,value:n.deviceId}))})]})},zI=()=>{const t=MI();return W.jsx(Ne.ScrollContainer,{minWidth:500,children:W.jsxs(Ne,{verticalSpacing:"sm",children:[W.jsx(Ne.Thead,{children:W.jsxs(Ne.Tr,{children:[W.jsx(Ne.Th,{children:"Phone Number"}),W.jsx(Ne.Th,{children:"Status"}),W.jsx(Ne.Th,{children:"Visual"}),W.jsx(Ne.Th,{children:"Duration"}),W.jsx(Ne.Th,{children:"Action"})]})}),W.jsx(Ne.Tbody,{children:t.map(e=>W.jsxs(Ne.Tr,{children:[W.jsx(Ne.Td,{children:e.remoteIdentity.phoneNumber}),W.jsx(Ne.Td,{children:W.jsx(uc,{color:"gray",variant:"light",children:e.status})}),W.jsx(Ne.Td,{children:W.jsxs(Br,{children:[W.jsx(gm,{mediaStream:e.media.localStream,type:"local"}),W.jsx(gm,{mediaStream:e.media.remoteStream,type:"remote"})]})}),W.jsx(Ne.Td,{children:W.jsx(FI,{session:e})}),W.jsxs(Ne.Td,{children:[W.jsxs(wt,{width:350,position:"bottom",withArrow:!0,shadow:"md",children:[W.jsx(wt.Target,{children:W.jsx(Qn,{variant:"outline",radius:"lg",children:W.jsx(AI,{size:15})})}),W.jsx(wt.Dropdown,{children:W.jsx(qI,{session:e})})]})," ",W.jsxs(wt,{width:200,position:"bottom",withArrow:!0,shadow:"md",children:[W.jsx(wt.Target,{children:W.jsx(Qn,{variant:"outline",radius:"lg",children:e.media.output.muted?W.jsx(NI,{size:15}):W.jsx(l1,{size:15})})}),W.jsx(wt.Dropdown,{children:W.jsx(mm,{session:e,media:"output"})})]})," ",W.jsxs(wt,{width:200,position:"bottom",withArrow:!0,shadow:"md",children:[W.jsx(wt.Target,{children:W.jsx(Qn,{color:"blue",radius:"lg",variant:"outline",disabled:e.status===Qe.RINGING,children:e.media.input.muted?W.jsx(II,{size:15}):W.jsx(a1,{size:15})})}),W.jsx(wt.Dropdown,{children:W.jsx(mm,{session:e,media:"input"})})]})," ",W.jsx(Qn,{color:"blue",radius:"lg",variant:"outline",disabled:e.status===Qe.RINGING,onClick:()=>e.status!==Qe.ON_HOLD?e.hold():e.unhold(),children:e.status===Qe.ON_HOLD?W.jsx(PI,{size:15}):W.jsx(DI,{size:15})})," ",W.jsx(Qn,{size:"lg",color:"red",radius:"lg",onClick:()=>{e.status===Qe.RINGING&&!e.isIncoming?e.cancel():e.status===Qe.ACTIVE||e.status===Qe.ON_HOLD?e.bye():e.terminate()},children:W.jsx(_I,{size:15})})]})]},e.id))})]})})};function vm(){const{client:t}=$c(),e=S.useRef(null);return W.jsxs(bf,{mt:"lg",size:"lg",children:[W.jsx(kl,{order:4,children:"Example demo sdk"}),W.jsxs(so,{mt:"md",children:[W.jsx(so.Col,{span:4,children:W.jsx(CI,{})}),W.jsxs(so.Col,{span:8,children:[W.jsxs(Br,{children:[W.jsx(lf,{children:"Status"}),W.jsx(TI,{})]}),W.jsxs(Br,{mt:"md",children:[W.jsx(oi,{ref:e,placeholder:"sip:number@domain.com"}),W.jsx(Ur,{onClick:()=>{e.current&&(t==null||t.invite(e.current.value).then(()=>{}))},children:"Dial"})]}),W.jsx(kl,{order:4,mt:"md",mb:"md",children:"Sessions"}),W.jsx(zI,{})]})]})]})}const BI=hk([{path:"/",element:W.jsx(vm,{})},{path:"/webphone-sdk-demo",element:W.jsx(vm,{})}]);function UI(){return W.jsx(bk,{router:BI})}const VI={};function WI(){return W.jsx(EI,{children:W.jsx(ry,{theme:VI,children:W.jsx(i$,{children:W.jsx(UI,{})})})})}Cu.createRoot(document.getElementById("root")).render(W.jsx(WI,{}));
